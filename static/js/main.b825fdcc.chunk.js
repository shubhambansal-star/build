(this["webpackJsonpgull-react"]=this["webpackJsonpgull-react"]||[]).push([[0],{102:function(e,t,a){"use strict";var n=a(45);t.a=Object(n.a)()},104:function(e,t,a){"use strict";var n=a(7),l=a(6),r=a(71),i=a(12),s=Object(n.a)((function e(){var t=this;Object(l.a)(this,e),this.loginWithEmailAndPassword=function(e,a){return i.a.post("/api/users/login/",{email:e,password:a}).then((function(e){return t.setSession(e.data.access),t.setUser(e.data),e.data}))},this.loginWithToken=function(){return i.a.get("/api/users/check-authentication/").then((function(e){return t.setSession(e.data.access),t.setUser(e.data),e.data})).catch((function(e){e.response.status}))},this.logout=function(){t.setSession(null),t.removeUser()},this.setSession=function(e){e?(r.a.setItem("jwt_token",e),i.a.defaults.headers.common.Authorization="Bearer "+e):(localStorage.removeItem("jwt_token"),delete i.a.defaults.headers.common.Authorization)},this.setUser=function(e){r.a.setItem("auth_user",e)},this.removeUser=function(){localStorage.removeItem("auth_user")}}));t.a=new s},12:function(e,t,a){"use strict";var n=a(26),l=a.n(n),r=a(71).a.getItem("jwt_token");l.a.defaults.xsrfCookieName="csrftoken",l.a.defaults.xsrfHeaderName="X-CSRFToken",null!==r&&(l.a.defaults.headers.common.Authorization="Bearer "+r),t.a=l.a.create({baseURL:"http://192.168.0.164:8000/"})},128:function(e,t,a){"use strict";a.d(t,"a",(function(){return i})),a.d(t,"c",(function(){return s})),a.d(t,"b",(function(){return o})),a.d(t,"d",(function(){return c})),a.d(t,"e",(function(){return m}));var n=a(104),l=a(52),r=a(102),i="LOGIN_ERROR",s="LOGIN_SUCCESS",o="LOGIN_LOADING",c="RESET_PASSWORD";function m(e){var t=e.email,a=e.password;return function(e){e({type:o}),n.a.loginWithEmailAndPassword(t,a).then((function(t){return e(Object(l.e)(t)),r.a.push({pathname:"/"}),e({type:s})})).catch((function(t){return e({type:i,payload:t})}))}}},300:function(e,t,a){e.exports=a(524)},305:function(e,t,a){},306:function(e,t,a){},52:function(e,t,a){"use strict";a.d(t,"b",(function(){return r})),a.d(t,"a",(function(){return i})),a.d(t,"c",(function(){return s})),a.d(t,"e",(function(){return o})),a.d(t,"d",(function(){return c}));var n=a(102),l=a(104),r="USER_SET_DATA",i="USER_REMOVE_DATA",s="USER_LOGGED_OUT";function o(e){return function(t){t({type:r,data:e})}}function c(){return function(e){l.a.logout(),n.a.push({pathname:"/session/signin"}),e({type:s})}}},524:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(43),i=a.n(r),s=(a(305),a(306),a(42)),o=a(28),c=l.a.createContext({}),m=a(102),u=a(20),d=[{path:"/session/signup",component:Object(n.lazy)((function(){return a.e(6).then(a.bind(null,543))}))},{path:"/session/signin",component:Object(n.lazy)((function(){return a.e(5).then(a.bind(null,544))}))},{path:"/session/forgot-password",component:Object(n.lazy)((function(){return a.e(4).then(a.bind(null,545))}))},{path:"/session/404",component:Object(n.lazy)((function(){return a.e(3).then(a.bind(null,546))}))}],p=a(6),h=a(7),b=a(9),v=a(8),g=a(22),E=a.n(g),f=function(e){return function(t){t({type:"LAYOUT_SET_SETTINGS",data:e})}},y=function(e){return function(t){t({type:"LAYOUT_SET_DEFAULT_SETTINGS",data:e})}},N=a(160),k=a(540),_=a(131),w=a(159),O=a(52),S=a(46),x=function(e){Object(b.a)(a,e);var t=Object(v.a)(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={},e.handleMenuClick=function(){var t=e.props,a=t.setLayoutSettings,n=t.settings;a(Object(S.merge)({},n,{layout2Settings:{leftSidebar:{open:!n.layout2Settings.leftSidebar.open,secondaryNavOpen:!n.layout2Settings.leftSidebar.open}}}))},e.toggleFullScreen=function(){document.fullscreenEnabled&&(document.fullscreen?document.exitFullscreen():document.documentElement.requestFullscreen())},e.handleSearchBoxOpen=function(){var t=e.props,a=t.setLayoutSettings,n=t.settings;a(Object(S.merge)({},n,{layout2Settings:{searchBox:{open:!0}}}))},e}return Object(h.a)(a,[{key:"render",value:function(){return l.a.createElement("div",{className:"main-header"},l.a.createElement("div",{className:"logo"},l.a.createElement("img",{src:"http://skrkmk.in/static/logo512.png",alt:""})),l.a.createElement("div",{className:"menu-toggle",onClick:this.handleMenuClick},l.a.createElement("div",null),l.a.createElement("div",null),l.a.createElement("div",null)),l.a.createElement("div",{style:{margin:"auto"}}),l.a.createElement("div",{className:"header-part-right"},l.a.createElement("i",{className:"i-Full-Screen header-icon d-none d-sm-inline-block","data-fullscreen":!0,onClick:this.toggleFullScreen}),l.a.createElement("div",{className:"user col align-self-end"},l.a.createElement(k.a,null,l.a.createElement(w.a,{variant:"link",className:"toggle-hidden"},l.a.createElement("img",{src:"http://skrkmk.in/static/defaultuser.webp",id:"userDropdown",alt:"","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"})),l.a.createElement(_.a,null,l.a.createElement("div",{className:"dropdown-header"},l.a.createElement("i",{className:"i-Lock-User mr-1"})," Timothy Carlson"),l.a.createElement("span",{className:"dropdown-item cursor-pointer",onClick:this.props.logoutUser},"Sign out"))))))}}]),a}(n.Component),C=Object(o.g)(Object(s.b)((function(e){return{setDefaultSettings:E.a.func.isRequired,setLayoutSettings:E.a.func.isRequired,logoutUser:E.a.func.isRequired,user:e.user,settings:e.layout.settings}}),{setLayoutSettings:f,setDefaultSettings:y,logoutUser:O.d})(x)),j=a(1),B=a(17),I=[{name:" Invoicing",description:"",type:"dropDown",icon:"i-Billing",open:"invoice",sub:[{name:"Company",description:"Company",type:"dropDown",icon:"i-Administrator",sub:[{icon:"i-Add-UserStar",name:"Add Company",path:"/invoice/company/create"},{icon:"i-Receipt-4",name:"Company List",path:"/invoice/company/list"}]},{name:"Party",description:"Party",type:"dropDown",icon:"i-Checked-User",sub:[{icon:"i-Add-User",name:"Add Party",path:"/invoice/party/create",type:"link"},{icon:"i-Receipt-4",name:"Party List",path:"/invoice/party/list",type:"link"}]},{name:"Invoice",description:"Invoice",type:"dropDown",icon:"i-Billing",sub:[{icon:"i-Add-File",name:"Create Invoice",path:"/invoice/invoice/create",type:"link"},{icon:"i-Receipt-4",name:"Invoice List",path:"/invoice/invoice/list",type:"link"}]}]},{name:" Orders",description:"",type:"dropDown",icon:"i-Shopping-Cart",open:"orders",sub:[{name:"Broker",description:"Broker",type:"dropDown",icon:"",sub:[{icon:"",name:"Add Broker",path:"/orders/broker/create"},{icon:"",name:"Broker List",path:"/orders/broker/list"}]},{name:"Party",description:"Party",type:"dropDown",icon:"",sub:[{icon:"",name:"Add Party",path:"/orders/party/create"},{icon:"",name:"Party List",path:"/orders/party/list"}]},{name:"Sales Order",description:"Company",type:"dropDown",icon:"",sub:[{icon:"",name:"Add Sales Order",path:"/orders/sales/create"},{icon:"",name:"Sales Order List",path:"/orders/sales/list"}]},{name:"Purchase Order",description:"Party",type:"dropDown",icon:"",sub:[{icon:"",name:"Add Purchase Order",path:"/orders/purchase/create",type:"link"},{icon:"",name:"Purchase Order List",path:"/orders/purchase/list",type:"link"}]},{name:"Loading",description:"Invoice",type:"dropDown",icon:"i-Billing",sub:[{icon:"i-Add-File",name:"Loading",path:"/orders/loading/create",type:"link"},{icon:"i-Receipt-4",name:"Invoice List",path:"/orders/loading/list",type:"link"}]},{name:"Unloading",description:"Invoice",type:"dropDown",icon:"i-Billing",sub:[{icon:"i-Add-File",name:"Create Invoice",path:"/orders/unload/create",type:"link"},{icon:"i-Receipt-4",name:"Invoice List",path:"/orders/unload/list",type:"link"}]}]}],D=a(37),P=a.n(D);function L(){return!!window&&window.matchMedia("(max-width: 767px)").matches}function T(e){return Object.entries(e).filter((function(e){return e[1]})).map((function(e){return e[0]})).join(" ")}var A=a(134),M=a.n(A),q=a(111),R=function(e){Object(b.a)(a,e);var t=Object(v.a)(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={collapsed:!0},e.elementRef=l.a.createRef(),e.componentHeight=0,e.onItemClick=function(){e.setState({collapsed:!e.state.collapsed})},e}return Object(h.a)(a,[{key:"calcaulateHeight",value:function(e){if("child"!==e.name){var t,a=Object(q.a)(e.children);try{for(a.s();!(t=a.n()).done;){var n=t.value;this.calcaulateHeight(n)}}catch(l){a.e(l)}finally{a.f()}}this.componentHeight+=e.clientHeight}},{key:"componentDidMount",value:function(){this.calcaulateHeight(this.elementRef)}},{key:"render",value:function(){var e=this,t=this.state.collapsed,a=this.props.children,n=this.props.item,r=n.name,i=n.icon;return l.a.createElement("li",{className:T({"nav-item dropdown-sidemenu":!0,open:!t})},l.a.createElement("div",{onClick:this.onItemClick},l.a.createElement("i",{className:"nav-icon ".concat(i)}),l.a.createElement("span",{className:"item-name"},r),l.a.createElement("i",{className:"dd-arrow i-Arrow-Down"})),l.a.createElement("ul",{className:"submenu",ref:function(t){return e.elementRef=t},style:t?{maxHeight:"0px"}:{maxHeight:this.componentHeight+"px"}},a))}}]),a}(n.Component),z=function(e){Object(b.a)(a,e);var t=Object(v.a)(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={open:!1},e.onItemClick=function(t){t.preventDefault(),e.setState({open:!e.state.open})},e.renderLevels=function(t){return t.map((function(t,a){return t.sub?l.a.createElement(R,{key:a,item:t},e.renderLevels(t.sub)):l.a.createElement("li",{key:a,className:T({"nav-item":!0,open:e.state.open}),onClick:e.props.closeSecSidenav},l.a.createElement(B.b,{activeClassName:"selected",exact:!0,to:t.path},l.a.createElement("i",{className:"nav-icon ".concat(t.icon)}),l.a.createElement("span",{className:"item-name"},t.name)))}))},e}return Object(h.a)(a,[{key:"render",value:function(){return l.a.createElement("ul",{className:"childNav"},this.renderLevels(this.props.menu))}}]),a}(n.Component),F={position:"fixed",left:0,right:0,top:"calc(50% - 20px)",margin:"auto",height:"40px",width:"40px",zIndex:324324324},Y=function(){return l.a.createElement("div",{style:F},l.a.createElement("div",{className:"spinner spinner-bubble spinner-bubble-primary"}))},V=function(e){Object(b.a)(a,e);var t=Object(v.a)(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).windowListener=null,e.state={selectedItem:{},navOpen:!0,secondaryNavOpen:!0},e.onMainItemMouseEnter=function(t){e.setSelected(t)},e.findSelecteditem=function(){var t=e.props.history.location.pathname.split("/")[1];I.map((function(e){console.log(e)})),I.forEach((function(a){a.open===t&&e.setSelected(a)}))},e.onMainItemMouseLeave=function(){},e.setSelected=function(t){e.setState({selectedItem:t})},e.removeSelected=function(){e.setState({selectedItem:null})},e.closeDropDownMenu=function(){L()&&e.closeSecNav()},e.closeSecNav=function(){var t=e.props,a=t.setLayoutSettings,n=t.settings,l={open:!1};a(Object(S.merge)({},n,{layout2Settings:{leftSidebar:Object(j.a)(Object(j.a)({},l),{},{secondaryNavOpen:!1})}}))},e.openSecNav=function(){var t=e.props,a=t.setLayoutSettings,n=t.settings;a(Object(S.merge)({},n,{layout2Settings:{leftSidebar:{open:!0,secondaryNavOpen:!0}}}))},e}return Object(h.a)(a,[{key:"componentDidUpdate",value:function(){console.log(this.state.selectedItem)}},{key:"componentDidMount",value:function(){var e=this;setTimeout((function(){e.findSelecteditem()})),window&&(window.innerWidth<1200?this.closeSecNav():this.openSecNav()),this.windowListener=window.addEventListener("resize",(function(){window.innerWidth<1200?e.closeSecNav():e.openSecNav()}))}},{key:"componentWillUnmount",value:function(){this.windowListener&&window.removeEventListener("resize",this.windowListener)}},{key:"render",value:function(){var e=this,t=this.props.settings,a=this.state.selectedItem;return l.a.createElement("div",{className:"side-content-wrap"},l.a.createElement(M.a,{className:T({"sidebar-left o-hidden rtl-ps-none":!0,open:t.layout2Settings.leftSidebar.open})},l.a.createElement("ul",{className:"navigation-left"},I.map((function(t,n){return l.a.createElement("li",{className:T({"nav-item":!0,active:t.name===a.name}),onClick:function(){e.onMainItemMouseEnter(t)},key:n},t.path&&"extLink"!==t.type&&l.a.createElement(B.b,{className:"nav-item-hold",to:t.path},l.a.createElement("i",{className:"nav-icon ".concat(t.icon)}),l.a.createElement("span",{className:"nav-text"},t.name)),t.path&&"extLink"===t.type&&l.a.createElement("a",{className:"nav-item-hold",href:t.path},l.a.createElement("i",{className:"nav-icon ".concat(t.icon)}),l.a.createElement("span",{className:"nav-text"},t.name)),!t.path&&l.a.createElement("div",{className:"nav-item-hold"},l.a.createElement("i",{className:"nav-icon ".concat(t.icon)}),l.a.createElement("span",{className:"nav-text"},t.name)),l.a.createElement("div",{className:"triangle"}))})))),l.a.createElement(M.a,{className:T({"sidebar-left-secondary o-hidden rtl-ps-none":!0,open:t.layout2Settings.leftSidebar.secondaryNavOpen})},l.a.createElement("i",{className:"sidebar-close i-Close",onClick:this.closeSecNav}),l.a.createElement("div",{className:"ml-4 mb-4"},l.a.createElement("img",{src:"http://skrkmk.in/static/logo.png",alt:"logo"})),l.a.createElement("div",{className:"header mb-3 ml-4"},l.a.createElement("h5",{className:"font-weight-bold mb-1"}," \xa0 ",a.name),l.a.createElement("p",null,a.description)),a&&a.sub&&l.a.createElement(z,{menu:a.sub,closeSecSidenav:this.closeDropDownMenu})),l.a.createElement("div",{className:T({"sidebar-overlay":!0,open:t.layout2Settings.leftSidebar.secondaryNavOpen})}))}}]),a}(n.Component),U=Object(o.g)(Object(s.b)((function(e){return{setLayoutSettings:E.a.func.isRequired,settings:e.layout.settings}}),{setLayoutSettings:f})(V)),K=function(e){Object(b.a)(a,e);var t=Object(v.a)(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={},e.handleSearchBoxClose=function(){var t=e.props,a=t.setLayoutSettings,n=t.settings;a(Object(S.merge)({},n,{layout2Settings:{searchBox:{open:!1}}}))},e}return Object(h.a)(a,[{key:"render",value:function(){var e=this.props,t=e.settings,a=e.routes;return l.a.createElement("div",null,l.a.createElement("div",{className:"".concat(T({"app-admin-wrap layout-sidebar-compact clearfix":!0,"sidenav-open":t.layout2Settings.leftSidebar.open})," ").concat(t.layout2Settings.leftSidebar.theme)},l.a.createElement(U,null),l.a.createElement("div",{className:T({"main-content-wrap d-flex flex-column":!0,"sidenav-open":t.layout2Settings.leftSidebar.open})},t.layout2Settings.header.show&&l.a.createElement(C,null),l.a.createElement(n.Suspense,{fallback:l.a.createElement(Y,null)},l.a.createElement("div",{className:"main-content"},Object(N.a)(a))))))}}]),a}(n.Component),G={layout2:Object(s.b)((function(e){return{settings:e.layout.settings}}),{setLayoutSettings:f})(K)},Q=function(e){Object(b.a)(a,e);var t=Object(v.a)(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={},e.sidebarColors=[{name:"gradient-purple-indigo"},{name:"gradient-black-blue"},{name:"gradient-black-gray"},{name:"gradient-steel-gray"},{name:"dark-purple"},{name:"slate-gray"},{name:"midnight-blue"},{name:"blue"},{name:"indigo"},{name:"pink"},{name:"red"},{name:"purple"}],e.handleLayoutChange=function(t){var a=e.props,n=a.settings;(0,a.setLayoutSettings)(Object(S.merge)({},n,{activeLayout:t}))},e.handleCustomizerToggle=function(){var t=e.props,a=t.settings;(0,t.setLayoutSettings)(Object(S.merge)({},a,{customizer:{open:!a.customizer.open}}))},e.handleDirectionChange=function(t){var a=e.props,n=a.settings,l=a.setLayoutSettings,r="rtl"===n.dir?"ltr":"rtl";document.documentElement.setAttribute("dir",r),l(Object(S.merge)({},n,{dir:r}))},e.changeSidebarColor=function(t){var a=e.props,n=a.settings;(0,a.setLayoutSettings)(Object(S.merge)({},n,{layout2Settings:{leftSidebar:{theme:t}}}))},e}return Object(h.a)(a,[{key:"render",value:function(){var e=this,t=this.props.settings,a=t.activeLayout;return l.a.createElement("div",{id:"customizer",className:T({customizer:!0,open:t.customizer.open})},l.a.createElement("div",{className:"handle",onClick:this.handleCustomizerToggle},l.a.createElement("i",{className:"i-Gear spin"})),l.a.createElement(M.a,{className:"customizer-body","data-perfect-scrollbar":!0,"data-suppress-scroll-x":"true"},l.a.createElement("div",{className:"accordion",id:"accordionCustomizer"},l.a.createElement("div",{className:"card"},l.a.createElement("div",{className:"card-header",id:"headingOne"},l.a.createElement("p",{className:"mb-0"},"Sidebar Layout")),l.a.createElement("div",{id:"collapseOne",className:"collapse show","aria-labelledby":"headingThree","data-parent":"#accordionCustomizer"},l.a.createElement("div",{className:"card-body layouts"},l.a.createElement("div",{className:T({"layout-box":!0,active:"layout1"===a}),onClick:function(){return e.handleLayoutChange("layout1")}},l.a.createElement("img",{src:"/assets/images/screenshots/04_preview.png",alt:""}),l.a.createElement("i",{className:"i-Eye"}," ")),l.a.createElement("div",{className:T({"layout-box":!0,active:"layout2"===a}),onClick:function(){return e.handleLayoutChange("layout2")}},l.a.createElement("img",{src:"/assets/images/screenshots/02_preview.png",alt:""}),l.a.createElement("i",{className:"i-Eye"}," "))))),"layout2"===t.activeLayout&&l.a.createElement("div",{className:"card"},l.a.createElement("div",{className:"card-header",id:"headingOne"},l.a.createElement("p",{className:"mb-0"},"Sidebar Colors")),l.a.createElement("div",{id:"collapseOne",className:"collapse show","aria-labelledby":"headingOne","data-parent":"#accordionCustomizer"},l.a.createElement("div",{className:"card-body"},l.a.createElement("div",{className:"colors sidebar-colors"},this.sidebarColors.map((function(t,a){return l.a.createElement("span",{className:"color ".concat(t.name),title:t.name,onClick:function(){return e.changeSidebarColor("sidebar-".concat(t.name))},key:a},l.a.createElement("i",{className:"i-Eye"}))})))))),l.a.createElement("div",{className:"card"},l.a.createElement("div",{className:"card-header",id:"headingOne"},l.a.createElement("p",{className:"mb-0"},"RTL")),l.a.createElement("div",{id:"collapseTwo",className:"collapse show","aria-labelledby":"headingTwo","data-parent":"#accordionCustomizer"},l.a.createElement("div",{className:"card-body"},l.a.createElement("label",{className:"checkbox checkbox-primary"},l.a.createElement("input",{type:"checkbox",id:"rtl-checkbox",checked:"rtl"===t.dir,onChange:this.handleDirectionChange}),l.a.createElement("span",null,"Enable RTL"),l.a.createElement("span",{className:"checkmark"}))))))))}}]),a}(n.Component),W=Object(s.b)((function(e){return{setLayoutSettings:E.a.func.isRequired,setDefaultSettings:E.a.func.isRequired,settings:e.layout.settings}}),{setLayoutSettings:f,setDefaultSettings:y})(Q),Z=function(e){Object(b.a)(a,e);var t=Object(v.a)(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={},e.initAppDirection=function(){var t=e.props.settings;setTimeout((function(){document.documentElement.setAttribute("dir",t.dir)}))},e}return Object(h.a)(a,[{key:"componentDidUpdate",value:function(e){this.props.location.pathname,e.location.pathname}},{key:"componentDidMount",value:function(){this.initAppDirection()}},{key:"render",value:function(){var e=this.props,t=e.activeLayout,a=e.route,r=e.settings,i=G[t];return l.a.createElement(n.Suspense,null,l.a.createElement(l.a.Fragment,null,l.a.createElement(i,{routes:a.routes}),r.customizer.show&&l.a.createElement(W,null)))}}]),a}(n.Component);Z.contextType=c;var H=Object(o.g)(Object(s.b)((function(e){return{setLayoutSettings:g.PropTypes.func.isRequired,setDefaultSettings:g.PropTypes.func.isRequired,settings:e.layout.settings,activeLayout:e.layout.settings.activeLayout,defaultSettings:e.layout.defaultSettings}}),{setLayoutSettings:f,setDefaultSettings:y})(Z)),$=a(71),J=function(e){Object(b.a)(a,e);var t=Object(v.a)(a);function a(e,n){var l;Object(p.a)(this,a),l=t.call(this,e);var r=n.routes;return l.state={authenticated:!1,routes:r},l}return Object(h.a)(a,[{key:"componentDidMount",value:function(){this.setState({routes:Object(S.flatMap)(this.state.routes,(function(e){return e.routes?Object(u.a)(e.routes):[e]}))}),this.state.authenticated||this.redirectRoute(this.props)}},{key:"componentDidUpdate",value:function(){this.state.authenticated||this.redirectRoute(this.props)}},{key:"shouldComponentUpdate",value:function(e,t){return t.authenticated!==this.state.authenticated}},{key:"redirectRoute",value:function(e){var t=e.location,a=e.history,n=t.pathname;a.push({pathname:"/session/signin",state:{redirectUrl:n}})}},{key:"render",value:function(){var e=this.props.route;return this.state.authenticated?l.a.createElement(n.Fragment,null,l.a.createElement(H,{route:e})):null}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a=e.location.pathname;t.routes.find((function(e){return e.path===a}));return{authenticated:null!==$.a.getItem("jwt_token")}}}]),a}(n.Component);J.contextType=c;var X=Object(o.g)(Object(s.b)((function(e){return{user:e.user}}))(J)),ee=a(541),te=a(288),ae=a(19),ne=a.n(ae),le=a(27),re=a(12),ie=function(){var e=Object(le.a)(ne.a.mark((function e(t){return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("create"===t){e.next=4;break}return e.next=3,re.a.get("/api/bill-detail/".concat(t));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),se=function(){var e=Object(le.a)(ne.a.mark((function e(t){return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,re.a.get("/api/bill-get/".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),oe=function(e){return re.a.delete("/api/bill-detail/"+e)},ce=function(e){return re.a.put("/api/bill-detail/0",e)},me=function(e,t){return re.a.patch("/api/bill-detail/"+e,t)},ue=function(){return re.a.get("/api/bill-by-name-list/all")},de=function(e,t,a,n,l){return 0===e?re.a.get("/api/bill-details-list/1?is_active=True&bw=A&search_year=".concat(n,"&limit=").concat(t,"&offset=").concat(a*t,"&search_bill=").concat(l)):"bw"===e?re.a.get("/api/bill-details-list/1?is_active=True&bw=B&search_year=".concat(n,"&limit=").concat(t,"&offset=").concat(a*t,"&search_bill=").concat(l)):"canceled"===e?re.a.get("/api/bill-details-list/1?is_active=False&search_year=".concat(n,"&limit=").concat(t,"&offset=").concat(a*t,"&search_bill=").concat(l)):re.a.get("/api/bill-details-list/1?is_active=True&bill_by=".concat(e,"&bw=A&search_year=").concat(n,"&limit=").concat(t,"&offset=").concat(a*t,"&search_bill=").concat(l))},pe=a(526),he=function(e){Object(b.a)(a,e);var t=Object(v.a)(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={},e.subTotalCost=0,e}return Object(h.a)(a,[{key:"componentDidMount",value:function(){var e=this;"create"!==this.props.match.params.id&&ie(this.props.match.params.id).then((function(t){e.setState({bill:t.data,billitem:t.data.billitems})}))}},{key:"render",value:function(){var e,t,a,n,r,i,s,o,c,m,u,d,p,h,b,v,g,E,f,y,N,k,_,w,O,S,x,C,j,I,D,P,L,T,A,M,q,R,z,F,Y,V,U,K,G,Q,W,Z,H,$,J,X,ee,ae,ne,le,re,ie,oe,ce,me,ue,de,he,be,ve,ge,Ee,fe,ye,Ne,ke,_e,we,Oe,Se,xe=this;return this.subTotalCost=0,l.a.createElement("div",{className:"invoice-viewer py-16"},l.a.createElement("div",{className:"viewer_actions px-3 mb-3 d-flex align-items-center justify-content-between"},l.a.createElement(B.a,{to:"/invoice/invoice/list"},l.a.createElement("i",{className:"i-Left1 text-20 font-weight-700"}," ")),l.a.createElement("div",null,l.a.createElement(te.a,{className:"me-3 mr-3 py-2",variant:"primary",onClick:function(){return xe.props.toggleInvoiceEditor()}},"Edit Invoice"),l.a.createElement(te.a,{type:"button",className:"me-3 mr-3 py-2",variant:"secondary",onClick:function(){xe.props.history.push("/invoice/invoice/create")}},"Create Invoice"),l.a.createElement(te.a,{onClick:function(){return se(xe.props.match.params.id).then((function(e){window.open("http://skrkmk.in/media/invoices/invoice.pdf")}))},className:"mr-3 py-2",variant:"warning"},"Print Invoice"))),l.a.createElement("div",{id:"print-area",className:"px-3"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-6"},l.a.createElement("h4",{className:"font-weight-bold"},l.a.createElement("strong",null,"Invoice Number")),l.a.createElement("p",null,"#",null===(e=this.state)||void 0===e||null===(t=e.bill)||void 0===t?void 0:t.invoice_no)),l.a.createElement("div",{className:"col-md-6 text-sm-right"},l.a.createElement("p",{className:"text-capitalize"},l.a.createElement("strong",null,"Bill Type:")," ",null===(a=this.state)||void 0===a||null===(n=a.bill)||void 0===n?void 0:n.bw),l.a.createElement("p",null,l.a.createElement("strong",null,"Invoice Date: "),l.a.createElement("span",null,(null===(r=this.state)||void 0===r||null===(i=r.bill)||void 0===i?void 0:i.date)?Object(pe.default)(new Date(null===(s=this.state)||void 0===s||null===(o=s.bill)||void 0===o?void 0:o.date).getTime(),"MMMM dd, yyyy"):"")))),l.a.createElement("div",{className:"mb-2 border-bottom"}),l.a.createElement("div",{className:"row mb-2"},l.a.createElement("div",{className:"col-md-6 mb-3 mb-sm-0"},l.a.createElement("h5",null,l.a.createElement("strong",null,"Bill To")),l.a.createElement("div",null,l.a.createElement("strong",null,"Name :- \xa0 "),(null===(c=this.state)||void 0===c||null===(m=c.bill)||void 0===m?void 0:m.bill_tos)?null===(u=this.state)||void 0===u||null===(d=u.bill)||void 0===d?void 0:d.bill_tos.name:null),l.a.createElement("div",null,l.a.createElement("strong",null,"Address :- \xa0 "),(null===(p=this.state)||void 0===p||null===(h=p.bill)||void 0===h?void 0:h.bill_tos)?null===(b=this.state)||void 0===b||null===(v=b.bill)||void 0===v?void 0:v.bill_tos.address:null),l.a.createElement("div",null,l.a.createElement("strong",null,"GSTIN :- \xa0 "),(null===(g=this.state)||void 0===g||null===(E=g.bill)||void 0===E?void 0:E.bill_tos)?null===(f=this.state)||void 0===f||null===(y=f.bill)||void 0===y?void 0:y.bill_tos.gstin:null),l.a.createElement("div",null,l.a.createElement("strong",null,"State :- \xa0 "),(null===(N=this.state)||void 0===N||null===(k=N.bill)||void 0===k?void 0:k.bill_tos)?null===(_=this.state)||void 0===_||null===(w=_.bill)||void 0===w?void 0:w.bill_tos.state:null,l.a.createElement("strong",null," \xa0 State Code :- "),(null===(O=this.state)||void 0===O||null===(S=O.bill)||void 0===S?void 0:S.bill_tos)?null===(x=this.state)||void 0===x||null===(C=x.bill)||void 0===C?void 0:C.bill_tos.state_code:null)),l.a.createElement("div",{className:"col-md-6 text-sm-right"},l.a.createElement("h5",null,l.a.createElement("strong",null,"Ship To")),l.a.createElement("div",null,l.a.createElement("strong",null,"Name :- \xa0 "),(null===(j=this.state)||void 0===j||null===(I=j.bill)||void 0===I?void 0:I.bill_tos)?null===(D=this.state)||void 0===D||null===(P=D.bill)||void 0===P?void 0:P.bill_tos.ship_details.name:null),l.a.createElement("div",null,l.a.createElement("strong",null,"Address :- \xa0 "),(null===(L=this.state)||void 0===L||null===(T=L.bill)||void 0===T?void 0:T.bill_tos)?null===(A=this.state)||void 0===A||null===(M=A.bill)||void 0===M?void 0:M.bill_tos.ship_details.address:null),l.a.createElement("div",null,l.a.createElement("strong",null,"GSTIN :- \xa0 "),(null===(q=this.state)||void 0===q||null===(R=q.bill)||void 0===R?void 0:R.bill_tos)?null===(z=this.state)||void 0===z||null===(F=z.bill)||void 0===F?void 0:F.bill_tos.ship_details.gstin:null),l.a.createElement("div",null,l.a.createElement("strong",null,"State :- \xa0 "),(null===(Y=this.state)||void 0===Y||null===(V=Y.bill)||void 0===V?void 0:V.bill_tos)?null===(U=this.state)||void 0===U||null===(K=U.bill)||void 0===K?void 0:K.bill_tos.ship_details.state:null,l.a.createElement("strong",null," \xa0 State Code :- "),(null===(G=this.state)||void 0===G||null===(Q=G.bill)||void 0===Q?void 0:Q.bill_tos)?null===(W=this.state)||void 0===W||null===(Z=W.bill)||void 0===Z?void 0:Z.bill_tos.ship_details.state_code:null))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-12 table-responsive"},l.a.createElement("table",{className:"table table-hover mb-4"},l.a.createElement("thead",{className:"bg-gray-300"},l.a.createElement("tr",null,l.a.createElement("th",{scope:"col"},"#"),l.a.createElement("th",{scope:"col"},"Item Name"),l.a.createElement("th",{scope:"col"},"Bags"),l.a.createElement("th",{scope:"col"},"Quantity"),l.a.createElement("th",{scope:"col"},"Rate"),l.a.createElement("th",{scope:"col"},"PO Number"),l.a.createElement("th",{scope:"col"},"Amount"))),l.a.createElement("tbody",null,null===(H=this.state)||void 0===H||null===($=H.billitem)||void 0===$?void 0:$.map((function(e,t){return xe.subTotalCost+=e.qty*e.rate,l.a.createElement("tr",{key:t},l.a.createElement("td",{className:"text-capitalize"},t+1),l.a.createElement("td",{className:"text-uppercase"},e.item),l.a.createElement("td",{className:"text-capitalize"},e.uom),l.a.createElement("td",{className:"text-capitalize"},e.qty),l.a.createElement("td",{className:"text-capitalize"},e.rate),l.a.createElement("td",{className:"text-uppercase"},e.po_number),l.a.createElement("td",null,e.qty*e.rate))}))))),l.a.createElement("div",{className:"table-responsive"},l.a.createElement("table",{style:{minWidth:750},className:"table table-bordered text-center table-sm table-striped"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Loading Charges"),l.a.createElement("th",null,"Dharmada"),l.a.createElement("th",null,"Tulai"),l.a.createElement("th",null,"Wages"),l.a.createElement("th",null,"Commision"),l.a.createElement("th",null),l.a.createElement("th",null,"Sub Total"),l.a.createElement("td",null,this.subTotalCost))),l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("td",null,null===(J=this.state)||void 0===J||null===(X=J.bill)||void 0===X?void 0:X.total_exp.loading_charges),l.a.createElement("td",null,null===(ee=this.state)||void 0===ee||null===(ae=ee.bill)||void 0===ae?void 0:ae.total_exp.dharmada),l.a.createElement("td",null,null===(ne=this.state)||void 0===ne||null===(le=ne.bill)||void 0===le?void 0:le.total_exp.tulai),l.a.createElement("td",null,null===(re=this.state)||void 0===re||null===(ie=re.bill)||void 0===ie?void 0:ie.total_exp.wages),l.a.createElement("td",null,null===(oe=this.state)||void 0===oe||null===(ce=oe.bill)||void 0===ce?void 0:ce.total_exp.commision),l.a.createElement("th",null),l.a.createElement("th",{align:"right"},"Frieght"),l.a.createElement("td",null,null===(me=this.state)||void 0===me||null===(ue=me.bill)||void 0===ue?void 0:ue.frieght)),l.a.createElement("tr",null,l.a.createElement("th",null,"Mandi Shulk"),l.a.createElement("th",null,"Vikas Shulk"),l.a.createElement("th",null,"Sutli"),l.a.createElement("th",null,"Bardana"),l.a.createElement("th",null,"Others"),l.a.createElement("th",null),l.a.createElement("th",{align:"right"},"Expense Total"),l.a.createElement("td",null,null===(de=this.state)||void 0===de||null===(he=de.bill)||void 0===he?void 0:he.total_exp.total_expenses)),l.a.createElement("tr",null,l.a.createElement("td",null,null===(be=this.state)||void 0===be||null===(ve=be.bill)||void 0===ve?void 0:ve.total_exp.mandi_shulk),l.a.createElement("td",null,null===(ge=this.state)||void 0===ge||null===(Ee=ge.bill)||void 0===Ee?void 0:Ee.total_exp.vikas_shulk),l.a.createElement("td",null,null===(fe=this.state)||void 0===fe||null===(ye=fe.bill)||void 0===ye?void 0:ye.total_exp.sutli),l.a.createElement("td",null,null===(Ne=this.state)||void 0===Ne||null===(ke=Ne.bill)||void 0===ke?void 0:ke.total_exp.bardana),l.a.createElement("td",null,null===(_e=this.state)||void 0===_e||null===(we=_e.bill)||void 0===we?void 0:we.total_exp.others),l.a.createElement("th",null),l.a.createElement("th",{align:"right"},"GRAND TOTAL"),l.a.createElement("th",null,null===(Oe=this.state)||void 0===Oe||null===(Se=Oe.bill)||void 0===Se?void 0:Se.total_exp.grand_total))))))))}}]),a}(n.Component),be=Object(o.g)(he),ve=a(538),ge=a(292),Ee=a(166),fe=a(57),ye=a(33),Ne=a(44),ke=a.n(Ne),_e=a(3),we=[{label:"Maize",value:"maize"},{label:"Paddy",value:"paddy"},{label:"Paddy Sugandh",value:"paddy sugandh"},{label:"Paddy Sarbati",value:"paddy sarbati"},{label:"Paddy 1509",value:"paddy 1509"},{label:"Paddy RS10",value:"paddy RS10"},{label:"Paddy 1121",value:"paddy 1121"},{label:"Bajra",value:"bajra"},{label:"Wheat",value:"wheat"},{label:"Mustard Seeds",value:"mustard_seed"}],Oe=[{label:"Andhra Pradesh",value:37},{label:"Arunachal Pradesh",value:12},{label:"Assam",value:18},{label:"Bihar",value:10},{label:"Chattisgarh",value:22},{label:"Delhi",value:7},{label:"Goa",value:30},{label:"Gujarat",value:24},{label:"Haryana",value:6},{label:"Himachal Pradesh",value:2},{label:"Jammu and Kashmir",value:1},{label:"Jharkhand",value:20},{label:"Karnataka",value:29},{label:"Kerala",value:32},{label:"Lakshadweep Islands",value:31},{label:"Madhya Pradesh",value:23},{label:"Maharashtra",value:27},{label:"Manipur",value:14},{label:"Meghalaya",value:17},{label:"Mizoram",value:15},{label:"Nagaland",value:13},{label:"Odisha",value:21},{label:"Pondicherry",value:34},{label:"Punjab",value:3},{label:"Rajasthan",value:8},{label:"Sikkim",value:11},{label:"Tamil Nadu",value:33},{label:"Telangana",value:36},{label:"Tripura",value:16},{label:"Uttar Pradesh",value:9},{label:"Uttarakhand",value:5},{label:"West Bengal",value:19}],Se=function(e){Object(b.a)(a,e);var t=Object(v.a)(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={id:2,bill:{date:new Date,bill_to:0,bill_by:0,vehicle_no:"",remarks:"",frieght:0,bw:"A",invoice_no:"",shipto:{name:"",address:"",gstin:""},billitems:[]}},e.shipto=!1,e.partyList=[],e.companyList=[],e.selectedCompany=null,e.selectedParty=null,e.selectedItem=null,e.generateRandomId=function(){e.setState({id:0})},e.handleSubmit=function(t,a){var n=a.setSubmitting;e.setState({loading:!0}),n(!0),e.props.isNewInvoice?ce(t.bill).then((function(t){e.setState({loading:!1}),e.props.history.push("/invoice/invoice/".concat(t.data.id)),e.props.toggleInvoiceEditor()})):me(e.state.bill.id,t.bill).then((function(){e.setState({loading:!1}),e.props.toggleInvoiceEditor()}))},e.companyassembleList=function(e){return e.map((function(e){return{label:e.name,value:e.id}}))},e.partyassembleList=function(e){return e.map((function(e){return{label:e.party_username,value:e.id}}))},e}return Object(h.a)(a,[{key:"componentDidMount",value:function(){var e=this;ue().then((function(t){e.companyList=e.companyassembleList(t.data)})).catch((function(e){console.log(e)})),re.a.get("/api/bill-to-name-list/all").then((function(t){e.partyList=e.partyassembleList(t.data),e.setState({partyList:t.data})})).catch((function(e){console.log(e)})),this.props.isNewInvoice?this.generateRandomId():ie(this.props.match.params.id).then((function(t){e.setState({bill:t.data}),e.selectedCompany={label:t.data.company_name,value:t.data.bill_by},e.selectedParty={label:t.data.party_name,value:t.data.bill_to}})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this;this.subTotalCost=0;var t=this.state.loading;return l.a.createElement("div",{className:"invoice-viewer py-3"},l.a.createElement(ye.b,{initialValues:this.state,validationSchema:xe,onSubmit:this.handleSubmit,enableReinitialize:!0},(function(a){var r=a.values,i=a.errors,s=a.touched,o=a.handleChange,c=a.handleBlur,m=a.handleSubmit,u=(a.isSubmitting,a.setSubmitting,a.setFieldValue),d=a.setFieldTouched;return l.a.createElement(n.Fragment,null,l.a.createElement(ve.a,{onSubmit:m,className:"px-3"},l.a.createElement("div",{className:"row mb-3 justify-content-between"},l.a.createElement("div",{className:"col-md-3"},l.a.createElement("h4",{className:"fw-bold"},"Invoice")),l.a.createElement("div",{className:"col-md-2 text-right"},l.a.createElement("div",{className:"justify-content-end"},l.a.createElement("div",{className:"mb-4"},l.a.createElement(te.a,{type:"button",className:"me-3 py-2",variant:"warning",onClick:function(){e.props.isNewInvoice?e.props.history.push("/invoice/invoice/list"):e.props.toggleInvoiceEditor()}},"Cancel"),l.a.createElement(te.a,{type:"submit",className:"py-2",variant:"primary",disabled:t},"Save"))))),l.a.createElement("div",{className:"row mb-3 justify-content-between"},l.a.createElement("div",{className:"col-md-3"},l.a.createElement("label",{className:"text-15"},"Bill Type"),l.a.createElement("fieldset",null,l.a.createElement("div",{className:"ul-form__radio-inline"},l.a.createElement("label",{className:"radio radio-success form-check-inline"},l.a.createElement("input",{type:"radio",name:"bill.bw",checked:"A"===r.bill.bw,onChange:o,value:"A"}),l.a.createElement("span",null,"A"),l.a.createElement("span",{className:"checkmark"})),l.a.createElement("label",{className:"radio check-reverse radio-warning"},l.a.createElement("input",{type:"radio",name:"bill.bw",checked:"B"===r.bill.bw,onChange:o,value:"B"}),l.a.createElement("span",null,"B"),l.a.createElement("span",{className:"checkmark"})))),i.status&&s.status&&l.a.createElement("small",{className:"text-danger"},"Minimum 1 item is required")),"B"===r.bill.bw?l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"col-md-3 mb-3"},l.a.createElement("div",{className:"mb-1"},"Invoice Number"),l.a.createElement(ge.a,{value:r.bill.invoice_no,name:"bill.invoice_no",type:"text",placeholder:"Invoice Number",onChange:o,onBlur:c,isInvalid:i.bill&&s.bill&&i.bill.invoice_no&&s.bill.invoice_no}))):l.a.createElement(l.a.Fragment,null),l.a.createElement("div",{className:"col-md-3 text-right"},l.a.createElement("div",{className:"mb-1"},"Vehicle No"),l.a.createElement(ge.a,{value:r.bill.vehicle_no,name:"bill.vehicle_no",type:"text",placeholder:"Vehicle Number",onChange:o,onBlur:c,isInvalid:i.bill&&s.bill&&i.bill.vehicle_no&&s.bill.vehicle_no}))),l.a.createElement("div",{className:"row justify-content-between"},l.a.createElement("div",{className:"col-md-3"},l.a.createElement(Ee.a,{className:"mb-3 pl-0"},l.a.createElement("div",{className:"form-group mb-3"},l.a.createElement("div",{className:"mb-1"},"Order Date"),l.a.createElement(ke.a,{className:"form-control text-right",dateFormat:"dd-MMM-yyyy",selected:new Date(r.bill.date),onChange:function(e){u("bill.date",e.toISOString().slice(0,10)),u("date",e)}})))),l.a.createElement("div",{className:"col-md-3 mb-3"},l.a.createElement("div",{className:"mb-1"},"Freight"),l.a.createElement(ge.a,{value:r.bill.frieght,name:"bill.frieght",type:"number",placeholder:"Frieght",onChange:o,onBlur:c,isInvalid:i.bill&&s.bill&&i.bill.frieght&&s.bill.frieght})),l.a.createElement("div",{className:"col-md-3 text-right"},l.a.createElement("div",{className:"mb-1"},"Remarks"),l.a.createElement(ge.a,{value:r.bill.remarks,name:"bill.remarks",type:"text",placeholder:"Remarks",onChange:o,onBlur:c,isInvalid:i.bill&&s.bill&&i.bill.remarks&&s.bill.remarks}))),l.a.createElement("div",{className:"mt-3 mb-4 border-top"}),l.a.createElement("div",{className:"row mb-3"},l.a.createElement("div",{className:"col-md-6"},l.a.createElement("h5",{className:"fw-bold"},"Bill From"),l.a.createElement(Ee.a,{className:"col-md-10 mb-1 pl-0"},l.a.createElement(fe.a,{name:"bill.bill_by",value:e.selectedCompany,isDisabled:!e.props.isNewInvoice,onChange:function(t){e.selectedCompany=t,u("bill.bill_by",t.value)},onBlur:function(){d("bill.bill_by",!0)},isInvalid:i.bill&&s.bill&&i.bill.bill_by&&s.bill.bill_by,options:e.companyList}))),l.a.createElement("div",{className:"col-md-6 text-right"},l.a.createElement("h5",{className:"fw-bold"},"Bill To"),l.a.createElement(Ee.a,{className:"col-md-10 mb-1 pl-0 text-right"},l.a.createElement(fe.a,{name:"bill.bill_to",value:e.selectedParty,onChange:function(t){e.selectedParty=t,u("bill.bill_to",t.value)},onBlur:function(){d("bill.bill_to",!0)},isInvalid:i.bill&&s.bill&&i.bill.bill_to&&s.bill.bill_to,options:e.partyList})))),l.a.createElement("div",{className:"row"},l.a.createElement(ye.a,{name:"bill.billitems"},(function(e){return l.a.createElement("div",null,l.a.createElement("div",{className:"w-100 overflow-auto"},l.a.createElement("table",{style:{minWidth:750},className:"table table-hover mb-3"},l.a.createElement("thead",{className:"bg-gray-300"},l.a.createElement("tr",null,l.a.createElement("th",{scope:"col"},"#"),l.a.createElement("th",{scope:"col"},"Item Name"),l.a.createElement("th",{scope:"col"},"Bags"),l.a.createElement("th",{scope:"col"},"Qty"),l.a.createElement("th",{scope:"col"},"Rate"),l.a.createElement("th",{scope:"col"},"PO No."),l.a.createElement("th",{scope:"col"},"Amount"),l.a.createElement("th",{scope:"col"}))),l.a.createElement("tbody",null,r.bill.billitems.map((function(t,a){return l.a.createElement("tr",{key:a},l.a.createElement("th",{className:"text-middle",scope:"row"},a+1),l.a.createElement("td",null,l.a.createElement(ve.a.Select,{name:"bill.billitems[".concat(a,"].item"),value:r.bill.billitems[a].item,onChange:function(e){u("bill.billitems[".concat(a,"].item"),e.target.value)},onBlur:function(){return d("bill.billitems[".concat(a,"].item"),!0)},isInvalid:i.bill&&s.bill&&i.bill.billitems&&s.bill.billitems&&i.bill.billitems[a]&&s.bill.billitems[a]&&i.bill.billitems[a].item&&s.bill.billitems[a].item},we.map((function(e,t){return l.a.createElement("option",{value:e.value,key:e.value},e.label)})))),l.a.createElement("td",null,l.a.createElement(ge.a,{value:r.bill.billitems[a].uom,name:"bill.billitems[".concat(a,"].uom"),type:"number",placeholder:"Bags",onChange:o,onBlur:c,isInvalid:i.bill&&s.bill&&i.bill.billitems&&s.bill.billitems&&i.bill.billitems[a]&&s.bill.billitems[a]&&i.bill.billitems[a].uom&&s.bill.billitems[a].uom})),l.a.createElement("td",null,l.a.createElement(ge.a,{value:r.bill.billitems[a].qty,name:"bill.billitems[".concat(a,"].qty"),type:"number",placeholder:"Quantity",onChange:o,onBlur:c,isInvalid:i.bill&&s.bill&&i.bill.billitems&&s.bill.billitems&&i.bill.billitems[a]&&s.bill.billitems[a]&&i.bill.billitems[a].qty&&s.bill.billitems[a].qty})),l.a.createElement("td",null,l.a.createElement(ge.a,{value:r.bill.billitems[a].rate,name:"bill.billitems[".concat(a,"].rate"),type:"number",placeholder:"Rate",onChange:o,onBlur:c,isInvalid:i.bill&&s.bill&&i.bill.billitems&&s.bill.billitems&&i.bill.billitems[a]&&s.bill.billitems[a]&&i.bill.billitems[a].rate&&s.bill.billitems[a].rate})),l.a.createElement("td",null,l.a.createElement(ge.a,{value:r.bill.billitems[a].po_number,name:"bill.billitems[".concat(a,"].po_number"),type:"text",placeholder:"PO Number",onChange:o,onBlur:c,isInvalid:i.bill&&s.bill&&i.bill.billitems&&s.bill.billitems&&i.bill.billitems[a]&&s.bill.billitems[a]&&i.bill.billitems[a].po_number&&s.bill.billitems[a].po_number})),l.a.createElement("td",{className:"text-middle"},r.bill.billitems[a].qty*r.bill.billitems[a].rate),l.a.createElement("td",null,l.a.createElement("button",{type:"button",onClick:function(){return e.remove(a)},className:"btn btn-outline-secondary float-right"},"Delete")))}))))),0===r.bill.billitems.length&&l.a.createElement("small",{className:"text-danger"},"Minimum 1 item is required"),l.a.createElement("button",{type:"button",onClick:function(){return e.push({item:"maize",uom:"",qty:"",rate:"",po_number:""})},className:"btn btn-primary float-end mb-4"},"Add Item"))})))))})))}}]),a}(n.Component),xe=_e.object().shape({bill:_e.object().shape({date:_e.string().required("Date is required"),bill_to:_e.number().required("Bill To Party is required"),bill_by:_e.number().required("Please select company from dropdown"),vehicle_no:_e.string().required("Vehicle number is required").matches(/^[A-Z]{2}[0-9]{2}[A-Z]{1,2}[0-9]{4}$/,"Only alphabets are allowed for this field "),remarks:_e.string().optional(),frieght:_e.number().optional(),bw:_e.string().required("bill type is required"),invoice_no:_e.string().optional(),shipto:_e.object().shape({name:_e.string().optional(),address:_e.string().optional(),gstin:_e.string().optional(),state:_e.string().optional(),state_code:_e.string().optional()}),billitems:_e.array().of(_e.object().shape({item:_e.string().required("item is required"),uom:_e.number().required("Bags is required"),qty:_e.number().required("price is required"),rate:_e.number().required("unit is required"),po_number:_e.string().optional()})).min(1,"Minimum 1 item is required")})}),Ce=Object(o.g)(Se),je=function(e){Object(b.a)(a,e);var t=Object(v.a)(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={showInvoiceEditor:!1,isNewInvoice:!1},e.toggleInvoiceEditor=function(){e.setState({showInvoiceEditor:!e.state.showInvoiceEditor,isNewInvoice:!1})},e}return Object(h.a)(a,[{key:"componentDidMount",value:function(){"create"===this.props.match.params.id&&this.setState({showInvoiceEditor:!0,isNewInvoice:!0})}},{key:"componentDidUpdate",value:function(e,t){e.match.params.id!==this.props.match.params.id&&"create"===this.props.match.params.id&&this.setState({showInvoiceEditor:!0,isNewInvoice:!0})}},{key:"render",value:function(){return l.a.createElement(ee.a,{elevation:6,className:"invoice-details m-sm-30"},this.state.showInvoiceEditor?l.a.createElement(Ce,{toggleInvoiceEditor:this.toggleInvoiceEditor,isNewInvoice:this.state.isNewInvoice}):l.a.createElement(be,{toggleInvoiceEditor:this.toggleInvoiceEditor}))}}]),a}(n.Component),Be=a(535),Ie=a(293),De=a(536),Pe=a(542),Le=a(534),Te=a(25),Ae=a.n(Te),Me=a(81),qe=a.n(Me),Re=function(e){Object(b.a)(a,e);var t=Object(v.a)(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={invoiceList:[],shouldShowConfirmationDialog:!1,pageNumber:0,billperpage:1,change:!1,year:"2021-2022",count:null},e.pageNumber=0,e.billperpage=5,e.year="2021-2022",e.handlePageClick=function(t){e.pageNumber=t.selected,e.setState({pageNumber:t.selected})},e.handleSelectCount=function(t){e.billperpage=t.target.value,e.billperpage*e.pageNumber>=e.state.count?(e.pageNumber=Math.ceil(e.state.count/e.billperpage)-1,e.setState({pageNumber:Math.ceil(e.state.count/e.billperpage)-1,billperpage:t.target.value})):e.setState({billperpage:t.target.value})},e.handleSelectYear=function(t){e.year=t.target.value,e.setState({year:t.target.value})},e.handeViewClick=function(t){e.props.history.push("/invoice/invoice/".concat(t))},e.handleDeleteInvoice=function(t){oe(t).then((function(t){Ae.a.fire({title:"Deleted!",text:"Your file has been deleted.",type:"success",icon:"success",timer:1500}),e.setState({change:!e.state.change,shouldShowConfirmationDialog:!1})}))},e.handleDialogClose=function(){e.setState({shouldShowConfirmationDialog:!1})},e}return Object(h.a)(a,[{key:"componentDidMount",value:function(){var e=this;de(this.props.companyId,this.billperpage,this.pageNumber,this.props.year,this.props.search).then((function(t){return e.setState({invoiceList:t.data.results,count:t.data.count})}))}},{key:"componentDidUpdate",value:function(e,t){var a=this;t.pageNumber!==this.state.pageNumber&&de(this.props.companyId,this.billperpage,this.pageNumber,this.props.year,this.props.search).then((function(e){return a.setState({invoiceList:e.data.results,count:e.data.count})})),t.change!==this.state.change&&de(this.props.companyId,this.billperpage,this.pageNumber,this.props.year,this.props.search).then((function(e){return a.setState({invoiceList:e.data.results,count:e.data.count})})),t.billperpage!==this.state.billperpage&&de(this.props.companyId,this.billperpage,this.pageNumber,this.props.year,this.props.search).then((function(e){return a.setState({invoiceList:e.data.results,count:e.data.count})})),e.year!==this.props.year&&de(this.props.companyId,this.billperpage,this.pageNumber,this.props.year,this.props.search).then((function(e){return a.setState({invoiceList:e.data.results,count:e.data.count})})),e.search!==this.props.search&&de(this.props.companyId,this.billperpage,this.pageNumber,this.props.year,this.props.search).then((function(e){return a.setState({invoiceList:e.data.results,count:e.data.count})}))}},{key:"render",value:function(){var e=this,t=this.state.invoiceList;return l.a.createElement("div",null,l.a.createElement("div",{className:"w-100 overflow-auto"},l.a.createElement(Le.a,{style:{minWidth:750}},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",{className:"px-0"},"Invoice No."),l.a.createElement("th",{className:"px-0"},"Date"),l.a.createElement("th",{className:"px-0"},"Vehicle No."),l.a.createElement("th",{className:"px-0"},"Party Name"),l.a.createElement("th",{className:"px-0"},"UOM"),l.a.createElement("th",{className:"px-0"},"Quantity"),l.a.createElement("th",{className:"px-0"},"Grand Total"),l.a.createElement("th",{className:"px-0"},"Actions"))),l.a.createElement("tbody",null,t.map((function(t,a){return l.a.createElement("tr",{key:t.id},l.a.createElement("td",{className:"pl-sm-24 capitalize",align:"left"},t.invoice_no),l.a.createElement("td",{className:"pl-0 capitalize",align:"left"},t.date),l.a.createElement("td",{className:"pl-0 capitalize",align:"left"},t.vehicle_no),l.a.createElement("td",{className:"pl-0 capitalize",align:"left"},t.party_name),l.a.createElement("td",{className:"pl-0 capitalize",align:"left"},t.total_uom),l.a.createElement("td",{className:"pl-0 capitalize",align:"left"},t.total_qty),l.a.createElement("td",{className:"pl-0 capitalize",align:"left"},t.total_bill_amount),l.a.createElement("td",{className:"pl-0"},l.a.createElement("i",{className:"i-Receipt-3 mr-6 font-weight-1200 text-primary cursor-pointer",onClick:function(){return e.handeViewClick(t.id)}}),l.a.createElement("span",null," "),l.a.createElement("i",{className:"i-Folder-Trash font-weight-900 text-danger cursor-pointer",onClick:function(){Ae.a.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",type:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!",cancelButtonText:"No"}).then((function(a){a.value&&e.handleDeleteInvoice(t.id)}))}})))}))))),l.a.createElement("div",{className:"row mb-3"},l.a.createElement("div",{className:"d-flex justify-content-center"},l.a.createElement("select",{id:"picker1",className:"form-control",name:"select",value:this.billperpage,onChange:this.handleSelectCount,style:{width:"4em",height:"2.5em"}},l.a.createElement("option",{value:5},"5"),l.a.createElement("option",{value:10},"10"),l.a.createElement("option",{value:25},"25"),l.a.createElement("option",{value:50},"50")),l.a.createElement("div",{className:"mt-1"},l.a.createElement(qe.a,{previousLabel:"Previous",nextLabel:"Next",breakLabel:"...",breakClassName:"break-me",pageCount:this.state.count/this.billperpage,marginPagesDisplayed:0,pageRangeDisplayed:2,onPageChange:function(t){e.handlePageClick(t)},containerClassName:"pagination pagination-lg",subContainerClassName:"pages pagination",activeClassName:"active",forcePage:this.pageNumber})))))}}]),a}(n.Component),ze=[{path:"/invoice/invoice/list",auth:"ADMIN",component:function(e){Object(b.a)(a,e);var t=Object(v.a)(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={invoiceList:[],partyList:[],year:"/2022-2023/",search:"",search_s:""},e.year="/2022-2023/",e.search="",e.handleSelectYear=function(t){e.setState({year:t.target.value}),e.year=t.target.value},e.handleChangeSearch=function(t){e.setState({search:t.target.value}),e.search=t.target.value},e.handleBlur=function(t){e.setState({search_s:e.search})},e.handleKeyPress=function(t){"Enter"===t.key&&e.setState({search_s:e.search})},e}return Object(h.a)(a,[{key:"componentDidMount",value:function(){var e=Object(le.a)(ne.a.mark((function e(){var t=this;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ue().then((function(e){return t.setState({partyList:e.data})}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state.partyList;return l.a.createElement(Be.a,null,l.a.createElement(Ie.a,null,l.a.createElement(ee.a,{elevation:6,className:"invoice-details"},l.a.createElement("div",{className:"row mt-4 ms-3 me-3 mb-2 justify-content-between"},l.a.createElement("div",{className:"col-md-2"},l.a.createElement("h4",{className:"fw-bold"},"Invoice List")),l.a.createElement("div",{className:"col-md-2"},l.a.createElement("select",{id:"picker1",className:"form-control",name:"select",value:this.year,onChange:this.handleSelectYear},l.a.createElement("option",{value:"/2021-2022/"},"2021-2022"),l.a.createElement("option",{value:"/2022-2023/"},"2022-2023"))),l.a.createElement("div",{className:"col-md-3"},l.a.createElement("input",{className:"form-control",id:"search",name:"search",placeholder:"Search Here..",type:"text",onChange:this.handleChangeSearch,onBlur:this.handleBlur,onKeyPress:this.handleKeyPress,value:this.search})),l.a.createElement("div",{className:"col-md-2"},l.a.createElement("div",{className:"justify-content-end"},l.a.createElement("div",{className:"mb-4"},l.a.createElement(B.a,{to:"/invoice/invoice/create"},l.a.createElement(te.a,{className:"mb-3",variant:"primary"},"Add Invoice"))))),l.a.createElement(De.a,{defaultActiveKey:t.at(0),id:"uncontrolled-tab-example",unmountOnExit:!0,mountOnEnter:!0},l.a.createElement(Pe.a,{eventKey:0,title:"ALL",key:0,className:"capitalize"},l.a.createElement(Re,Object.assign({companyId:0,year:this.state.year,search:this.state.search_s},this.props))),t.map((function(t,a){return l.a.createElement(Pe.a,{eventKey:t.id,title:t.name.toUpperCase(),key:t.id,className:"capitalize"},l.a.createElement(Re,Object.assign({companyId:t.id,year:e.state.year,search:e.state.search_s},e.props)))})),l.a.createElement(Pe.a,{eventKey:"bw",title:"ALL W",key:"bw",className:"capitalize"},l.a.createElement(Re,Object.assign({companyId:"bw",year:this.state.year,search:this.state.search_s},this.props))),l.a.createElement(Pe.a,{eventKey:"canceled",title:"CANCELED",key:"canceled",className:"capitalize"},l.a.createElement(Re,Object.assign({companyId:"canceled",year:this.state.year,search:this.state.search_s},this.props))))))))}}]),a}(n.Component)},{path:"/invoice/invoice/:id",component:je}],Fe=function(){return re.a.get("/api/bill-by-list/all")},Ye=function(e){return re.a.get("/api/bill-by/"+e)},Ve=function(e){return re.a.delete("/api/bill-by/"+e)},Ue=function(e){return re.a.put("/api/bill-by/0",e)},Ke=function(e,t){return re.a.patch("/api/bill-by/"+e,t)},Ge=function(e){Object(b.a)(a,e);var t=Object(v.a)(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={},e.subTotalCost=0,e}return Object(h.a)(a,[{key:"componentDidMount",value:function(){var e=this;"create"!==this.props.match.params.id&&Ye(this.props.match.params.id).then((function(t){e.setState({company:t.data})}))}},{key:"render",value:function(){var e,t,a,n,r,i,s,o,c,m,u,d,p,h,b,v,g,E,f,y,N,k,_,w=this;return l.a.createElement("div",{className:"invoice-viewer py-16"},l.a.createElement("div",{className:"viewer_actions px-3 mb-3 d-flex align-items-center justify-content-between"},l.a.createElement(B.a,{to:"/invoice/company/list"},l.a.createElement("i",{className:"i-Left1 text-20 font-weight-700"}," ")),l.a.createElement("div",null,l.a.createElement(te.a,{className:"mr-3 py-2",variant:"primary",onClick:function(){return w.props.toggleCompanyEditor()}},"Edit Company"))),l.a.createElement("div",{id:"print-area",className:"px-3"},l.a.createElement("div",{className:"table-responsive"},l.a.createElement("div",{className:"col"},l.a.createElement("h4",{className:"fw-bold"},"DETAILS OF ",null===(e=this.state)||void 0===e||null===(t=e.company)||void 0===t||null===(a=t.name)||void 0===a?void 0:a.toUpperCase())),l.a.createElement("table",{id:"user_table",className:"table"},l.a.createElement("thead",null),l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement("strong",null," Company GSTIN :- ")),l.a.createElement("td",null,null===(n=this.state)||void 0===n||null===(r=n.company)||void 0===r?void 0:r.gstin),l.a.createElement("td",null,l.a.createElement("strong",null," Company Address :- ")),l.a.createElement("td",null,null===(i=this.state)||void 0===i||null===(s=i.company)||void 0===s?void 0:s.address)),l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement("strong",null," Company State :- ")),l.a.createElement("td",null,null===(o=this.state)||void 0===o||null===(c=o.company)||void 0===c?void 0:c.state),l.a.createElement("td",null,l.a.createElement("strong",null," Company State Code :- ")),l.a.createElement("td",null,null===(m=this.state)||void 0===m||null===(u=m.company)||void 0===u?void 0:u.state_code)),l.a.createElement("tr",null,l.a.createElement("td",{className:"pl-sm-24 capitalize",align:"left"},l.a.createElement("strong",null," Mobile No :- ")),l.a.createElement("td",{className:"pl-sm-24 capitalize",align:"left"},null===(d=this.state)||void 0===d||null===(p=d.company)||void 0===p?void 0:p.mobile1),l.a.createElement("td",{className:"pl-sm-24 capitalize",align:"left"},l.a.createElement("strong",null," Alternative Mobile No :- ")),l.a.createElement("td",{className:"pl-sm-24 capitalize",align:"left"},null===(h=this.state)||void 0===h||null===(b=h.company)||void 0===b?void 0:b.mobile2)),l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement("strong",null," Bank Name :- ")),l.a.createElement("td",null,null===(v=this.state)||void 0===v||null===(g=v.company)||void 0===g?void 0:g.bank_name),l.a.createElement("td",null,l.a.createElement("strong",null," Bank Account No :- ")),l.a.createElement("td",null,null===(E=this.state)||void 0===E||null===(f=E.company)||void 0===f?void 0:f.bank_account_no)),l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement("strong",null," Bank IFSC :- ")),l.a.createElement("td",null,null===(y=this.state)||void 0===y||null===(N=y.company)||void 0===N?void 0:N.bank_ifsc),l.a.createElement("td",null,l.a.createElement("strong",null," Bank Branch :- ")),l.a.createElement("td",null,null===(k=this.state)||void 0===k||null===(_=k.company)||void 0===_?void 0:_.bank_branch)))))))}}]),a}(n.Component),Qe=Object(o.g)(Ge),We=function(e){Object(b.a)(a,e);var t=Object(v.a)(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={loading:!1,id:"",name:"",address:"",gstin:"",state:"",state_code:9,mobile1:"",mobile2:"",bank_account_no:"",bank_branch:"",bank_ifsc:"",bank_name:""},e.generateRandomId=function(){e.setState({id:0})},e.handleSubmit=function(t,a){var n=a.setSubmitting,l=e.state.id;e.setState({loading:!0}),n(!0),e.props.isNewCompany?Ue(t).then((function(t){e.setState({loading:!1}),e.props.history.push("/invoice/company/".concat(t.data.id)),e.props.toggleCompanyEditor()})):Ke(l,t).then((function(){e.setState({loading:!1}),e.props.toggleCompanyEditor()}))},e}return Object(h.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.isNewCompany?this.generateRandomId():Ye(this.props.match.params.id).then((function(t){e.setState(Object(j.a)({},t.data))})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this,t=this.state.loading;return l.a.createElement("div",{className:"invoice-viewer py-3"},l.a.createElement(ye.b,{initialValues:this.state,validationSchema:Ze,onSubmit:this.handleSubmit,enableReinitialize:!0},(function(a){var r=a.values,i=a.errors,s=a.touched,o=a.handleChange,c=a.handleBlur,m=a.handleSubmit,u=(a.isSubmitting,a.setSubmitting,a.setFieldValue),d=a.setFieldTouched;return l.a.createElement(n.Fragment,null,l.a.createElement(ve.a,{onSubmit:m,className:"px-3"},l.a.createElement("div",{className:"row mb-3 justify-content-between"},l.a.createElement("div",{className:"col-md-3"},l.a.createElement("h4",{className:"fw-bold"},"Company")),l.a.createElement("div",{className:"col-md-2 text-right"},l.a.createElement("div",{className:"justify-content-end"},l.a.createElement("div",{className:"mb-4"},l.a.createElement(te.a,{type:"button",className:"me-3 py-2",variant:"warning",onClick:function(){return e.props.history.push("/invoice/company/list")},tabIndex:12},"Cancel"),l.a.createElement(te.a,{type:"submit",className:"py-2",variant:"primary",disabled:t,tabIndex:11},"Save"))))),l.a.createElement("div",{className:"custom-separator"}),l.a.createElement("div",{className:"form-group row"},l.a.createElement("label",{className:"ul-form__label ul-form--margin col-lg-3 col-form-label fw-bold"},"Company Name :"),l.a.createElement("div",{className:"col-lg-2"},l.a.createElement(ge.a,{value:r.name,name:"name",type:"text",placeholder:"Company Name",onChange:o,onBlur:c,isInvalid:i.name&&s.name,tabIndex:1})),l.a.createElement("label",{className:"ul-form__label ul-form--margin col-lg-3 col-form-label fw-bold"},"Company GSTIN :"),l.a.createElement("div",{className:"col-lg-2"},l.a.createElement(ge.a,{value:r.gstin,name:"gstin",type:"text",placeholder:"Company GSTIN",onChange:o,onBlur:c,isInvalid:i.gstin&&s.gstin,tabIndex:2}))),l.a.createElement("div",{className:"form-group row"},l.a.createElement("label",{className:"ul-form__label ul-form--margin col-lg-3 col-form-label fw-bold"},"Company Address :"),l.a.createElement("div",{className:"col-lg-2"},l.a.createElement(ge.a,{value:r.address,name:"address",type:"text",placeholder:"Company Address",onChange:o,onBlur:c,isInvalid:i.address&&s.address,tabIndex:3})),l.a.createElement("label",{className:"ul-form__label ul-form--margin col-lg-3 col-form-label fw-bold"},"Company State :"),l.a.createElement("div",{className:"col-lg-2"},l.a.createElement(ve.a.Select,{name:"state",value:r.state_code,onChange:function(e){u("state",e.target.options[e.target.options.selectedIndex].label),u("state_code",e.target.value)},onBlur:function(){d("state",!0),d("state_code",!0)},isInvalid:i.state&&s.state&&i.state_code&&s.state_code,tabIndex:4},Oe.map((function(e,t){return l.a.createElement("option",{value:e.value,key:e.value},e.label)}))))),l.a.createElement("div",{className:"custom-separator"}),l.a.createElement("div",{className:"form-group row"},l.a.createElement("label",{className:"ul-form__label ul-form--margin col-lg-3 col-form-label fw-bold"},"Mobile No :"),l.a.createElement("div",{className:"col-lg-2"},l.a.createElement(ge.a,{value:r.mobile1,name:"mobile1",type:"text",placeholder:"Mobile No",onChange:o,onBlur:c,isInvalid:i.mobile1&&s.mobile1,tabIndex:5})),l.a.createElement("label",{className:"ul-form__label ul-form--margin col-lg-3 col-form-label fw-bold"},"Another Mobile No :"),l.a.createElement("div",{className:"col-lg-2"},l.a.createElement(ge.a,{value:r.mobile2,name:"mobile2",type:"text",placeholder:"Alternate Mobile No",onChange:o,onBlur:c,isInvalid:i.mobile2&&s.mobile2,tabIndex:6}))),l.a.createElement("div",{className:"custom-separator"}),l.a.createElement("div",{className:"form-group row"},l.a.createElement("label",{className:"ul-form__label ul-form--margin col-lg-3 col-form-label fw-bold"},"Bank Name :"),l.a.createElement("div",{className:"col-lg-2"},l.a.createElement(ge.a,{value:r.bank_name,name:"bank_name",type:"text",placeholder:"Bank Name",onChange:o,onBlur:c,isInvalid:i.bank_name&&s.bank_name,tabIndex:7})),l.a.createElement("label",{className:"ul-form__label ul-form--margin col-lg-3 col-form-label fw-bold"},"Bank Accont No :"),l.a.createElement("div",{className:"col-lg-2"},l.a.createElement(ge.a,{value:r.bank_account_no,name:"bank_account_no",type:"text",placeholder:"Bank Account No",onChange:o,onBlur:c,isInvalid:i.bank_account_no&&s.bank_account_no,tabIndex:8}))),l.a.createElement("div",{className:"form-group row"},l.a.createElement("label",{className:"ul-form__label ul-form--margin col-lg-3 col-form-label fw-bold"},"Bank IFSC :"),l.a.createElement("div",{className:"col-lg-2"},l.a.createElement(ge.a,{value:r.bank_ifsc,name:"bank_ifsc",type:"text",placeholder:"Bank IFSC",onChange:o,onBlur:c,isInvalid:i.bank_ifsc&&s.bank_ifsc,tabIndex:9})),l.a.createElement("label",{className:"ul-form__label ul-form--margin col-lg-3 col-form-label fw-bold"},"Bank Branch :"),l.a.createElement("div",{className:"col-lg-2"},l.a.createElement(ge.a,{value:r.bank_branch,name:"bank_branch",type:"text",placeholder:"Bank Branch",onChange:o,onBlur:c,isInvalid:i.bank_branch&&s.bank_branch,tabIndex:10})))))})))}}]),a}(n.Component),Ze=_e.object().shape({name:_e.string().required(),address:_e.string().required(),gstin:_e.string().required().matches(/^[0-9]{2}[A-Z]{5}[0-9]{4}[A-Z]{1}[1-9A-Z]{1}Z[0-9A-Z]{1}$/,"Please Enter incorrect format"),state:_e.string().required(),state_code:_e.number().required(),mobile1:_e.string().required().matches(/^(\+\d{1,3}[- ]?)?\d{10}$/,"Please Enter in correct format"),mobile2:_e.string().required().matches(/^(\+\d{1,3}[- ]?)?\d{10}$/,"Please Enter in correct format"),bank_account_no:_e.string().required(),bank_branch:_e.string().required(),bank_ifsc:_e.string().required(),bank_name:_e.string().required()}),He=Object(o.g)(We),$e=function(e){Object(b.a)(a,e);var t=Object(v.a)(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={showCompanyEditor:!1,isNewCompany:!1},e.toggleCompanyEditor=function(){e.setState({showCompanyEditor:!e.state.showCompanyEditor,isNewCompany:!1})},e}return Object(h.a)(a,[{key:"componentDidMount",value:function(){"create"===this.props.match.params.id&&this.setState({showCompanyEditor:!0,isNewCompany:!0})}},{key:"componentDidUpdate",value:function(e,t){e.match.params.id!==this.props.match.params.id&&"create"===this.props.match.params.id&&this.setState({showCompanyEditor:!0,isNewCompany:!0})}},{key:"render",value:function(){return l.a.createElement(ee.a,{elevation:6,className:"invoice-details m-sm-30"},this.state.showCompanyEditor?l.a.createElement(He,{toggleCompanyEditor:this.toggleCompanyEditor,isNewCompany:this.state.isNewCompany}):l.a.createElement(Qe,{toggleCompanyEditor:this.toggleCompanyEditor}))}}]),a}(n.Component),Je=[{path:"/invoice/company/list",component:function(e){Object(b.a)(a,e);var t=Object(v.a)(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={companyList:[],shouldShowConfirmationDialog:!1},e.handeViewClick=function(t){e.props.history.push("/invoice/company/".concat(t))},e.handleDeleteInvoice=function(t){Ve(t).then((function(t){Ae.a.fire({title:"Deleted!",text:"Your file has been deleted.",type:"success",icon:"success",timer:1500}),e.setState({change:!e.state.change,shouldShowConfirmationDialog:!1})}))},e.handleDialogClose=function(){e.setState({shouldShowConfirmationDialog:!1})},e}return Object(h.a)(a,[{key:"componentDidMount",value:function(){var e=this;Fe().then((function(t){return e.setState({companyList:t.data})}))}},{key:"componentDidUpdate",value:function(e,t){var a=this;t.change!==this.state.change&&Fe().then((function(e){return a.setState({companyList:e.data})}))}},{key:"render",value:function(){var e=this,t=this.state.companyList;return l.a.createElement(Be.a,null,l.a.createElement(Ie.a,null,l.a.createElement(ee.a,{elevation:6,className:"invoice-details w-100 overflow-auto"},l.a.createElement("div",{className:"row mt-4 ms-3 me-3 mb-2 justify-content-between"},l.a.createElement("div",{className:"col-md-2"},l.a.createElement("h4",{className:"fw-bold"},"Company List")),l.a.createElement("div",{className:"col-md-2"},l.a.createElement("div",{className:"justify-content-end"},l.a.createElement("div",{className:"mb-4"},l.a.createElement(B.a,{to:"/company/create"},l.a.createElement(te.a,{className:"mb-3",variant:"primary"},"Add Company"))))),l.a.createElement(Le.a,{style:{minWidth:750}},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",{className:"pl-sm-24"},"Company Name"),l.a.createElement("th",{className:"px-0"},"GSTIN"),l.a.createElement("th",{className:"px-0"},"Address"),l.a.createElement("th",{className:"px-0"},"Mobile"),l.a.createElement("th",{className:"px-0"},"Alternate Mobile No"),l.a.createElement("th",{className:"px-0"},"Action"))),l.a.createElement("tbody",null,t.map((function(t,a){return l.a.createElement("tr",{key:t.id},l.a.createElement("td",{className:"pl-sm-24 capitalize",align:"left"},t.name),l.a.createElement("td",{className:"pl-0 capitalize",align:"left"},t.address),l.a.createElement("td",{className:"pl-0 capitalize",align:"left"},t.gstin),l.a.createElement("td",{className:"pl-0 capitalize",align:"left"},t.mobile1),l.a.createElement("td",{className:"pl-0 capitalize",align:"left"},t.mobile2),l.a.createElement("td",{className:"pl-0"},l.a.createElement("i",{className:"i-Arrow-Right mr-4 font-weight-900 text-primary cursor-pointer",onClick:function(){return e.handeViewClick(t.id)}}),l.a.createElement("i",{className:"i-Folder-Trash font-weight-900 text-danger cursor-pointer",onClick:function(){Ae.a.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",type:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!",cancelButtonText:"No"}).then((function(a){a.value&&e.handleDeleteInvoice(t.id)}))}})))}))))))))}}]),a}(n.Component)},{path:"/invoice/company/:id",component:$e}],Xe=function(e,t,a){return re.a.get("/api/bill-to-list/1?limit=".concat(e,"&offset=").concat(e*t,"&search_term=").concat(a))},et=function(e){return re.a.get("/api/bill-to/"+e)},tt=function(e){return re.a.delete("/api/bill-to/"+e)},at=function(e){return re.a.put("/api/bill-to/0",e)},nt=function(e,t){return re.a.patch("/api/bill-to/"+e,t)},lt=function(e){Object(b.a)(a,e);var t=Object(v.a)(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={},e.subTotalCost=0,e}return Object(h.a)(a,[{key:"componentDidMount",value:function(){var e=this;"create"!==this.props.match.params.id&&et(this.props.match.params.id).then((function(t){e.setState({party:t.data})}))}},{key:"render",value:function(){var e,t,a,n,r,i,s,o,c,m,u,d,p,h,b,v,g,E,f,y,N,k,_,w,O,S,x,C,j,I,D,P,L,T,A,M,q,R,z,F,Y,V,U,K,G,Q,W,Z,H,$,J,X,ee,ae,ne,le,re,ie,se,oe,ce=this;return l.a.createElement("div",{className:"invoice-viewer py-16"},l.a.createElement("div",{className:"viewer_actions px-3 mb-3 d-flex align-items-center justify-content-between"},l.a.createElement(B.a,{to:"/invoice/party/list"},l.a.createElement("i",{className:"i-Left1 text-20 font-weight-700"}," ")),l.a.createElement("div",null,l.a.createElement(te.a,{className:"mr-3 py-2",variant:"primary",onClick:function(){return ce.props.togglePartyEditor()}},"Edit Party"))),l.a.createElement("div",{id:"print-area",className:"px-3"},l.a.createElement("div",{className:"table-responsive"},l.a.createElement("div",{className:"col"},l.a.createElement("h4",{className:"fw-bold"},"BILLING DETAILS OF ",null===(e=this.state)||void 0===e||null===(t=e.party)||void 0===t||null===(a=t.name)||void 0===a?void 0:a.toUpperCase())),l.a.createElement("table",{id:"user_table",className:"table"},l.a.createElement("thead",null),l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("td",{className:"pl-sm-24 capitalize",align:"left"},l.a.createElement("strong",null," Company GSTIN :- ")),l.a.createElement("td",{className:"pl-sm-24 capitalize",align:"left"},null===(n=this.state)||void 0===n||null===(r=n.party)||void 0===r?void 0:r.gstin),l.a.createElement("td",{className:"pl-sm-24 capitalize",align:"left"},l.a.createElement("strong",null," Company Address :- ")),l.a.createElement("td",{className:"pl-sm-24 capitalize",align:"left"},null===(i=this.state)||void 0===i||null===(s=i.party)||void 0===s?void 0:s.address)),l.a.createElement("tr",null,l.a.createElement("td",{className:"pl-sm-24 capitalize",align:"left"},l.a.createElement("strong",null," Company State :- ")),l.a.createElement("td",{className:"pl-sm-24 capitalize",align:"left"},null===(o=this.state)||void 0===o||null===(c=o.party)||void 0===c?void 0:c.state),l.a.createElement("td",{className:"pl-sm-24 capitalize",align:"left"},l.a.createElement("strong",null," Company State Code :- ")),l.a.createElement("td",{className:"pl-sm-24 capitalize",align:"left"},null===(m=this.state)||void 0===m||null===(u=m.party)||void 0===u?void 0:u.state_code)))),l.a.createElement("div",{className:"table-responsive"},l.a.createElement("div",{className:"col"},l.a.createElement("h4",{className:"fw-bold"},"SHIPING DETAILS OF ",null===(d=this.state)||void 0===d||null===(p=d.party)||void 0===p||null===(h=p.name)||void 0===h?void 0:h.toUpperCase())),l.a.createElement("table",{className:"table"},l.a.createElement("thead",null),l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement("strong",null," Name :- ")),l.a.createElement("td",null,null===(b=this.state)||void 0===b||null===(v=b.party)||void 0===v||null===(g=v.ship_details)||void 0===g||null===(E=g.name)||void 0===E?void 0:E.toUpperCase()),l.a.createElement("td",null,l.a.createElement("strong",null," GSTIN :- ")),l.a.createElement("td",null,null===(f=this.state)||void 0===f||null===(y=f.party)||void 0===y||null===(N=y.ship_details)||void 0===N?void 0:N.gstin)),l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement("strong",null," Address :- ")),l.a.createElement("td",null,null===(k=this.state)||void 0===k||null===(_=k.party)||void 0===_||null===(w=_.ship_details)||void 0===w?void 0:w.address),l.a.createElement("td",null,l.a.createElement("strong",null," State :- ")),l.a.createElement("td",null,null===(O=this.state)||void 0===O||null===(S=O.party)||void 0===S||null===(x=S.ship_details)||void 0===x?void 0:x.state))))),""===(null===(C=this.state)||void 0===C||null===(j=C.party)||void 0===j||null===(I=j.expense)||void 0===I?void 0:I.tulai)?l.a.createElement(l.a.Fragment,null):l.a.createElement("div",{className:"table-responsive"},l.a.createElement("div",{className:"col"},l.a.createElement("h4",{className:"fw-bold"},"EXPENSE DETAILS OF ",null===(D=this.state)||void 0===D||null===(P=D.party)||void 0===P||null===(L=P.name)||void 0===L?void 0:L.toUpperCase())),l.a.createElement("table",{className:"table"},l.a.createElement("thead",null),l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement("strong",null," Tulai :- ")),l.a.createElement("td",null,null===(T=this.state)||void 0===T||null===(A=T.party)||void 0===A||null===(M=A.expense)||void 0===M?void 0:M.tulai," % OF AMOUNT"),l.a.createElement("td",null,l.a.createElement("strong",null," Dharmada :- ")),l.a.createElement("td",null,null===(q=this.state)||void 0===q||null===(R=q.party)||void 0===R||null===(z=R.expense)||void 0===z?void 0:z.dharmada," % OF AMOUNT"),l.a.createElement("td",null,l.a.createElement("strong",null," Wages :- ")),l.a.createElement("td",null,null===(F=this.state)||void 0===F||null===(Y=F.party)||void 0===Y||null===(V=Y.expense)||void 0===V?void 0:V.wages," PER QTL")),l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement("strong",null," Commision :- ")),l.a.createElement("td",null,null===(U=this.state)||void 0===U||null===(K=U.party)||void 0===K||null===(G=K.expense)||void 0===G?void 0:G.commision," % OF AMOUNT"),l.a.createElement("td",null,l.a.createElement("strong",null," Mandi Shulk :- ")),l.a.createElement("td",null,null===(Q=this.state)||void 0===Q||null===(W=Q.party)||void 0===W||null===(Z=W.expense)||void 0===Z?void 0:Z.mandi_shulk," % OF AMOUNT"),l.a.createElement("td",null,l.a.createElement("strong",null," Vikas Shulk :- ")),l.a.createElement("td",null,null===(H=this.state)||void 0===H||null===($=H.party)||void 0===$||null===(J=$.expense)||void 0===J?void 0:J.vikas_shulk," % OF AMOUNT")),l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement("strong",null," Sutli :- ")),l.a.createElement("td",null,null===(X=this.state)||void 0===X||null===(ee=X.party)||void 0===ee||null===(ae=ee.expense)||void 0===ae?void 0:ae.sutli," PER BAG"),l.a.createElement("td",null,l.a.createElement("strong",null," Loading Charge :- ")),l.a.createElement("td",null,null===(ne=this.state)||void 0===ne||null===(le=ne.party)||void 0===le||null===(re=le.expense)||void 0===re?void 0:re.loading_charges," PER BAG"),l.a.createElement("td",null,l.a.createElement("strong",null," Total Other Expense :- ")),l.a.createElement("td",null,null===(ie=this.state)||void 0===ie||null===(se=ie.party)||void 0===se||null===(oe=se.expense)||void 0===oe?void 0:oe.others))))))))}}]),a}(n.Component),rt=Object(o.g)(lt),it=function(e){Object(b.a)(a,e);var t=Object(v.a)(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={party_username:"",loading:!1,id:"",name:"",address:"",gstin:"",state:"",state_code:"",bill_type:"MandiOut",bill_info:"bill_to",expense:{tulai:0,dharmada:0,wages:0,mandi_shulk:0,vikas_shulk:0,others:0,commision:0,loading_charges:0,bardana:0,sutli:0},ship_details:{name:"",address:"",gstin:"",state:"",state_code:""}},e.generateRandomId=function(){e.setState({id:0})},e.handleSubmit=function(t,a){var n=a.setSubmitting,l=e.state.id;e.setState({loading:!0}),n(!0),e.props.isNewParty?at(t).then((function(t){e.setState({loading:!1}),e.props.history.push("/invoice/party/".concat(t.data.id)),e.props.togglePartyEditor()})):nt(l,t).then((function(){e.setState({loading:!1}),e.props.togglePartyEditor()}))},e.toggleMandiIn=function(){var t="MandiIn"===e.state.bill_type?"MandiOut":"MandiIn";e.setState({bill_type:t})},e}return Object(h.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.isNewParty?this.generateRandomId():et(this.props.match.params.id).then((function(t){e.setState(Object(j.a)({},t.data))})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this,t=this.state.loading;return l.a.createElement("div",{className:"invoice-viewer py-3"},l.a.createElement(ye.b,{initialValues:this.state,validationSchema:st,onSubmit:this.handleSubmit,enableReinitialize:!0},(function(a){var r=a.values,i=a.errors,s=a.touched,o=a.handleChange,c=a.handleBlur,m=a.handleSubmit,u=(a.isSubmitting,a.setSubmitting,a.setFieldValue),d=a.setFieldTouched;return l.a.createElement(n.Fragment,null,l.a.createElement(ve.a,{onSubmit:m,className:"px-3"},l.a.createElement("div",{className:"row mb-3 justify-content-between"},l.a.createElement("div",{className:"col-md-3"},l.a.createElement("h4",{className:"fw-bold"},"Party")),l.a.createElement("div",{className:"col-md-2 text-right"},l.a.createElement("div",{className:"justify-content-end"},l.a.createElement("div",{className:"mb-4"},l.a.createElement(te.a,{type:"button",className:"me-3 py-2",variant:"warning",onClick:function(){return e.props.history.push("/invoice/party/list")}},"Cancel"),l.a.createElement(te.a,{type:"submit",className:"py-2",variant:"primary",disabled:t},"Save"))))),l.a.createElement("div",{className:"custom-separator"}),l.a.createElement("div",{className:"form-group row"},l.a.createElement("label",{className:"ul-form__label ul-form--margin col-lg-5 col-form-label fw-bold"},"Unique Name :"),l.a.createElement("div",{className:"col-lg-2"},l.a.createElement(ge.a,{value:r.party_username,name:"party_username",type:"text",placeholder:"Party Unique Name",onChange:o,onBlur:c,isInvalid:i.party_username&&s.party_username}))),l.a.createElement("div",{className:"form-group row"},l.a.createElement("label",{className:"ul-form__label ul-form--margin col-lg-3 col-form-label fw-bold"},"Party Name :"),l.a.createElement("div",{className:"col-lg-2"},l.a.createElement(ge.a,{value:r.name,name:"name",type:"text",placeholder:"Party Name",onChange:function(e){"bill_to"===r.bill_info?(u("ship_details.name",e.target.value),u("name",e.target.value)):u("name",e.target.value)},onBlur:c,isInvalid:i.name&&s.name})),l.a.createElement("label",{className:"ul-form__label ul-form--margin col-lg-3 col-form-label fw-bold"},"Party GSTIN :"),l.a.createElement("div",{className:"col-lg-2"},l.a.createElement(ge.a,{value:r.gstin,name:"gstin",type:"text",placeholder:"Party GSTIN",onChange:function(e){"bill_to"===r.bill_info?(u("ship_details.gstin",e.target.value),u("gstin",e.target.value)):u("gstin",e.target.value)},onBlur:c,isInvalid:i.gstin&&s.gstin}))),l.a.createElement("div",{className:"form-group row"},l.a.createElement("label",{className:"ul-form__label ul-form--margin col-lg-3 col-form-label fw-bold"},"Party Address :"),l.a.createElement("div",{className:"col-lg-2"},l.a.createElement(ge.a,{value:r.address,name:"address",type:"text",placeholder:"Party Address",onChange:function(e){"bill_to"===r.bill_info?(u("ship_details.address",e.target.value),u("address",e.target.value)):u("address",e.target.value)},onBlur:c,isInvalid:i.address&&s.address})),l.a.createElement("label",{className:"ul-form__label ul-form--margin col-lg-3 col-form-label fw-bold"},"Party State :"),l.a.createElement("div",{className:"col-lg-2"},l.a.createElement(ve.a.Select,{name:"state_code",value:r.state_code,onChange:function(e){u("state",e.target.options[e.target.options.selectedIndex].label),u("state_code",e.target.value),"bill_to"===r.bill_info&&(u("ship_details.state",e.target.options[e.target.options.selectedIndex].label),u("ship_details.state_code",e.target.value))},onBlur:function(){d("state",!0),d("state_code",!0)},isInvalid:i.state&&s.state&&i.state_code&&s.state_code},l.a.createElement("option",{value:0,key:0},"Please select State"),Oe.map((function(e,t){return l.a.createElement("option",{value:e.value,key:e.label},e.label)}))))),l.a.createElement("div",{className:"custom-separator"}),l.a.createElement("div",{className:"form-group row"},l.a.createElement("label",{className:"ul-form__label ul-form--margin col-lg-3 col-form-label fw-bold"},"Bill Type :"),l.a.createElement("div",{className:"col-lg-2"},l.a.createElement(ve.a.Select,{name:"bill_info",value:r.bill_info,onChange:function(e){u("bill_info",e.target.value),"bill_to"===e.target.value&&(u("ship_details.name",r.name),u("ship_details.gstin",r.gstin),u("ship_details.address",r.address),u("ship_details.state",r.state),u("ship_details.state_code",r.state_code))},onBlur:function(){return d("bill_info",!0)},isInvalid:i.bill_info&&s.bill_info},l.a.createElement("option",{value:"bill_to",key:"bill_to"},"Bill To"),l.a.createElement("option",{value:"bill_to_ship_to",key:"bill_to_ship_to"},"Bill To - Ship To"))),l.a.createElement("label",{className:"ul-form__label ul-form--margin col-lg-3 col-form-label fw-bold"},"Expense :"),l.a.createElement("div",{className:"col-lg-2"},l.a.createElement(ve.a.Select,{name:"bill_type",value:r.bill_type,onChange:function(e){return u("bill_type",e.target.value)},onBlur:function(){return d("bill_type",!0)},isInvalid:i.bill_type&&s.bill_type},l.a.createElement("option",{value:"MandiIn",key:"MandiIn"},"Yes"),l.a.createElement("option",{value:"MandiOut",key:"MandiOut"},"No")))),"bill_to_ship_to"===r.bill_info?l.a.createElement("div",null,l.a.createElement("div",{className:"custom-separator"}),l.a.createElement("div",{className:"form-group row"},l.a.createElement("label",{className:"ul-form__label ul-form--margin col-lg-3 col-form-label fw-bold"},"Shiping Name :"),l.a.createElement("div",{className:"col-lg-2"},l.a.createElement(ge.a,{value:r.ship_details.name,name:"ship_details.name",type:"text",placeholder:"Ship Party Name",onChange:o,onBlur:c,isInvalid:i.ship_details&&s.ship_details&&i.ship_details.name&&s.ship_details.name})),l.a.createElement("label",{className:"ul-form__label ul-form--margin col-lg-3 col-form-label fw-bold"},"Shiping GSTIN :"),l.a.createElement("div",{className:"col-lg-2"},l.a.createElement(ge.a,{value:r.ship_details.gstin,name:"ship_details.gstin",type:"text",placeholder:"Ship Party GSTIN",onChange:o,onBlur:c,isInvalid:i.ship_details&&s.ship_details&&i.ship_details.gstin&&s.ship_details.gstin}))),l.a.createElement("div",{className:"form-group row"},l.a.createElement("label",{className:"ul-form__label ul-form--margin col-lg-3 col-form-label fw-bold"},"Shipping Address :"),l.a.createElement("div",{className:"col-lg-2"},l.a.createElement(ge.a,{value:r.ship_details.address,name:"ship_details.address",type:"text",placeholder:"Ship Party Address",onChange:o,onBlur:c,isInvalid:i.ship_details&&s.ship_details&&i.ship_details.address&&s.ship_details.address})),l.a.createElement("label",{className:"ul-form__label ul-form--margin col-lg-3 col-form-label fw-bold"},"Shipping State :"),l.a.createElement("div",{className:"col-lg-2"},l.a.createElement(ve.a.Select,{name:"state_code",value:r.state_code,onChange:function(e){u("ship_details.state",e.target.options[e.target.options.selectedIndex].label),u("ship_details.state_code",e.target.value)},onBlur:function(){d("ship_details.state",!0),d("ship_details.state_code",!0)},isInvalid:i.ship_details&&s.ship_details&&i.ship_details.state&&s.ship_details.state&&i.ship_details.state_code&&s.ship_details.state_code},l.a.createElement("option",{value:0,key:0},"Please select State"),Oe.map((function(e,t){return l.a.createElement("option",{value:e.value,key:e.label},e.label)})))))):l.a.createElement(l.a.Fragment,null),"MandiIn"===r.bill_type?l.a.createElement("div",null,l.a.createElement("div",{className:"custom-separator"}),l.a.createElement("div",{className:"form-group row"},l.a.createElement("label",{className:"ul-form__label ul-form--margin col-lg-3 col-form-label fw-bold"},"Tulai :"),l.a.createElement("div",{className:"col-lg-2"},l.a.createElement(ge.a,{value:r.expense.tulai,name:"expense.tulai",type:"number",placeholder:"Tulai in %",onChange:o,onBlur:c,isInvalid:i.expense&&s.expense&&i.expense.tulai&&s.expense.tulai})),l.a.createElement("label",{className:"ul-form__label ul-form--margin col-lg-3 col-form-label fw-bold"},"Dharmada :"),l.a.createElement("div",{className:"col-lg-2"},l.a.createElement(ge.a,{value:r.expense.dharmada,name:"expense.dharmada",type:"number",placeholder:"Dharmada in %",onChange:o,onBlur:c,isInvalid:i.expense&&s.expense&&i.expense.dharmada&&s.expense.dharmada}))),l.a.createElement("div",{className:"form-group row"},l.a.createElement("label",{className:"ul-form__label ul-form--margin col-lg-3 col-form-label fw-bold"},"Wages :"),l.a.createElement("div",{className:"col-lg-2"},l.a.createElement(ge.a,{value:r.expense.wages,name:"expense.wages",type:"number",placeholder:"Wages per Qtl",onChange:o,onBlur:c,isInvalid:i.expense&&s.expense&&i.expense.wages&&s.expense.wages})),l.a.createElement("label",{className:"ul-form__label ul-form--margin col-lg-3 col-form-label fw-bold"},"Sutli :"),l.a.createElement("div",{className:"col-lg-2"},l.a.createElement(ge.a,{value:r.expense.sutli,name:"expense.sutli",type:"number",placeholder:"Sutli Per Bag",onChange:o,onBlur:c,isInvalid:i.expense&&s.expense&&i.expense.sutli&&s.expense.sutli}))),l.a.createElement("div",{className:"form-group row"},l.a.createElement("label",{className:"ul-form__label ul-form--margin col-lg-3 col-form-label fw-bold"},"Mandi Shulk :"),l.a.createElement("div",{className:"col-lg-2"},l.a.createElement(ge.a,{value:r.expense.mandi_shulk,name:"expense.mandi_shulk",type:"number",placeholder:"Mandi Shulk in %",onChange:o,onBlur:c,isInvalid:i.expense&&s.expense&&i.expense.mandi_shulk&&s.expense.mandi_shulk})),l.a.createElement("label",{className:"ul-form__label ul-form--margin col-lg-3 col-form-label fw-bold"},"Vikas Shulk :"),l.a.createElement("div",{className:"col-lg-2"},l.a.createElement(ge.a,{value:r.expense.vikas_shulk,name:"expense.vikas_shulk",type:"number",placeholder:"Vikas Shulk in %",onChange:o,onBlur:c,isInvalid:i.expense&&s.expense&&i.expense.vikas_shulk&&s.expense.vikas_shulk}))),l.a.createElement("div",{className:"form-group row"},l.a.createElement("label",{className:"ul-form__label ul-form--margin col-lg-3 col-form-label fw-bold"},"Commision :"),l.a.createElement("div",{className:"col-lg-2"},l.a.createElement(ge.a,{value:r.expense.commision,name:"expense.commision",type:"number",placeholder:"Commision in %",onChange:o,onBlur:c,isInvalid:i.expense&&s.expense&&i.expense.commision&&s.expense.commision})),l.a.createElement("label",{className:"ul-form__label ul-form--margin col-lg-3 col-form-label fw-bold"},"Loading Charges :"),l.a.createElement("div",{className:"col-lg-2"},l.a.createElement(ge.a,{value:r.expense.loading_charges,name:"expense.loading_charges",type:"number",placeholder:"Loading Charges per bag",onChange:o,onBlur:c,isInvalid:i.expense&&s.expense&&i.expense.loading_charges&&s.expense.loading_charges}))),l.a.createElement("div",{className:"form-group row"},l.a.createElement("label",{className:"ul-form__label ul-form--margin col-lg-3 col-form-label fw-bold"},"Bardana :"),l.a.createElement("div",{className:"col-lg-2"},l.a.createElement(ge.a,{value:r.expense.bardana,name:"expense.bardana",type:"number",placeholder:"Bardana per bag",onChange:o,onBlur:c,isInvalid:i.expense&&s.expense&&i.expense.bardana&&s.expense.bardana})),l.a.createElement("label",{className:"ul-form__label ul-form--margin col-lg-3 col-form-label fw-bold"},"Others :"),l.a.createElement("div",{className:"col-lg-2"},l.a.createElement(ge.a,{value:r.expense.others,name:"expense.others",type:"number",placeholder:"Other charges in total",onChange:o,onBlur:c,isInvalid:i.expense&&s.expense&&i.expense.others&&s.expense.others})))):l.a.createElement(l.a.Fragment,null)))})))}}]),a}(n.Component),st=_e.object().shape({name:_e.string().required(),address:_e.string().required(),gstin:_e.string().optional().matches(/^[0-9]{2}[A-Z]{5}[0-9]{4}[A-Z]{1}[1-9A-Z]{1}Z[0-9A-Z]{1}$/,"Please Enter incorrect format"),state:_e.string().required(),state_code:_e.number().required(),bill_info:_e.string().required(),bill_type:_e.string().required(),ship_details:_e.object().shape({name:_e.string().required(),address:_e.string().required(),gstin:_e.string().optional().matches(/^[0-9]{2}[A-Z]{5}[0-9]{4}[A-Z]{1}[1-9A-Z]{1}Z[0-9A-Z]{1}$/,"Please Enter incorrect format"),state:_e.string().required(),state_code:_e.number().required()}),expense:_e.object().shape({tulai:_e.number().optional(),dharmada:_e.number().optional(),wages:_e.number().optional(),mandi_shulk:_e.number().optional(),vikas_shulk:_e.number().optional(),others:_e.number().optional(),commision:_e.number().optional(),loading_charges:_e.number().optional(),bardana:_e.number().optional(),sutli:_e.number().optional()})}),ot=Object(o.g)(it),ct=function(e){Object(b.a)(a,e);var t=Object(v.a)(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={showPartyEditor:!1,isNewParty:!1},e.togglePartyEditor=function(){e.setState({showPartyEditor:!e.state.showPartyEditor,isNewParty:!1})},e}return Object(h.a)(a,[{key:"componentDidMount",value:function(){"create"===this.props.match.params.id&&this.setState({showPartyEditor:!0,isNewParty:!0})}},{key:"componentDidUpdate",value:function(e,t){e.match.params.id!==this.props.match.params.id&&"create"===this.props.match.params.id&&this.setState({showPartyEditor:!0,isNewParty:!0})}},{key:"render",value:function(){return l.a.createElement(ee.a,{elevation:6,className:"invoice-details m-sm-30"},this.state.showPartyEditor?l.a.createElement(ot,{togglePartyEditor:this.togglePartyEditor,isNewParty:this.state.isNewParty}):l.a.createElement(rt,{togglePartyEditor:this.togglePartyEditor}))}}]),a}(n.Component),mt=function(e){Object(b.a)(a,e);var t=Object(v.a)(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={partyList:[],pageNumber:0,billperpage:1,change:!1,count:null,shouldShowConfirmationDialog:!1},e.pageNumber=0,e.billperpage=5,e.handlePageClick=function(t){e.pageNumber=t.selected,e.setState({pageNumber:t.selected})},e.handleSelectCount=function(t){e.billperpage=t.target.value,e.billperpage*e.pageNumber>=e.state.count?(e.pageNumber=Math.ceil(e.state.count/e.billperpage)-1,e.setState({pageNumber:Math.ceil(e.state.count/e.billperpage)-1,billperpage:t.target.value})):e.setState({billperpage:t.target.value})},e.handeViewClick=function(t){e.props.history.push("/invoice/party/".concat(t))},e.handleDeleteInvoice=function(t){tt(t).then((function(t){Ae.a.fire({title:"Deleted!",text:"Your file has been deleted.",type:"success",icon:"success",timer:1500}),e.setState({change:!e.state.change,shouldShowConfirmationDialog:!1})}))},e.handleDialogClose=function(){e.setState({shouldShowConfirmationDialog:!1})},e}return Object(h.a)(a,[{key:"componentDidMount",value:function(){var e=this;Xe(this.billperpage,this.pageNumber,this.props.search).then((function(t){return e.setState({partyList:t.data.results,count:t.data.count})}))}},{key:"componentDidUpdate",value:function(e,t){var a=this;t.pageNumber!==this.state.pageNumber&&Xe(this.billperpage,this.pageNumber,this.props.search).then((function(e){return a.setState({partyList:e.data.results,count:e.data.count})})),t.change!==this.state.change&&Xe(this.billperpage,this.pageNumber,this.props.search).then((function(e){return a.setState({partyList:e.data.results,count:e.data.count})})),t.billperpage!==this.state.billperpage&&Xe(this.billperpage,this.pageNumber,this.props.search).then((function(e){return a.setState({partyList:e.data.results,count:e.data.count})})),e.search!==this.props.search&&Xe(this.billperpage,this.pageNumber,this.props.search).then((function(e){return a.setState({partyList:e.data.results,count:e.data.count})}))}},{key:"render",value:function(){var e=this,t=this.state.partyList;return l.a.createElement("div",null,l.a.createElement("div",{className:"w-100 overflow-auto"},l.a.createElement(Le.a,{style:{minWidth:750}},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",{className:"pl-sm-24"},"Party Name"),l.a.createElement("th",{className:"px-0"},"GSTIN"),l.a.createElement("th",{className:"px-0"},"Address"),l.a.createElement("th",{className:"px-0"},"State"),l.a.createElement("th",{className:"px-0"},"Action"))),l.a.createElement("tbody",null,t.map((function(t,a){return l.a.createElement("tr",{key:t.id},l.a.createElement("td",{className:"pl-sm-24 capitalize",align:"left"},t.name),l.a.createElement("td",{className:"pl-0 capitalize",align:"left"},t.gstin),l.a.createElement("td",{className:"pl-0 capitalize",align:"left"},t.address),l.a.createElement("td",{className:"pl-0 capitalize",align:"left"},t.state),l.a.createElement("td",{className:"pl-0"},l.a.createElement("i",{className:"i-Arrow-Right mr-4 font-weight-900 text-primary cursor-pointer",onClick:function(){return e.handeViewClick(t.id)}}),l.a.createElement("i",{className:"i-Folder-Trash font-weight-900 text-danger cursor-pointer",onClick:function(){Ae.a.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",type:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!",cancelButtonText:"No"}).then((function(a){a.value&&e.handleDeleteInvoice(t.id)}))}})))}))))),l.a.createElement("div",{className:"row mb-3"},l.a.createElement("div",{className:"d-flex justify-content-center"},l.a.createElement("select",{id:"picker1",className:"form-control",name:"select",value:this.billperpage,onChange:this.handleSelectCount,style:{width:"4em",height:"2.5em"}},l.a.createElement("option",{value:5},"5"),l.a.createElement("option",{value:10},"10"),l.a.createElement("option",{value:25},"25"),l.a.createElement("option",{value:50},"50")),l.a.createElement("div",{className:"mt-1"},l.a.createElement(qe.a,{previousLabel:"Previous",nextLabel:"Next",breakLabel:"...",breakClassName:"break-me",pageCount:this.state.count/this.billperpage,marginPagesDisplayed:0,pageRangeDisplayed:2,onPageChange:function(t){e.handlePageClick(t)},containerClassName:"pagination pagination-lg",subContainerClassName:"pages pagination",activeClassName:"active",forcePage:this.pageNumber})))))}}]),a}(n.Component),ut=[{path:"/invoice/party/list",auth:"ADMIN",component:function(e){Object(b.a)(a,e);var t=Object(v.a)(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={search:"",search_s:""},e.search="",e.handleSelectYear=function(t){e.setState({year:t.target.value}),e.year=t.target.value},e.handleChangeSearch=function(t){e.setState({search:t.target.value}),e.search=t.target.value},e.handleBlur=function(t){e.setState({search_s:e.search})},e.handleKeyPress=function(t){"Enter"===t.key&&e.setState({search_s:e.search})},e}return Object(h.a)(a,[{key:"render",value:function(){return l.a.createElement(Be.a,null,l.a.createElement(Ie.a,null,l.a.createElement(ee.a,{elevation:6,className:"invoice-details"},l.a.createElement("div",{className:"row mt-4 ms-3 me-3 mb-2 justify-content-between"},l.a.createElement("div",{className:"col-md-2"},l.a.createElement("h4",{className:"fw-bold"},"Party List")),l.a.createElement("div",{className:"col-md-3"},l.a.createElement("input",{className:"form-control",id:"search",name:"search",placeholder:"Search Here..",type:"text",onChange:this.handleChangeSearch,onBlur:this.handleBlur,onKeyPress:this.handleKeyPress,value:this.search})),l.a.createElement("div",{className:"col-md-2"},l.a.createElement("div",{className:"justify-content-end"},l.a.createElement("div",{className:"mb-4"},l.a.createElement(B.a,{to:"/invoice/party/create"},l.a.createElement(te.a,{className:"mb-3",variant:"primary"},"Add Party"))))),l.a.createElement(mt,Object.assign({search:this.state.search_s},this.props))))))}}]),a}(n.Component)},{path:"/invoice/party/:id",auth:"ADMIN",component:ct}],dt=function(e){return re.a.get("/api/orders/party/"+e)},pt=function(e){return re.a.delete("/api/orders/party/"+e)},ht=function(e){return re.a.put("/api/orders/party/0",e)},bt=function(e,t){return re.a.patch("/api/orders/party/"+e,t)},vt=function(e){Object(b.a)(a,e);var t=Object(v.a)(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={},e.subTotalCost=0,e}return Object(h.a)(a,[{key:"componentDidMount",value:function(){var e=this;"create"!==this.props.match.params.id&&dt(this.props.match.params.id).then((function(t){e.setState({broker:t.data})}))}},{key:"render",value:function(){var e,t,a,n,r,i,s,o,c,m,u,d,p=this;return l.a.createElement("div",{className:"invoice-viewer py-16"},l.a.createElement("div",{className:"viewer_actions px-3 mb-3 d-flex align-items-center justify-content-between"},l.a.createElement(B.a,{to:"/orders/broker/list"},l.a.createElement("i",{className:"i-Left1 text-20 font-weight-700"}," ")),l.a.createElement("div",null,l.a.createElement(te.a,{className:"mr-3 py-2",variant:"primary",onClick:function(){return p.props.toggleBrokerEditor()}},"Edit Broker"))),l.a.createElement("div",{id:"print-area",className:"px-3"},l.a.createElement("div",{className:"table-responsive"},l.a.createElement("div",{className:"col"},l.a.createElement("h4",{className:"fw-bold"},"DETAILS OF ",null===(e=this.state)||void 0===e||null===(t=e.broker)||void 0===t||null===(a=t.name)||void 0===a?void 0:a.toUpperCase())),l.a.createElement("table",{id:"user_table",className:"table"},l.a.createElement("thead",null),l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement("strong",null," Broker's Name :- ")),l.a.createElement("td",null,null===(n=this.state)||void 0===n||null===(r=n.broker)||void 0===r||null===(i=r.name)||void 0===i?void 0:i.toUpperCase()),l.a.createElement("td",null,l.a.createElement("strong",null," Contact Number ")),l.a.createElement("td",null,null===(s=this.state)||void 0===s||null===(o=s.broker)||void 0===o?void 0:o.contact_number)),l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement("strong",null," Broker's Email ID :- ")),l.a.createElement("td",null,null===(c=this.state)||void 0===c||null===(m=c.broker)||void 0===m?void 0:m.email),l.a.createElement("td",null,l.a.createElement("strong",null," Broker's Brokerage :- ")),l.a.createElement("td",null,null===(u=this.state)||void 0===u||null===(d=u.broker)||void 0===d?void 0:d.brokerage)))))))}}]),a}(n.Component),gt=Object(o.g)(vt),Et=function(e){Object(b.a)(a,e);var t=Object(v.a)(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={loading:!1,party_type:"broker",id:"",name:"",email:"",contact_number:"",brokerage:0},e.generateRandomId=function(){e.setState({id:0})},e.handleSubmit=function(t,a){var n=a.setSubmitting,l=e.state.id;e.setState({loading:!0}),n(!0),e.props.isNewBroker?ht(t).then((function(t){e.setState({loading:!1}),e.props.history.push("/orders/broker/".concat(t.data.id)),e.props.toggleBrokerEditor()})):bt(l,t).then((function(){e.setState({loading:!1}),e.props.toggleBrokerEditor()}))},e}return Object(h.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.isNewBroker?this.generateRandomId():dt(this.props.match.params.id).then((function(t){e.setState(Object(j.a)({},t.data))})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this,t=this.state.loading;return l.a.createElement("div",{className:"invoice-viewer py-3"},l.a.createElement(ye.b,{initialValues:this.state,validationSchema:ft,onSubmit:this.handleSubmit,enableReinitialize:!0},(function(a){var r=a.values,i=a.errors,s=a.touched,o=a.handleChange,c=a.handleBlur,m=a.handleSubmit;return l.a.createElement(n.Fragment,null,l.a.createElement(ve.a,{onSubmit:m,className:"px-3"},l.a.createElement("div",{className:"row mb-3 justify-content-between"},l.a.createElement("div",{className:"col-md-3"},l.a.createElement("h4",{className:"fw-bold"},"Broker")),l.a.createElement("div",{className:"col-md-2 text-right"},l.a.createElement("button",{onClick:function(){console.log(i)}}),l.a.createElement("div",{className:"justify-content-end"},l.a.createElement("div",{className:"mb-4"},l.a.createElement(te.a,{type:"button",className:"me-3 py-2",variant:"warning",onClick:function(){return e.props.history.push("/orders/broker/list")},tabIndex:12},"Cancel"),l.a.createElement(te.a,{type:"submit",className:"py-2",variant:"primary",disabled:t,tabIndex:11},"Save"))))),l.a.createElement("div",{className:"custom-separator"}),l.a.createElement("div",{className:"form-group row"},l.a.createElement("label",{className:"ul-form__label ul-form--margin col-lg-3 col-form-label fw-bold"},"Broker's Name :"),l.a.createElement("div",{className:"col-lg-2"},l.a.createElement(ge.a,{value:r.name,name:"name",type:"text",placeholder:"Broker's Name",onChange:o,onBlur:c,isInvalid:i.name&&s.name,tabIndex:1})),l.a.createElement("label",{className:"ul-form__label ul-form--margin col-lg-3 col-form-label fw-bold"},"Broker's Contact Number :"),l.a.createElement("div",{className:"col-lg-2"},l.a.createElement(ge.a,{value:r.contact_number,name:"contact_number",type:"text",placeholder:"Mobile No",onChange:o,onBlur:c,isInvalid:i.contact_number&&s.contact_number,tabIndex:2}))),l.a.createElement("div",{className:"form-group row"},l.a.createElement("label",{className:"ul-form__label ul-form--margin col-lg-3 col-form-label fw-bold"},"Broker's Email :"),l.a.createElement("div",{className:"col-lg-2"},l.a.createElement(ge.a,{value:r.email,name:"email",type:"email",placeholder:"Broker's Email",onChange:o,onBlur:c,isInvalid:i.email&&s.email,tabIndex:3})),l.a.createElement("label",{className:"ul-form__label ul-form--margin col-lg-3 col-form-label fw-bold"},"Broker's Brokerage :"),l.a.createElement("div",{className:"col-lg-2"},l.a.createElement(ge.a,{value:r.brokerage,name:"brokerage",type:"number",placeholder:"Broker's Brokerage",onChange:o,onBlur:c,isInvalid:i.brokerage&&s.brokerage,tabIndex:3}))),l.a.createElement("div",{className:"custom-separator"})))})))}}]),a}(n.Component),ft=_e.object().shape({name:_e.string().required(),contact_number:_e.string().optional().matches(/^(\+\d{1,3}[- ]?)?\d{10}$/,"Please Enter in correct format").nullable(),email:_e.string().optional().email().nullable(),brokerage:_e.number().optional().nullable()}),yt=Object(o.g)(Et),Nt=function(e){Object(b.a)(a,e);var t=Object(v.a)(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={showBrokerEditor:!1,isNewBroker:!1},e.toggleBrokerEditor=function(){e.setState({showBrokerEditor:!e.state.showBrokerEditor,isNewBroker:!1})},e}return Object(h.a)(a,[{key:"componentDidMount",value:function(){"create"===this.props.match.params.id&&this.setState({showBrokerEditor:!0,isNewBroker:!0})}},{key:"render",value:function(){return l.a.createElement(ee.a,{elevation:6,className:"invoice-details m-sm-30"},this.state.showBrokerEditor?l.a.createElement(yt,{toggleBrokerEditor:this.toggleBrokerEditor,isNewBroker:this.state.isNewBroker}):l.a.createElement(gt,{toggleBrokerEditor:this.toggleBrokerEditor}))}}]),a}(n.Component),kt=[{path:"/orders/broker/list",component:function(e){Object(b.a)(a,e);var t=Object(v.a)(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={companyList:[],shouldShowConfirmationDialog:!1},e.handeViewClick=function(t){e.props.history.push("/orders/broker/".concat(t))},e.handleDeleteInvoice=function(t){pt(t).then((function(t){Ae.a.fire({title:"Deleted!",text:"Your file has been deleted.",type:"success",icon:"success",timer:1500}),e.setState({companyList:t.data,shouldShowConfirmationDialog:!1})}))},e.handleDialogClose=function(){e.setState({shouldShowConfirmationDialog:!1})},e}return Object(h.a)(a,[{key:"componentDidMount",value:function(){var e=this;re.a.get("/api/orders/party-list/all?party_type=broker").then((function(t){return e.setState({companyList:t.data})}))}},{key:"render",value:function(){var e=this,t=this.state.companyList;return l.a.createElement(Be.a,null,l.a.createElement(Ie.a,null,l.a.createElement(ee.a,{elevation:6,className:"invoice-details w-100 overflow-auto"},l.a.createElement("div",{className:"row mt-4 ms-3 me-3 mb-2 justify-content-between"},l.a.createElement("div",{className:"col-md-2"},l.a.createElement("h4",{className:"fw-bold"},"Broker List")),l.a.createElement("div",{className:"col-md-2"},l.a.createElement("div",{className:"justify-content-end"},l.a.createElement("div",{className:"mb-4"},l.a.createElement(B.a,{to:"/orders/broker/create"},l.a.createElement(te.a,{className:"mb-3",variant:"primary"},"Add Broker"))))),l.a.createElement(Le.a,{style:{minWidth:750}},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",{className:"pl-sm-24"},"Broker Name"),l.a.createElement("th",{className:"px-0"},"Contact Number"),l.a.createElement("th",{className:"px-0"},"Email"),l.a.createElement("th",{className:"px-0"},"Brokerage"),l.a.createElement("th",{className:"px-0"},"Action"))),l.a.createElement("tbody",null,t.map((function(t,a){return l.a.createElement("tr",{key:t.id},l.a.createElement("td",{className:"pl-sm-24 capitalize",align:"left"},t.name),l.a.createElement("td",{className:"pl-0 capitalize",align:"left"},t.contact_number),l.a.createElement("td",{className:"pl-0 capitalize",align:"left"},t.email),l.a.createElement("td",{className:"pl-0 capitalize",align:"left"},t.brokerage),l.a.createElement("td",{className:"pl-0"},l.a.createElement("i",{className:"i-Arrow-Right mr-4 font-weight-900 text-primary cursor-pointer",onClick:function(){return e.handeViewClick(t.id)}}),l.a.createElement("i",{className:"i-Folder-Trash font-weight-900 text-danger cursor-pointer",onClick:function(){Ae.a.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",type:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!",cancelButtonText:"No"}).then((function(a){a.value&&e.handleDeleteInvoice(t.id)}))}})))}))))))))}}]),a}(n.Component)},{path:"/orders/broker/:id",component:Nt}],_t=function(e){return re.a.get("/api/orders/party/"+e)},wt=function(e){return re.a.delete("/api/orders/party/"+e)},Ot=function(e){return re.a.put("/api/orders/party/0",e)},St=function(e,t){return re.a.patch("/api/orders/party/"+e,t)},xt=function(e){Object(b.a)(a,e);var t=Object(v.a)(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={},e.subTotalCost=0,e}return Object(h.a)(a,[{key:"componentDidMount",value:function(){var e=this;"create"!==this.props.match.params.id&&_t(this.props.match.params.id).then((function(t){e.setState({broker:t.data})}))}},{key:"render",value:function(){var e,t,a,n,r,i,s,o,c,m,u,d,p=this;return l.a.createElement("div",{className:"invoice-viewer py-16"},l.a.createElement("div",{className:"viewer_actions px-3 mb-3 d-flex align-items-center justify-content-between"},l.a.createElement(B.a,{to:"/orders/broker/list"},l.a.createElement("i",{className:"i-Left1 text-20 font-weight-700"}," ")),l.a.createElement("div",null,l.a.createElement(te.a,{className:"mr-3 py-2",variant:"primary",onClick:function(){return p.props.toggleBrokerEditor()}},"Edit Broker"))),l.a.createElement("div",{id:"print-area",className:"px-3"},l.a.createElement("div",{className:"table-responsive"},l.a.createElement("div",{className:"col"},l.a.createElement("h4",{className:"fw-bold"},"DETAILS OF ",null===(e=this.state)||void 0===e||null===(t=e.broker)||void 0===t||null===(a=t.name)||void 0===a?void 0:a.toUpperCase())),l.a.createElement("table",{id:"user_table",className:"table"},l.a.createElement("thead",null),l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement("strong",null," Broker's Name :- ")),l.a.createElement("td",null,null===(n=this.state)||void 0===n||null===(r=n.broker)||void 0===r||null===(i=r.name)||void 0===i?void 0:i.toUpperCase()),l.a.createElement("td",null,l.a.createElement("strong",null," Contact Number ")),l.a.createElement("td",null,null===(s=this.state)||void 0===s||null===(o=s.broker)||void 0===o?void 0:o.contact_number)),l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement("strong",null," Broker's Email ID :- ")),l.a.createElement("td",null,null===(c=this.state)||void 0===c||null===(m=c.broker)||void 0===m?void 0:m.email),l.a.createElement("td",null,l.a.createElement("strong",null," Broker's Brokerage :- ")),l.a.createElement("td",null,null===(u=this.state)||void 0===u||null===(d=u.broker)||void 0===d?void 0:d.brokerage)))))))}}]),a}(n.Component),Ct=Object(o.g)(xt),jt=a(537),Bt=function(e){Object(b.a)(a,e);var t=Object(v.a)(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={loading:!1,id:"",party_type:"sales",name:"",contact_number:"",email:"",address:"",state:""},e.generateRandomId=function(){e.setState({id:0})},e.handleSubmit=function(t,a){var n=a.setSubmitting,l=e.state.id;e.setState({loading:!0}),n(!0),e.props.isNewBroker?Ot(t).then((function(t){e.setState({loading:!1}),e.props.history.push("/orders/broker/".concat(t.data.id)),e.props.toggleBrokerEditor()})):St(l,t).then((function(){e.setState({loading:!1}),e.props.toggleBrokerEditor()}))},e}return Object(h.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.isNewBroker?this.generateRandomId():_t(this.props.match.params.id).then((function(t){e.setState(Object(j.a)({},t.data))})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this,t=this.state.loading;return l.a.createElement("div",{className:"invoice-viewer py-3"},l.a.createElement(ye.b,{initialValues:this.state,validationSchema:It,onSubmit:this.handleSubmit,enableReinitialize:!0},(function(a){var r=a.values,i=a.errors,s=a.touched,o=a.handleChange,c=a.handleBlur,m=a.handleSubmit,u=a.setFieldValue,d=a.setFieldTouched;return l.a.createElement(n.Fragment,null,l.a.createElement(ve.a,{onSubmit:m,className:"px-3"},l.a.createElement("div",{className:"row mb-3 justify-content-between"},l.a.createElement("div",{className:"col-md-3"},l.a.createElement("h4",{className:"fw-bold"},"Party")),l.a.createElement("div",{className:"col-md-2 text-right"},l.a.createElement("div",{className:"justify-content-end"},l.a.createElement("div",{className:"mb-4"},l.a.createElement(te.a,{type:"button",className:"me-3 py-2",variant:"warning",onClick:function(){return e.props.history.push("/orders/broker/list")},tabIndex:12},"Cancel"),l.a.createElement(te.a,{type:"submit",className:"py-2",variant:"primary",disabled:t,tabIndex:11},"Save"))))),l.a.createElement("div",{className:"custom-separator"}),l.a.createElement("div",{className:"form-group row"},l.a.createElement("label",{className:"ul-form__label ul-form--margin col-lg-3 col-form-label fw-bold"},"Party Type :"),l.a.createElement("div",{className:"col-lg-2"},l.a.createElement(ve.a.Select,{name:"party_type",value:r.party_type,onChange:function(e){u("party_type",e.target.value)},onBlur:function(){return d("party_type",!0)},isInvalid:i.bill&&s.bill},l.a.createElement("option",{value:"sales",key:"sales"},"Sales"),l.a.createElement("option",{value:"purchase",key:"purchase"},"Purchase"),l.a.createElement("option",{value:"both",key:"both"},"Both"))),l.a.createElement("label",{className:"ul-form__label ul-form--margin col-lg-3 col-form-label fw-bold"},"Party Name :"),l.a.createElement("div",{className:"col-lg-2"},l.a.createElement(ge.a,{value:r.name,name:"name",type:"text",placeholder:"Name",onChange:o,onBlur:c,isInvalid:i.name&&s.name,tabIndex:2}))),l.a.createElement("div",{className:"form-group row"},l.a.createElement("label",{className:"ul-form__label ul-form--margin col-lg-3 col-form-label fw-bold"},"Broker's Email :"),l.a.createElement("div",{className:"col-lg-2"},l.a.createElement(ge.a,{value:r.email,name:"email",type:"email",placeholder:"Broker's Email",onChange:o,onBlur:c,isInvalid:i.email&&s.email,tabIndex:3})),l.a.createElement("label",{className:"ul-form__label ul-form--margin col-lg-3 col-form-label fw-bold"},"Broker's Brokerage :"),l.a.createElement("div",{className:"col-lg-2"},l.a.createElement(ge.a,{value:r.brokerage,name:"brokerage",type:"number",placeholder:"Broker's Brokerage",onChange:o,onBlur:c,isInvalid:i.brokerage&&s.brokerage,tabIndex:3}))),l.a.createElement("div",{className:"form-group row"},l.a.createElement("label",{className:"ul-form__label ul-form--margin col-lg-3 col-form-label fw-bold"},"Broker's Email :"),l.a.createElement("div",{className:"col-lg-2"},l.a.createElement(jt.a,null,l.a.createElement(ge.a,{value:r.email,name:"email",type:"text",placeholder:"QTY",onChange:o,onBlur:c,isInvalid:i.email&&s.email,tabIndex:3}),l.a.createElement(ve.a.Select,null,l.a.createElement("option",{value:"bags",key:"bags"},"Bags"),l.a.createElement("option",{value:"truck",key:"truck"},"Truck"),l.a.createElement("option",{value:"ton",key:"ton"},"Ton")))),l.a.createElement("label",{className:"ul-form__label ul-form--margin col-lg-3 col-form-label fw-bold"},"Broker's Brokerage :"),l.a.createElement("div",{className:"col-lg-2"},l.a.createElement(ge.a,{value:r.brokerage,name:"brokerage",type:"number",placeholder:"Broker's Brokerage",onChange:o,onBlur:c,isInvalid:i.brokerage&&s.brokerage,tabIndex:3}))),l.a.createElement("div",{className:"custom-separator"})))})))}}]),a}(n.Component),It=_e.object().shape({party_type:_e.string().required(),name:_e.string().required(),contact_number:_e.string().optional().matches(/^(\+\d{1,3}[- ]?)?\d{10}$/,"Please Enter in correct format"),email:_e.string().optional().email(),state:_e.string().optional(),address:_e.string().optional()}),Dt=Object(o.g)(Bt),Pt=function(e){Object(b.a)(a,e);var t=Object(v.a)(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={showBrokerEditor:!1,isNewBroker:!1},e.toggleBrokerEditor=function(){e.setState({showBrokerEditor:!e.state.showBrokerEditor,isNewBroker:!1})},e}return Object(h.a)(a,[{key:"componentDidMount",value:function(){"create"===this.props.match.params.id&&this.setState({showBrokerEditor:!0,isNewBroker:!0})}},{key:"render",value:function(){return l.a.createElement(ee.a,{elevation:6,className:"invoice-details m-sm-30"},this.state.showBrokerEditor?l.a.createElement(Dt,{toggleBrokerEditor:this.toggleBrokerEditor,isNewBroker:this.state.isNewBroker}):l.a.createElement(Ct,{toggleBrokerEditor:this.toggleBrokerEditor}))}}]),a}(n.Component),Lt=[{path:"/orders/party/list",component:function(e){Object(b.a)(a,e);var t=Object(v.a)(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={companyList:[],shouldShowConfirmationDialog:!1},e.handeViewClick=function(t){e.props.history.push("/orders/party/".concat(t))},e.handleDeleteInvoice=function(t){wt(t).then((function(t){Ae.a.fire({title:"Deleted!",text:"Your file has been deleted.",type:"success",icon:"success",timer:1500}),e.setState({companyList:t.data,shouldShowConfirmationDialog:!1})}))},e.handleDialogClose=function(){e.setState({shouldShowConfirmationDialog:!1})},e}return Object(h.a)(a,[{key:"componentDidMount",value:function(){var e=this;re.a.get("/api/orders/party-list/all?party_type__in=mandi-purchase&party_type__in=purchase&party_type__in=mandi-sales&party_type__in=sales").then((function(t){return e.setState({companyList:t.data})}))}},{key:"render",value:function(){var e=this,t=this.state.companyList;return l.a.createElement(Be.a,null,l.a.createElement(Ie.a,null,l.a.createElement(ee.a,{elevation:6,className:"invoice-details w-100 overflow-auto"},l.a.createElement("div",{className:"row mt-4 ms-3 me-3 mb-2 justify-content-between"},l.a.createElement("div",{className:"col-md-2"},l.a.createElement("h4",{className:"fw-bold"},"Broker List")),l.a.createElement("div",{className:"col-md-2"},l.a.createElement("div",{className:"justify-content-end"},l.a.createElement("div",{className:"mb-4"},l.a.createElement(B.a,{to:"/orders/broker/create"},l.a.createElement(te.a,{className:"mb-3",variant:"primary"},"Add Broker"))))),l.a.createElement(Le.a,{style:{minWidth:750}},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",{className:"pl-sm-24"},"Broker Name"),l.a.createElement("th",{className:"px-0"},"Contact Number"),l.a.createElement("th",{className:"px-0"},"Email"),l.a.createElement("th",{className:"px-0"},"Brokerage"),l.a.createElement("th",{className:"px-0"},"Action"))),l.a.createElement("tbody",null,t.map((function(t,a){return l.a.createElement("tr",{key:t.id},l.a.createElement("td",{className:"pl-sm-24 capitalize",align:"left"},t.name),l.a.createElement("td",{className:"pl-0 capitalize",align:"left"},t.contact_number),l.a.createElement("td",{className:"pl-0 capitalize",align:"left"},t.email),l.a.createElement("td",{className:"pl-0 capitalize",align:"left"},t.brokerage),l.a.createElement("td",{className:"pl-0"},l.a.createElement("i",{className:"i-Arrow-Right mr-4 font-weight-900 text-primary cursor-pointer",onClick:function(){return e.handeViewClick(t.id)}}),l.a.createElement("i",{className:"i-Folder-Trash font-weight-900 text-danger cursor-pointer",onClick:function(){Ae.a.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",type:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!",cancelButtonText:"No"}).then((function(a){a.value&&e.handleDeleteInvoice(t.id)}))}})))}))))))))}}]),a}(n.Component)},{path:"/orders/party/:id",component:Pt}],Tt=function(){var e=Object(le.a)(ne.a.mark((function e(t){return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,re.a.put("/api/orders/party/0",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),At=function(){var e=Object(le.a)(ne.a.mark((function e(t){return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,re.a.get("/api/orders/party-list/all?party_type=".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Mt=function(){var e=Object(le.a)(ne.a.mark((function e(){return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,re.a.get("/api/orders/party-list/all?party_type__in=mandi-sales&party_type__in=sales&party_type__in=broker");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),qt=function(e,t,a,n,l,r,i){var s="/api/orders/sales-list/1?limit=".concat(e,"&offset=").concat(e*t,"&").concat(a?"sales_type="+a+"&":"").concat(n?"search_term="+n+"&":"").concat(l?"date__gte="+l+"&":"").concat(r?"date__lte="+r+"&":"").concat(i||"");return re.a.get(s)},Rt=function(e){return re.a.get("/api/orders/sales/"+e)},zt=function(e){return re.a.delete("/api/orders/sales/"+e)},Ft=function(e){return re.a.put("/api/orders/sales/0",e)},Yt=function(e,t){return re.a.patch("/api/orders/sales/"+e,t)},Vt=function(e){Object(b.a)(a,e);var t=Object(v.a)(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={broker:{}},e.sum=0,e.sum_q=0,e.handleDeleteInvoice=function(t){zt(t).then((function(t){Ae.a.fire({title:"Deleted!",text:"Your file has been deleted.",type:"question",confirmButtonColor:"#3085d6",confirmButtonText:"Okay",icon:"success"}).then((function(t){t.value&&e.props.history.push("/orders/sales/list")}))}))},e}return Object(h.a)(a,[{key:"componentDidMount",value:function(){var e=Object(le.a)(ne.a.mark((function e(){var t=this;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"create"!==this.props.match.params.id&&Rt(this.props.match.params.id).then((function(e){t.setState({broker:e.data})}));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e,t,a,n,r,i,s,o,c,m,u,d,p,h,b,v,g,E,f,y,N,k,_,w,O,S,x,C,j,I,D,P,L,A,M,q,R,z,F,Y,V,U,K,G,Q,W,Z,H,$,J,X,ee,ae,ne,le,re=this;return l.a.createElement("div",{className:T({"invoice-viewer py-16":!0})},l.a.createElement("div",{className:"viewer_actions px-3 mb-3 d-flex align-items-center justify-content-between"},l.a.createElement(B.a,{to:"/orders/sales/list"},l.a.createElement("i",{className:"i-Left1 text-20 font-weight-700"}," ")),l.a.createElement("div",null,l.a.createElement(te.a,{className:"mr-3 mx-2 py-2",variant:"primary",onClick:function(){return re.props.toggleSalesOrderEditor()}},"Edit"),l.a.createElement(te.a,{className:"mr-3 py-2",variant:"danger text-white",onClick:function(){Ae.a.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",type:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!",cancelButtonText:"No"}).then((function(e){var t;e.value&&re.handleDeleteInvoice(null===(t=re.state.broker)||void 0===t?void 0:t.id)}))}},"Delete"))),l.a.createElement("div",{id:"print-area",className:"px-3"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-6"},l.a.createElement("h3",{className:"font-weight-bold"},l.a.createElement("strong",null,"Sales Order ",l.a.createElement("span",{className:T({"badge rounded-pill text-white fw-bold":!0,"bg-success":0===(null===(e=this.state)||void 0===e||null===(t=e.broker)||void 0===t?void 0:t.pending),"bg-warning":0!==(null===(a=this.state)||void 0===a||null===(n=a.broker)||void 0===n?void 0:n.pending)})},0===(null===(r=this.state)||void 0===r||null===(i=r.broker)||void 0===i?void 0:i.pending)?"Completed":"Pending"))),l.a.createElement("p",null,"#",null===(s=this.state)||void 0===s||null===(o=s.broker)||void 0===o?void 0:o.id," ")),l.a.createElement("div",{className:"col-md-6 text-right"},l.a.createElement("p",{className:"text-capitalize"},l.a.createElement("strong",null,"Sales Type:")," ","mandi-sales"===(null===(c=this.state)||void 0===c||null===(m=c.broker)||void 0===m?void 0:m.sales_type)?"Mandi Sales":"Sales"),l.a.createElement("p",null,l.a.createElement("strong",null,"Sales Date: "),l.a.createElement("span",null,(null===(u=this.state)||void 0===u||null===(d=u.broker)||void 0===d?void 0:d.date)?Object(pe.default)(new Date(null===(p=this.state)||void 0===p||null===(h=p.broker)||void 0===h?void 0:h.date).getTime(),"dd MMMM, yyyy"):"")))),l.a.createElement("div",{className:"mb-2 border-bottom"}),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-6 mb-3"},l.a.createElement("h4",null,l.a.createElement("strong",null,"Party Details")),l.a.createElement("div",null,l.a.createElement("strong",null,"Name :- \xa0 "),(null===(b=this.state)||void 0===b||null===(v=b.broker)||void 0===v?void 0:v.party_name)?null===(g=this.state)||void 0===g||null===(E=g.broker)||void 0===E?void 0:E.party_name:null),l.a.createElement("div",null,l.a.createElement("strong",null,"Contact Number :- \xa0 "),(null===(f=this.state)||void 0===f?void 0:f.broker)?null===(y=this.state)||void 0===y||null===(N=y.broker)||void 0===N?void 0:N.party_contact_number:null)),(null===(k=this.state)||void 0===k||null===(_=k.broker)||void 0===_?void 0:_.broker_name)?l.a.createElement("div",{className:"col-md-6 text-right"},l.a.createElement("h4",null,l.a.createElement("strong",null,"Broker Details")),l.a.createElement("div",null,l.a.createElement("strong",null,"Name :- \xa0 "),(null===(w=this.state)||void 0===w||null===(O=w.broker)||void 0===O?void 0:O.broker_name)?null===(S=this.state)||void 0===S||null===(x=S.broker)||void 0===x?void 0:x.broker_name:null),l.a.createElement("div",null,l.a.createElement("strong",null,"Contact Number :- \xa0 "),(null===(C=this.state)||void 0===C?void 0:C.broker)?null===(j=this.state)||void 0===j||null===(I=j.broker)||void 0===I?void 0:I.broker_contact_number:null)):l.a.createElement(l.a.Fragment,null)),l.a.createElement("div",{className:"mb-2 border-bottom"}),l.a.createElement("h5",null,l.a.createElement("strong",null,"Order Details")),l.a.createElement("div",{className:"mb-1 border-bottom"}),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-12 table-responsive"},l.a.createElement("table",{className:"table mb-4"},l.a.createElement("thead",{className:"bg-gray-300"},l.a.createElement("tr",null,l.a.createElement("th",{scope:"col"},"#"),l.a.createElement("th",{scope:"col"},"Item Name"),l.a.createElement("th",{scope:"col"},"Quantity"),l.a.createElement("th",{scope:"col"},"Rate"),l.a.createElement("th",{scope:"col"},"Pending"),(null===(D=this.state)||void 0===D||null===(P=D.broker)||void 0===P?void 0:P.condition)?l.a.createElement("th",{scope:"col"},"Condition"):l.a.createElement(l.a.Fragment,null))),l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("td",{className:"text-capitalize"},1),l.a.createElement("td",{className:"text-uppercase"},null===(L=this.state)||void 0===L||null===(A=L.broker)||void 0===A?void 0:A.genes),l.a.createElement("td",{className:"text-uppercase"},null===(M=this.state)||void 0===M||null===(q=M.broker)||void 0===q?void 0:q.quantity," ",null===(R=this.state)||void 0===R||null===(z=R.broker)||void 0===z?void 0:z.unit),l.a.createElement("td",{className:"text-capitalize"},null===(F=this.state)||void 0===F||null===(Y=F.broker)||void 0===Y?void 0:Y.rate),l.a.createElement("td",{className:"text-uppercase"},null===(V=this.state)||void 0===V||null===(U=V.broker)||void 0===U?void 0:U.pending," ",null===(K=this.state)||void 0===K||null===(G=K.broker)||void 0===G?void 0:G.unit),(null===(Q=this.state)||void 0===Q||null===(W=Q.broker)||void 0===W?void 0:W.condition)?l.a.createElement("td",{scope:"col",className:"text-uppercase"},null===(Z=this.state)||void 0===Z||null===(H=Z.broker)||void 0===H?void 0:H.condition):l.a.createElement(l.a.Fragment,null)))))),0===(null===($=this.state.broker)||void 0===$||null===(J=$.unloadings)||void 0===J?void 0:J.length)||void 0===(null===(X=this.state.broker)||void 0===X?void 0:X.unloadings)?l.a.createElement(l.a.Fragment,null):l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"mb-1 mt-2"},l.a.createElement("h5",null,l.a.createElement("strong",null,"Loading Details")),l.a.createElement("div",{className:"mb-2 border-bottom"})),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-12 table-responsive"},l.a.createElement("table",{className:"table mb-4"},l.a.createElement("thead",{className:"bg-gray-300"},l.a.createElement("tr",null,l.a.createElement("th",{scope:"col"},"#"),l.a.createElement("th",{scope:"col"},"Date"),l.a.createElement("th",{scope:"col"},"Vehicle No."),l.a.createElement("th",{scope:"col"},"Weight Slip"),l.a.createElement("th",{scope:"col"},"Quantity Loaded"))),l.a.createElement("tbody",null,null===(ee=this.state.broker)||void 0===ee||null===(ae=ee.unloadings)||void 0===ae?void 0:ae.map((function(e,t){var a,n;return re.sum=re.sum+e.quantity,re.sum_q=re.sum_q+e.quantity_loaded,l.a.createElement("tr",{key:t+1},l.a.createElement("td",{className:"text-capitalize"},t+1),l.a.createElement("td",{className:"text-uppercase"},e.date),l.a.createElement("td",{className:"text-uppercase"},e.vehicle_number),l.a.createElement("td",{className:"text-capitalize"},e.quantity," QTL"),l.a.createElement("td",{className:"text-uppercase"},e.quantity_loaded," ",null===(a=re.state)||void 0===a||null===(n=a.broker)||void 0===n?void 0:n.unit))}))),l.a.createElement("tfoot",null,l.a.createElement("tr",{className:"bg-gray-300"},l.a.createElement("td",null),l.a.createElement("td",null),l.a.createElement("td",{className:"fw-bold"},"Total"),l.a.createElement("td",{className:"fw-bold text-uppercase"},this.sum," QTL"),l.a.createElement("td",{className:"fw-bold text-uppercase"},this.sum_q," ",null===(ne=this.state)||void 0===ne||null===(le=ne.broker)||void 0===le?void 0:le.unit)))))))))}}]),a}(n.Component),Ut=Object(o.g)(Vt),Kt=a(116),Gt=function(e){Object(b.a)(a,e);var t=Object(v.a)(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={isLoadingParty:!1,PartyOptions:[],PartyValue:null,isLoadingBroker:!1,brokerOptions:[],brokerValue:null,loading:!1,date:new Date,details:{sales_type:"mandi-sales",party:"",broker:"",date:(new Date).toISOString().slice(0,10),genes:"",quantity:"",unit:"bags",rate:"",condition:"",po_number:"",remarks:""},id:""},e.assembleOption=function(e){return e.map((function(e){return{label:e.name,value:e.id}}))},e.handleSubmit=function(t,a){var n=a.setSubmitting;e.state.id;e.setState({loading:!0}),n(!0),e.props.isNewSalesOrder?Ft(t).then((function(t){e.setState({loading:!1}),e.props.history.push("/orders/sales/".concat(t.data.id)),e.props.toggleSalesOrderEditor()})):Yt(e.props.match.params.id,t).then((function(){e.setState({loading:!1}),e.props.toggleSalesOrderEditor()}))},e.handleCreate=function(t){e.setState({isLoadingParty:!0}),Tt({name:t,party_type:e.state.details.sales_type}).then((function(t){var a=e.state.PartyOptions,n={label:t.data.name,value:t.data.id};e.setState({details:Object(j.a)(Object(j.a)({},e.state.details),{},{party:t.data.id}),isLoadingParty:!1,PartyOptions:[].concat(Object(u.a)(a),[n]),PartyValue:n})}))},e.handleCreateBroker=function(t){e.setState({isLoadingBroker:!0}),Tt({name:t,party_type:"broker"}).then((function(t){var a=e.state.brokerOptions,n={label:t.data.name,value:t.data.id};e.setState({details:Object(j.a)(Object(j.a)({},e.state.details),{},{broker:t.data.id}),isLoadingBroker:!1,brokerOptions:[].concat(Object(u.a)(a),[n]),brokerValue:n})}))},e}return Object(h.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.setState({isLoadingBroker:!0,isLoadingParty:!0}),this.props.isNewSalesOrder?this.setState({id:0}):Rt(this.props.match.params.id).then((function(t){e.setState({details:t.data}),e.setState({PartyValue:null===t.data.party?null:{label:t.data.party_name,value:t.data.party}}),e.setState({brokerValue:null===t.data.broker?null:{label:t.data.broker_name,value:t.data.broker}})})).catch((function(e){console.log(e)})),At("mandi-sales").then((function(t){e.setState({isLoadingParty:!1}),e.setState({PartyOptions:e.assembleOption(t.data)})})),At("broker").then((function(t){e.setState({isLoadingBroker:!1}),e.setState({brokerOptions:e.assembleOption(t.data)})}))}},{key:"componentDidUpdate",value:function(e,t){var a=this;t.details.sales_type!==this.state.details.sales_type&&(this.setState({isLoadingParty:!0}),At(this.state.details.sales_type).then((function(e){a.setState({isLoadingParty:!1}),a.setState({PartyOptions:a.assembleOption(e.data)})})))}},{key:"render",value:function(){var e=this,t=this.state,a=t.isLoadingParty,r=t.loading,i=t.PartyOptions,s=t.PartyValue,o=t.isLoadingBroker,c=t.brokerValue,m=t.brokerOptions,u=t.date;return l.a.createElement("div",{className:"invoice-viewer py-3"},l.a.createElement(ye.b,{initialValues:this.state.details,validationSchema:Qt,onSubmit:this.handleSubmit,enableReinitialize:!0},(function(t){var d=t.values,p=t.errors,h=t.touched,b=t.handleChange,v=t.handleBlur,g=t.handleSubmit,E=t.setFieldValue,f=t.setFieldTouched;return l.a.createElement(n.Fragment,null,l.a.createElement(ve.a,{onSubmit:g,className:"px-4"},l.a.createElement("div",{className:"row mb-3 justify-content-between"},l.a.createElement("div",{className:"col-md-3"},l.a.createElement("h4",{className:"fw-bold"},"Sales Order")),l.a.createElement("div",{className:"col-md-2 text-right"},l.a.createElement("div",{className:"justify-content-end"},l.a.createElement("div",{className:"mb-4"},l.a.createElement(te.a,{type:"button",className:"me-3 py-2",variant:"warning",onClick:function(){return e.props.history.push("/orders/sales/list")},tabIndex:12},"Cancel"),l.a.createElement(te.a,{type:"submit",className:"py-2",variant:"primary",disabled:r,tabIndex:11},"Save"))))),l.a.createElement("div",{className:"custom-separator"}),l.a.createElement("div",{className:"form-group row"},l.a.createElement("label",{className:"ul-form__label ul-form--margin col-lg-3 col-form-label fw-bold"},"Sales Type :"),l.a.createElement("div",{className:"col-lg-2"},l.a.createElement(ve.a.Select,{tabIndex:1,disabled:!e.props.isNewSalesOrder,name:"sales_type",value:d.sales_type,onChange:function(t){e.setState({details:Object(j.a)(Object(j.a)({},e.state.details),{},{sales_type:t.target.value})}),E("sales_type",t.target.value)},onBlur:function(){return f("sales_type",!0)},isInvalid:p.sales_type&&h.sales_type},l.a.createElement("option",{value:"mandi-sales",key:"mandi-sales"},"Mandi Sales"),l.a.createElement("option",{value:"sales",key:"sales"},"Sales"))),l.a.createElement("label",{className:"ul-form__label ul-form--margin col-lg-3 col-form-label fw-bold"},"Date :"),l.a.createElement("div",{className:"col-lg-2"},l.a.createElement(ke.a,{tabIndex:2,className:"form-control",dateFormat:"dd-MM-yyyy",selected:new Date(u),onChange:function(t){null!==t&&(E("date",t.toISOString().slice(0,10)),e.setState({date:t}))},onBlur:function(){return f("date",!0)},isInvalid:p.date&&h.date}))),l.a.createElement("div",{className:"form-group row"},l.a.createElement("label",{className:"ul-form__label ul-form--margin col-lg-3 col-form-label fw-bold"},"Party's Name :"),l.a.createElement("div",{className:"col-lg-2"},l.a.createElement(Kt.a,{isClearable:!0,isDisabled:a,isLoading:a,onChange:function(t){e.setState({PartyValue:t}),E("party",t?t.value:null)},onCreateOption:function(t){e.handleCreate(t)},options:i,value:s,tabIndex:3,onBlur:function(){return f("party",!0)},isInvalid:p.party&&h.party})),"mandi-sales"===d.sales_type?l.a.createElement(l.a.Fragment,null,l.a.createElement("label",{className:"ul-form__label ul-form--margin col-lg-3 col-form-label fw-bold"},"PO Number :"),l.a.createElement("div",{className:"col-lg-2"},l.a.createElement(ge.a,{value:d.po_number,name:"po_number",type:"text",placeholder:"PO Number",onChange:b,onBlur:v,isInvalid:p.po_number&&h.po_number}))):l.a.createElement(l.a.Fragment,null,l.a.createElement("label",{className:"ul-form__label ul-form--margin col-lg-3 col-form-label fw-bold"},"Broker's Name :"),l.a.createElement("div",{className:"col-lg-2"},l.a.createElement(Kt.a,{isClearable:!0,isDisabled:o,isLoading:o,onChange:function(t){e.setState({brokerValue:t}),E("broker",t?t.value:null)},onCreateOption:e.handleCreateBroker,options:m,value:c,tabIndex:4,onBlur:function(){return f("broker",!0)},isInvalid:p.broker&&h.broker})))),l.a.createElement("div",{className:"custom-separator"}),l.a.createElement("div",{className:"form-group row"},l.a.createElement("label",{className:"ul-form__label ul-form--margin col-lg-3 col-form-label fw-bold"},"Genes :"),l.a.createElement("div",{className:"col-lg-2"},l.a.createElement(ve.a.Select,{name:"genes",value:d.genes,onChange:function(e){E("genes",e.target.value)},onBlur:function(){return f("genes",!0)},tabIndex:5,isInvalid:p.genes&&h.genes},l.a.createElement("option",{value:"0",key:""},"Select ..."),we.map((function(e,t){return l.a.createElement("option",{value:e.value,key:e.value},e.label)})))),l.a.createElement("label",{className:"ul-form__label ul-form--margin col-lg-3 col-form-label fw-bold"},"Quantity :"),l.a.createElement("div",{className:"col-lg-2"},l.a.createElement(jt.a,null,l.a.createElement(ge.a,{value:d.quantity,name:"quantity",type:"text",inputMode:"numeric",placeholder:"QTY",onChange:b,onBlur:v,isInvalid:p.quantity&&h.quantity,tabIndex:6}),l.a.createElement(ve.a.Select,{name:"unit",value:d.unit,onChange:function(e){E("unit",e.target.value)},onBlur:function(){return f("unit",!0)},isInvalid:p.unit&&h.unit,tabIndex:7},l.a.createElement("option",{value:"bags",key:"bags"},"Bags"),l.a.createElement("option",{value:"qtl",key:"qtl"},"Qtl"),l.a.createElement("option",{value:"truck",key:"truck"},"Truck"),l.a.createElement("option",{value:"ton",key:"ton"},"Ton"))))),l.a.createElement("div",{className:"form-group row"},l.a.createElement("label",{className:"ul-form__label ul-form--margin col-lg-3 col-form-label fw-bold"},"Rate :"),l.a.createElement("div",{className:"col-lg-2"},l.a.createElement(jt.a,null,l.a.createElement(ge.a,{value:d.rate,name:"rate",type:"text",inputMode:"numeric",tabIndex:8,placeholder:"Rate",onChange:b,onBlur:v,isInvalid:p.rate&&h.rate}))),"mandi-sales"===d.sales_type?l.a.createElement(l.a.Fragment,null,l.a.createElement("label",{className:"ul-form__label ul-form--margin col-lg-3 col-form-label fw-bold"},"Remarks :"),l.a.createElement("div",{className:"col-lg-2"},l.a.createElement(ge.a,{value:d.remarks,name:"remarks",type:"text",placeholder:"Remarks",onChange:b,onBlur:v,isInvalid:p.remarks&&h.remarks}))):l.a.createElement(l.a.Fragment,null,l.a.createElement("label",{className:"ul-form__label ul-form--margin col-lg-3 col-form-label fw-bold"},"Condition :"),l.a.createElement("div",{className:"col-lg-2"},l.a.createElement(jt.a,null,l.a.createElement(ve.a.Select,{tabIndex:9,name:"condition",value:d.condition,onChange:function(e){return E("condition",e.target.value)},onBlur:function(){f("condition",!0)},isInvalid:p.condition&&h.condition},l.a.createElement("option",{value:"",key:""},"Select Condition..."),l.a.createElement("option",{value:"9R + 100=300",key:"9R + 100=300"},"9R + 100=300"),l.a.createElement("option",{value:"9R + 101=300",key:"9R + 101=300"},"9R + 101=300"),l.a.createElement("option",{value:"9R + weight slip",key:"9R + weight slip"},"9R + weight slip"),l.a.createElement("option",{value:"Bill + 100=300",key:"Bill + 100=300"},"Bill + 100=300"),l.a.createElement("option",{value:"Bill + 101=300",key:"Bill + 101=300"},"Bill + 101=300"),l.a.createElement("option",{value:"Bill + weight slip",key:"Bill + weight slip"},"Bill + weight slip"),l.a.createElement("option",{value:"2nd + 100=300",key:"2nd + 100=300"},"2nd + 100=300"),l.a.createElement("option",{value:"2nd + 101=300 ",key:"2nd + 101=300 "},"2nd + 101=300 "),l.a.createElement("option",{value:"2nd + Weight slip",key:"2nd + Weight slip"},"2nd + Weight slip")))))),l.a.createElement("div",{className:"custom-separator"}),"mandi-sales"===d.sales_type?l.a.createElement(l.a.Fragment,null):l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"form-group row"},l.a.createElement("label",{className:"ul-form__label ul-form--margin col-lg-3 col-form-label fw-bold"},"PO Number :"),l.a.createElement("div",{className:"col-lg-2"},l.a.createElement(ge.a,{value:d.po_number,name:"po_number",type:"text",placeholder:"PO Number",onChange:b,onBlur:v,isInvalid:p.po_number&&h.po_number})),l.a.createElement("label",{className:"ul-form__label ul-form--margin col-lg-3 col-form-label fw-bold"},"Remarks :"),l.a.createElement("div",{className:"col-lg-2"},l.a.createElement(ge.a,{value:d.remarks,name:"remarks",type:"text",placeholder:"Remarks",onChange:b,onBlur:v,isInvalid:p.remarks&&h.remarks}))))))})))}}]),a}(n.Component),Qt=_e.object().shape({sales_type:_e.string().required(),date:_e.string().required(),genes:_e.string().required(),quantity:_e.number().required(),unit:_e.string().required(),rate:_e.number().required(),condition:_e.string().optional(),remarks:_e.string().optional(),party:_e.string().nullable().when("broker",{is:function(e){return!e||0===e.length},then:_e.string().required("At least select party or broker is required")}),broker:_e.string().nullable().when("party",{is:function(e){return!e||0===e.length},then:_e.string().required("At least party or broker is required")})},["party","broker"]),Wt=Object(o.g)(Gt),Zt=function(e){Object(b.a)(a,e);var t=Object(v.a)(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={showSalesOrderEditor:!1,isNewSalesOrder:!1},e.toggleSalesOrderEditor=function(){e.setState({showSalesOrderEditor:!e.state.showSalesOrderEditor,isNewSalesOrder:!1})},e}return Object(h.a)(a,[{key:"componentDidMount",value:function(){"create"===this.props.match.params.id&&this.setState({showSalesOrderEditor:!0,isNewSalesOrder:!0})}},{key:"componentDidUpdate",value:function(e,t){e.match.params.id!==this.props.match.params.id&&"create"===this.props.match.params.id&&this.setState({showSalesOrderEditor:!0,isNewSalesOrder:!0})}},{key:"render",value:function(){return l.a.createElement(ee.a,{elevation:6,className:"invoice-details m-sm-30"},this.state.showSalesOrderEditor?l.a.createElement(Wt,{toggleSalesOrderEditor:this.toggleSalesOrderEditor,isNewSalesOrder:this.state.isNewSalesOrder}):l.a.createElement(Ut,{toggleSalesOrderEditor:this.toggleSalesOrderEditor}))}}]),a}(n.Component),Ht=a(296),$t=function(e){Object(b.a)(a,e);var t=Object(v.a)(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={change:!0,companyList:[],shouldShowConfirmationDialog:!1,orderperpage:5,pageNumber:0,count:null},e.pageNumber=0,e.orderperpage=5,e.handlePageClick=function(t){e.pageNumber=t.selected,e.setState({pageNumber:t.selected})},e.handleSelectCount=function(t){e.orderperpage=t.target.value,e.orderperpage*e.pageNumber>=e.state.count?(e.pageNumber=Math.ceil(e.state.count/e.orderperpage)-1,e.setState({pageNumber:Math.ceil(e.state.count/e.orderperpage)-1,orderperpage:t.target.value})):e.setState({orderperpage:t.target.value})},e.handeViewClick=function(t){e.props.history.push("/orders/sales/".concat(t))},e.handleDeleteInvoice=function(t){zt(t).then((function(t){Ae.a.fire({title:"Deleted!",text:"Your file has been deleted.",type:"success",icon:"success",timer:1500}),e.setState({change:!e.state.change,shouldShowConfirmationDialog:!1})}))},e.handleDialogClose=function(){e.setState({shouldShowConfirmationDialog:!1})},e}return Object(h.a)(a,[{key:"componentDidMount",value:function(){var e=this;qt(this.orderperpage,this.pageNumber,this.props.salesType,this.props.search,this.props.start_date,this.props.end_date,this.props.pending).then((function(t){return e.setState({companyList:t.data.results,count:t.data.count})}))}},{key:"componentDidUpdate",value:function(e,t){var a=this;t.change!==this.state.change&&qt(this.orderperpage,this.pageNumber,this.props.salesType,this.props.search,this.props.start_date,this.props.end_date,this.props.pending).then((function(e){return a.setState({companyList:e.data.results,count:e.data.count})})),e.start_date!==this.props.start_date&&qt(this.orderperpage,this.pageNumber,this.props.salesType,this.props.search,this.props.start_date,this.props.end_date,this.props.pending).then((function(e){return a.setState({companyList:e.data.results,count:e.data.count})})),e.pending!==this.props.pending&&qt(this.orderperpage,this.pageNumber,this.props.salesType,this.props.search,this.props.start_date,this.props.end_date,this.props.pending).then((function(e){return a.setState({companyList:e.data.results,count:e.data.count})})),e.end_date!==this.props.end_date&&qt(this.orderperpage,this.pageNumber,this.props.salesType,this.props.search,this.props.start_date,this.props.end_date,this.props.pending).then((function(e){return a.setState({companyList:e.data.results,count:e.data.count})})),e.search!==this.props.search&&qt(this.orderperpage,this.pageNumber,this.props.salesType,this.props.search,this.props.start_date,this.props.end_date,this.props.pending).then((function(e){return a.setState({companyList:e.data.results,count:e.data.count})})),t.pageNumber!==this.state.pageNumber&&qt(this.orderperpage,this.pageNumber,this.props.salesType,this.props.search,this.props.start_date,this.props.end_date,this.props.pending).then((function(e){return a.setState({companyList:e.data.results,count:e.data.count})})),t.orderperpage!==this.state.orderperpage&&qt(this.orderperpage,this.pageNumber,this.props.salesType,this.props.search,this.props.start_date,this.props.end_date,this.props.pending).then((function(e){return a.setState({companyList:e.data.results,count:e.data.count})}))}},{key:"render",value:function(){var e=this,t=this.state.companyList;return l.a.createElement("div",null,L()?l.a.createElement(l.a.Fragment,null,null===t||void 0===t?void 0:t.map((function(t,a){return l.a.createElement("div",{key:t.id},l.a.createElement("div",{style:{backgroundColor:"primary"},elevation:0,key:t.id},l.a.createElement("div",{className:"row"},l.a.createElement("table",{className:"table table-borderless",style:{marginBottom:"0rem"}},l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("th",{style:{width:"45%"}},"Date"),l.a.createElement("td",null,P()(new Date(t.date)).format("DD-MMM-YYYY"))),t.broker_name?l.a.createElement("tr",null,l.a.createElement("th",null,"Broker"),l.a.createElement("td",{className:"text-capitalize"},t.broker_name)):l.a.createElement(l.a.Fragment,null),t.party_name?l.a.createElement("tr",null,l.a.createElement("th",null,"Party"),l.a.createElement("td",{className:"text-capitalize"},t.party_name)):l.a.createElement(l.a.Fragment,null),l.a.createElement("tr",null,l.a.createElement("th",null,"Total Quantity"),l.a.createElement("td",{className:"text-capitalize"},t.quantity?t.quantity:0," ",t.unit)),l.a.createElement("tr",null,l.a.createElement("th",null,"Rate"),l.a.createElement("td",{className:"text-capitalize"},t.rate?t.rate:0)),l.a.createElement("tr",null,l.a.createElement("th",null,"Status"),l.a.createElement("td",{className:T({"badge rounded-pill text-white":!0,"bg-success":0===t.pending,"bg-warning":0!==t.pending})},0===t.pending?"Completed":"Pending")),0!==t.pending?l.a.createElement("tr",null,l.a.createElement("th",null,"Pending Quanity"),l.a.createElement("td",{className:"text-capitalize"},t.pending?t.pending:0," ",t.unit)):l.a.createElement(l.a.Fragment,null),l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement(te.a,{variant:"dark",onClick:function(){return e.handeViewClick(t.id)}},"Details ",l.a.createElement("i",{className:"i-Arrow-Right mr-4 font-weight-900 cursor-pointer"})," ")),l.a.createElement("td",null,l.a.createElement(te.a,{variant:"danger",className:"text-white",onClick:function(){Ae.a.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",type:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!",cancelButtonText:"No"}).then((function(a){a.value&&e.handleDeleteInvoice(t.id)}))}}," Delete ",l.a.createElement("i",{className:"i-Folder-Trash font-weight-900 cursor-pointer text-white"})))))))),l.a.createElement("div",{className:"mb-2",style:{borderBottom:"1px dashed #003473"}}))}))):l.a.createElement("div",{className:"w-100 overflow-auto"},l.a.createElement(Le.a,{style:{minWidth:750}},"mandi-sales"===this.props.salesType?l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",{className:"pl-0"},"Date"),l.a.createElement("th",{className:"pl-0"},"Party"),l.a.createElement("th",{className:"pl-0"},"Genes"),l.a.createElement("th",{className:"pl-0"},"Quantity"),"pending=0"!==this.props.pending?l.a.createElement("th",{className:"pl-0"},"Pending"):l.a.createElement(l.a.Fragment,null),l.a.createElement("th",{className:"pl-0"},"Rate"),l.a.createElement("th",{className:"pl-0"},"Action"))):l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",{className:"pl-0"},"Date"),l.a.createElement("th",{className:"pl-0"},"Broker"),l.a.createElement("th",{className:"pl-0"},"Party"),l.a.createElement("th",{className:"pl-0"},"Genes"),l.a.createElement("th",{className:"pl-0"},"Quantity"),"pending=0"!==this.props.pending?l.a.createElement("th",{className:"pl-0"},"Pending"):l.a.createElement(l.a.Fragment,null),l.a.createElement("th",{className:"pl-0"},"Rate"),l.a.createElement("th",{className:"pl-0"},"Action"))),l.a.createElement("tbody",null,t.map((function(t,a){return"mandi-sales"===e.props.salesType?l.a.createElement("tr",{key:t.id},l.a.createElement("td",{className:"pl-sm-24 text-capitalize",align:"left"},P()(new Date(t.date)).format("DD-MMMM-YYYY")),l.a.createElement("td",{className:"pl-0 text-capitalize",align:"left"},t.party_name),l.a.createElement("td",{className:"pl-0 text-capitalize",align:"left"},t.genes),l.a.createElement("td",{className:"pl-sm-24 text-capitalize",align:"left"},t.quantity," ",t.unit),"pending=0"!==e.props.pending?l.a.createElement("td",{className:"pl-sm-24 text-capitalize",align:"left"},t.pending," ",t.unit):l.a.createElement(l.a.Fragment,null),l.a.createElement("td",{className:"pl-0 text-capitalize",align:"left"},t.rate),l.a.createElement("td",{className:"pl-0"},l.a.createElement("i",{className:"i-Arrow-Right mr-4 font-weight-900 text-primary cursor-pointer",onClick:function(){return e.handeViewClick(t.id)}}),l.a.createElement("i",{className:"i-Folder-Trash font-weight-900 text-danger cursor-pointer",onClick:function(){Ae.a.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",type:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!",cancelButtonText:"No"}).then((function(a){a.value&&e.handleDeleteInvoice(t.id)}))}}))):l.a.createElement("tr",{key:t.id},l.a.createElement("td",{className:"pl-sm-24 text-capitalize",align:"left"},P()(new Date(t.date)).format("DD-MMMM-YYYY")),l.a.createElement("td",{className:"pl-0 text-capitalize",align:"left"},t.broker_name),l.a.createElement("td",{className:"pl-0 text-capitalize",align:"left"},t.party_name),l.a.createElement("td",{className:"pl-0 text-capitalize",align:"left"},t.genes),l.a.createElement("td",{className:"pl-0 text-capitalize",align:"left"},t.quantity," ",t.unit),"pending=0"!==e.props.pending?l.a.createElement("td",{className:"pl-0 text-capitalize",align:"left"},t.pending," ",t.unit):l.a.createElement(l.a.Fragment,null),l.a.createElement("td",{className:"pl-0 capitalize",align:"left"},t.rate),l.a.createElement("td",{className:"pl-0"},l.a.createElement("i",{className:"i-Arrow-Right mr-4 font-weight-900 text-primary cursor-pointer",onClick:function(){return e.handeViewClick(t.id)}}),l.a.createElement("i",{className:"i-Folder-Trash font-weight-900 text-danger cursor-pointer",onClick:function(){Ae.a.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",type:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!",cancelButtonText:"No"}).then((function(a){a.value&&e.handleDeleteInvoice(t.id)}))}})))}))))),l.a.createElement("div",{className:"row mt-3 mb-3"},l.a.createElement("div",{className:"d-flex justify-content-center"},l.a.createElement("select",{id:"picker1",className:"form-control",name:"select",value:this.orderperpage,onChange:this.handleSelectCount,style:{width:"4em",height:"2.5em"}},l.a.createElement("option",{value:5},"5"),l.a.createElement("option",{value:10},"10"),l.a.createElement("option",{value:25},"25"),l.a.createElement("option",{value:50},"50")),l.a.createElement("div",{className:"mt-1"},l.a.createElement(qe.a,{previousLabel:"Previous",nextLabel:"Next",breakLabel:"...",breakClassName:"break-me",pageCount:this.state.count/this.orderperpage,marginPagesDisplayed:0,pageRangeDisplayed:2,onPageChange:function(t){e.handlePageClick(t)},containerClassName:"pagination pagination-lg",subContainerClassName:"pages pagination",activeClassName:"active",forcePage:this.pageNumber})))))}}]),a}(n.Component),Jt=function(e){Object(b.a)(a,e);var t=Object(v.a)(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={change:!0,companyList:[],shouldShowConfirmationDialog:!1},e}return Object(h.a)(a,[{key:"render",value:function(){this.state.companyList;return l.a.createElement("div",null,l.a.createElement("div",{className:"w-100 overflow-auto"},L()?l.a.createElement(l.a.Fragment,null,l.a.createElement(De.a,{defaultActiveKey:"all",id:"uncontrolled-tab-example",unmountOnExit:!0,mountOnEnter:!0},l.a.createElement(Pe.a,{eventKey:"all",title:"All",key:"all",className:"capitalize"},l.a.createElement($t,Object.assign({pending:""},this.props))),l.a.createElement(Pe.a,{eventKey:"pending",title:"Pending",key:"pending",className:"capitalize"},l.a.createElement($t,Object.assign({pending:"pending__gt=0"},this.props))),l.a.createElement(Pe.a,{eventKey:"completed",title:"Completed",key:"completed",className:"capitalize"},l.a.createElement($t,Object.assign({pending:"pending=0"},this.props))))):l.a.createElement(Pe.a.Container,{id:"left-tabs-example",defaultActiveKey:"all",unmountOnExit:!0,mountOnEnter:!0},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-2"},l.a.createElement(Ht.a,{variant:"pills",className:"d-flex flex-column"},l.a.createElement(Ht.a.Item,null,l.a.createElement(Ht.a.Link,{eventKey:"all"},"All")),l.a.createElement(Ht.a.Item,null,l.a.createElement(Ht.a.Link,{eventKey:"pending"},"Pending")),l.a.createElement(Ht.a.Item,null,l.a.createElement(Ht.a.Link,{eventKey:"completed"},"Completed")))),l.a.createElement("div",{className:"col-md-10"},l.a.createElement(Pe.a.Content,{className:"p-0"},l.a.createElement(Pe.a.Pane,{eventKey:"all"},l.a.createElement($t,Object.assign({pending:""},this.props))),l.a.createElement(Pe.a.Pane,{eventKey:"pending"},l.a.createElement($t,Object.assign({pending:"pending__gt=0"},this.props))),l.a.createElement(Pe.a.Pane,{eventKey:"completed"},l.a.createElement($t,Object.assign({pending:"pending=0"},this.props)))))))))}}]),a}(n.Component),Xt=a(124),ea=[{path:"/orders/sales/list",component:function(e){Object(b.a)(a,e);var t=Object(v.a)(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).state={taboptions:[{label:"All",value:""},{label:"Pending",value:"pending__gt=0"},{label:"Completed",value:"pending=0"}],invoiceList:[],partyList:[],searchvalue:null,options:[],search_s:""},n.handleChangeSearch=function(e){n.setState({search_s:e?e.value:""}),n.setState({searchvalue:e})},n.assembleOptions=function(e){var t=e.filter((function(e){return"mandi-sales"===e.party_type})),a=e.filter((function(e){return"sales"===e.party_type})),n=e.filter((function(e){return"broker"===e.party_type}));return[{label:"Mandi",options:t.map((function(e){return{label:e.name,value:e.name}}))},{label:"Party",options:a.map((function(e){return{label:e.name,value:e.name}}))},{label:"Broker",options:n.map((function(e){return{label:e.name,value:e.name}}))},{label:"Genes",options:we}]},n}return Object(h.a)(a,[{key:"componentDidMount",value:function(){var e=Object(le.a)(ne.a.mark((function e(){var t;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Mt();case 2:t=e.sent,this.setState({options:this.assembleOptions(t.data)});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return l.a.createElement(Be.a,null,l.a.createElement(Ie.a,null,l.a.createElement(ee.a,{elevation:6,className:"invoice-details"},l.a.createElement("div",{className:"row mt-4 ms-3 me-3 mb-2 justify-content-between"},l.a.createElement("div",{className:"col-md-2 mb-4"},l.a.createElement("h4",{className:"fw-bold"},"Sales Order List")),l.a.createElement("div",{className:"col-md-3 mb-2"},l.a.createElement(fe.a,{isClearable:!0,options:this.state.options,onChange:this.handleChangeSearch,onKeyPress:this.handleKeyPress,value:this.state.searchvalue})),l.a.createElement("div",{className:"col-md-2 mb-2"},l.a.createElement(ke.a,{isClearable:!0,placeholderText:"Start Date..",className:"form-control",dateFormat:"dd-MMMM-yyyy",selected:this.state.date_s?new Date(this.state.date_s):null,onChange:function(t){var a=e.state.date_s?t:Object(Xt.default)(t,1);e.setState({date_s:null===a||void 0===a?void 0:a.toISOString().slice(0,10)})}})),l.a.createElement("div",{className:"col-md-2 mb-2"},l.a.createElement(ke.a,{isClearable:!0,placeholderText:"End Date..",className:"form-control",dateFormat:"dd-MMMM-yyyy",selected:this.state.date_e?new Date(this.state.date_e):null,onChange:function(t){var a=e.state.date_e?t:Object(Xt.default)(t,1);e.setState({date_e:null===a||void 0===a?void 0:a.toISOString().slice(0,10)})}})),l.a.createElement("div",{className:"col-md-2 mb-2"},l.a.createElement("div",{className:"justify-content-end"},l.a.createElement("div",{className:"mb-4"},l.a.createElement(B.a,{to:"/orders/sales/create"},l.a.createElement(te.a,{className:"mb-3",variant:"dark"},"Add Sales Order"))))),L()?l.a.createElement(l.a.Fragment,null,l.a.createElement(Pe.a.Container,{id:"left-tabs-example",defaultActiveKey:"purchase"},l.a.createElement(Ht.a,{variant:"pills",className:"d-flex  px-2"},l.a.createElement(Ht.a.Item,{className:"flex-grow-1 text-center"},l.a.createElement(Ht.a.Link,{eventKey:"purchase"},"Purchases")),l.a.createElement(Ht.a.Item,{className:"flex-grow-1 text-center"},l.a.createElement(Ht.a.Link,{eventKey:"mandi-purchase"},"Mandi Purchases"))),l.a.createElement(Pe.a.Content,null,l.a.createElement(Pe.a.Pane,{eventKey:"purchase"},l.a.createElement(Jt,Object.assign({salesType:"sales",search:this.state.search_s,start_date:this.state.date_s,end_date:this.state.date_e},this.props))),l.a.createElement(Pe.a.Pane,{eventKey:"mandi-purchase"},l.a.createElement(Jt,Object.assign({salesType:"mandi-sales",search:this.state.search_s,start_date:this.state.date_s,end_date:this.state.date_e},this.props)))))):l.a.createElement(l.a.Fragment,null,l.a.createElement(De.a,{defaultActiveKey:"all",id:"uncontrolled-tab-example",unmountOnExit:!0,mountOnEnter:!0},l.a.createElement(Pe.a,{eventKey:"all",title:"All Sales",key:"all",className:"capitalize"},l.a.createElement(Jt,Object.assign({salesType:"",search:this.state.search_s,start_date:this.state.date_s,end_date:this.state.date_e},this.props))),l.a.createElement(Pe.a,{eventKey:"sales",title:"Sales",key:"sales",className:"capitalize"},l.a.createElement(Jt,Object.assign({salesType:"sales",search:this.state.search_s,start_date:this.state.date_s,end_date:this.state.date_e},this.props))),l.a.createElement(Pe.a,{eventKey:"mandi-purchase",title:"Mandi Sales",key:"mandi-sales",className:"capitalize"},l.a.createElement(Jt,Object.assign({salesType:"mandi-sales",search:this.state.search_s,start_date:this.state.date_s,end_date:this.state.date_e},this.props)))))))))}}]),a}(n.Component)},{path:"/orders/sales/:id",component:Zt}],ta=function(){var e=Object(le.a)(ne.a.mark((function e(t){return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,re.a.put("/api/orders/party/0",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),aa=function(){var e=Object(le.a)(ne.a.mark((function e(t){return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,re.a.get("/api/orders/party-list/all?party_type=".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),na=function(){var e=Object(le.a)(ne.a.mark((function e(){return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,re.a.get("/api/orders/party-list/all?party_type__in=mandi-purchase&party_type__in=purchase&party_type__in=broker");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),la=function(e){return re.a.get("/api/orders/purchase/"+e)},ra=function(e,t,a,n,l,r,i){var s="/api/orders/purchase-list/1?limit=".concat(e,"&offset=").concat(e*t,"&").concat(a?"purchase_type="+a+"&":"").concat(n?"search_term="+n+"&":"").concat(l?"date__gte="+l+"&":"").concat(r?"date__lte="+r+"&":"").concat(i||"");return re.a.get(s)},ia=function(e){return re.a.delete("/api/orders/purchase/"+e)},sa=function(e){return re.a.put("/api/orders/purchase/0",e)},oa=function(e,t){return re.a.patch("/api/orders/purchase/"+e,t)},ca=function(e){Object(b.a)(a,e);var t=Object(v.a)(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={},e.sum=0,e.sum_q=0,e.handleDeleteInvoice=function(t){ia(t).then((function(t){Ae.a.fire({title:"Deleted!",text:"Your file has been deleted.",type:"question",confirmButtonColor:"#3085d6",confirmButtonText:"Okay",icon:"success"}).then((function(t){t.value&&e.props.history.push("/orders/purchase/list")}))}))},e}return Object(h.a)(a,[{key:"componentDidMount",value:function(){var e=this;"create"!==this.props.match.params.id&&la(this.props.match.params.id).then((function(t){e.setState({broker:t.data})}))}},{key:"render",value:function(){var e,t,a,n,r,i,s,o,c,m,u,d,p,h,b,v,g,E,f,y,N,k,_,w,O,S,x,C,j,I,D,P,L,A,M,q,R,z,F,Y,V,U,K,G,Q,W,Z,H,$,J,X,ee,ae,ne=this;return l.a.createElement("div",{className:T({"invoice-viewer py-16":!0})},l.a.createElement("div",{className:"viewer_actions px-3 mb-3 d-flex align-items-center justify-content-between"},l.a.createElement(B.a,{to:"/orders/purchase/list"},l.a.createElement("i",{className:"i-Left1 text-20 font-weight-700"}," ")),l.a.createElement("div",null,l.a.createElement(te.a,{className:"mr-3 mx-2 py-2",variant:"primary",onClick:function(){return ne.props.togglePurchaseOrderEditor()}},"Edit"),l.a.createElement(te.a,{className:"mr-3 py-2",variant:"danger text-white",onClick:function(){Ae.a.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",type:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!",cancelButtonText:"No"}).then((function(e){var t;e.value&&ne.handleDeleteInvoice(null===(t=ne.state.broker)||void 0===t?void 0:t.id)}))}},"Delete"))),l.a.createElement("div",{id:"print-area",className:"px-3"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-6"},l.a.createElement("h3",{className:"font-weight-bold"},l.a.createElement("strong",null,"Purchase Order ",l.a.createElement("span",{className:T({"badge rounded-pill text-white fw-bold":!0,"bg-success":0===(null===(e=this.state)||void 0===e||null===(t=e.broker)||void 0===t?void 0:t.pending),"bg-warning":0!==(null===(a=this.state)||void 0===a||null===(n=a.broker)||void 0===n?void 0:n.pending)})},0===(null===(r=this.state)||void 0===r||null===(i=r.broker)||void 0===i?void 0:i.pending)?"Completed":"Pending"))),l.a.createElement("p",null,"#",null===(s=this.state)||void 0===s||null===(o=s.broker)||void 0===o?void 0:o.id," ")),l.a.createElement("div",{className:"col-md-6 text-right"},l.a.createElement("p",{className:"text-capitalize"},l.a.createElement("strong",null,"Purchase Type:")," ","mandi-purchase"===(null===(c=this.state)||void 0===c||null===(m=c.broker)||void 0===m?void 0:m.purchase_type)?"Mandi Purchase":"Purchase"),l.a.createElement("p",null,l.a.createElement("strong",null,"Purchase Date: "),l.a.createElement("span",null,(null===(u=this.state)||void 0===u||null===(d=u.broker)||void 0===d?void 0:d.date)?Object(pe.default)(new Date(null===(p=this.state)||void 0===p||null===(h=p.broker)||void 0===h?void 0:h.date).getTime(),"dd MMMM, yyyy"):"")))),l.a.createElement("div",{className:"mb-2 border-bottom"}),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-6 mb-3"},l.a.createElement("h4",null,l.a.createElement("strong",null,"Party Details")),l.a.createElement("div",null,l.a.createElement("strong",null,"Name :- \xa0 "),(null===(b=this.state)||void 0===b||null===(v=b.broker)||void 0===v?void 0:v.party_name)?null===(g=this.state)||void 0===g||null===(E=g.broker)||void 0===E?void 0:E.party_name:null),l.a.createElement("div",null,l.a.createElement("strong",null,"Contact Number :- \xa0 "),(null===(f=this.state)||void 0===f?void 0:f.broker)?null===(y=this.state)||void 0===y||null===(N=y.broker)||void 0===N?void 0:N.party_contact_number:null)),(null===(k=this.state)||void 0===k||null===(_=k.broker)||void 0===_?void 0:_.broker_name)?l.a.createElement("div",{className:"col-md-6 text-right"},l.a.createElement("h4",null,l.a.createElement("strong",null,"Broker Details")),l.a.createElement("div",null,l.a.createElement("strong",null,"Name :- \xa0 "),(null===(w=this.state)||void 0===w||null===(O=w.broker)||void 0===O?void 0:O.broker_name)?null===(S=this.state)||void 0===S||null===(x=S.broker)||void 0===x?void 0:x.broker_name:null),l.a.createElement("div",null,l.a.createElement("strong",null,"Contact Number :- \xa0 "),(null===(C=this.state)||void 0===C?void 0:C.broker)?null===(j=this.state)||void 0===j||null===(I=j.broker)||void 0===I?void 0:I.broker_contact_number:null)):l.a.createElement(l.a.Fragment,null)),l.a.createElement("div",{className:"mb-2 border-bottom"}),l.a.createElement("h5",null,l.a.createElement("strong",null,"Order Details")),l.a.createElement("div",{className:"mb-1 border-bottom"}),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-12 table-responsive"},l.a.createElement("table",{className:"table table-hover mb-4"},l.a.createElement("thead",{className:"bg-gray-300"},l.a.createElement("tr",null,l.a.createElement("th",{scope:"col"},"#"),l.a.createElement("th",{scope:"col"},"Item Name"),l.a.createElement("th",{scope:"col"},"Quantity"),l.a.createElement("th",{scope:"col"},"Rate"),l.a.createElement("th",{scope:"col"},"Pending"),(null===(D=this.state)||void 0===D||null===(P=D.broker)||void 0===P?void 0:P.condition)?l.a.createElement("th",{scope:"col"},"Condition"):l.a.createElement(l.a.Fragment,null))),l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("td",{className:"text-capitalize"},1),l.a.createElement("td",{className:"text-uppercase"},null===(L=this.state)||void 0===L||null===(A=L.broker)||void 0===A?void 0:A.genes),l.a.createElement("td",{className:"text-uppercase"},null===(M=this.state)||void 0===M||null===(q=M.broker)||void 0===q?void 0:q.quantity," ",null===(R=this.state)||void 0===R||null===(z=R.broker)||void 0===z?void 0:z.unit),l.a.createElement("td",{className:"text-capitalize"},null===(F=this.state)||void 0===F||null===(Y=F.broker)||void 0===Y?void 0:Y.rate),l.a.createElement("td",{className:"text-uppercase"},null===(V=this.state)||void 0===V||null===(U=V.broker)||void 0===U?void 0:U.pending," ",null===(K=this.state)||void 0===K||null===(G=K.broker)||void 0===G?void 0:G.unit),(null===(Q=this.state)||void 0===Q||null===(W=Q.broker)||void 0===W?void 0:W.condition)?l.a.createElement("td",{scope:"col",className:"text-uppercase"},null===(Z=this.state)||void 0===Z||null===(H=Z.broker)||void 0===H?void 0:H.condition):l.a.createElement(l.a.Fragment,null)))))),0===(null===($=this.state.broker)||void 0===$?void 0:$.loadings.length)?l.a.createElement(l.a.Fragment,null):l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"mb-1 mt-2"},l.a.createElement("h5",null,l.a.createElement("strong",null,"Loading Details")),l.a.createElement("div",{className:"mb-2 border-bottom"})),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-12 table-responsive"},l.a.createElement("table",{className:"table mb-4"},l.a.createElement("thead",{className:"bg-gray-300"},l.a.createElement("tr",null,l.a.createElement("th",{scope:"col"},"#"),l.a.createElement("th",{scope:"col"},"Date"),l.a.createElement("th",{scope:"col"},"Vehicle No."),l.a.createElement("th",{scope:"col"},"Weight Slip"),l.a.createElement("th",{scope:"col"},"Quantity Loaded"))),l.a.createElement("tbody",null,null===(J=this.state.broker)||void 0===J||null===(X=J.loadings)||void 0===X?void 0:X.map((function(e,t){var a,n;return ne.sum=ne.sum+e.quantity,ne.sum_q=ne.sum_q+e.quantity_loaded,l.a.createElement("tr",{key:t+1},l.a.createElement("td",{className:"text-capitalize"},t+1),l.a.createElement("td",{className:"text-uppercase"},e.date),l.a.createElement("td",{className:"text-uppercase"},e.vehicle_number),l.a.createElement("td",{className:"text-capitalize"},e.quantity," QTL"),l.a.createElement("td",{className:"text-uppercase"},e.quantity_loaded," ",null===(a=ne.state)||void 0===a||null===(n=a.broker)||void 0===n?void 0:n.unit))}))),l.a.createElement("tfoot",null,l.a.createElement("tr",{className:"bg-gray-300"},l.a.createElement("td",null),l.a.createElement("td",null),l.a.createElement("td",{className:"fw-bold"},"Total"),l.a.createElement("td",{className:"fw-bold text-uppercase"},this.sum," QTL"),l.a.createElement("td",{className:"fw-bold text-uppercase"},this.sum_q," ",null===(ee=this.state)||void 0===ee||null===(ae=ee.broker)||void 0===ae?void 0:ae.unit)))))))))}}]),a}(n.Component),ma=Object(o.g)(ca),ua=function(e){Object(b.a)(a,e);var t=Object(v.a)(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={isLoadingParty:!1,PartyOptions:[],PartyValue:null,isLoadingBroker:!1,brokerOptions:[],brokerValue:null,loading:!1,date:new Date,details:{purchase_type:"purchase",party:"",broker:"",date:(new Date).toISOString().slice(0,10),genes:"",quantity:"",unit:"bags",rate:"",condition:"",po_number:"",remarks:""},id:""},e.assembleOption=function(e){return e.map((function(e){return{label:e.name,value:e.id}}))},e.handleSubmit=function(t,a){var n=a.setSubmitting;e.state.id;e.setState({loading:!0}),n(!0),e.props.isNewPurchaseOrder?sa(t).then((function(t){e.setState({loading:!1}),e.props.history.push("/orders/purchase/".concat(t.data.id)),e.props.togglePurchaseOrderEditor()})):oa(e.props.match.params.id,t).then((function(){e.setState({loading:!1}),e.props.togglePurchaseOrderEditor()}))},e.handleCreate=function(t){e.setState({isLoadingParty:!0}),ta({name:t,party_type:e.state.details.purchase_type}).then((function(t){var a=e.state.PartyOptions,n={label:t.data.name,value:t.data.id};e.setState({details:Object(j.a)(Object(j.a)({},e.state.details),{},{party:t.data.id}),isLoadingParty:!1,PartyOptions:[].concat(Object(u.a)(a),[n]),PartyValue:n})}))},e.handleCreateBroker=function(t){e.setState({isLoadingBroker:!0}),ta({name:t,party_type:"broker"}).then((function(t){var a=e.state.brokerOptions,n={label:t.data.name,value:t.data.id};e.setState({details:Object(j.a)(Object(j.a)({},e.state.details),{},{broker:t.data.id}),isLoadingBroker:!1,brokerOptions:[].concat(Object(u.a)(a),[n]),brokerValue:n})}))},e}return Object(h.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.setState({isLoadingBroker:!0,isLoadingParty:!0}),this.props.isNewPurchaseOrder?this.setState({id:0}):la(this.props.match.params.id).then((function(t){e.setState({details:t.data}),e.setState({PartyValue:null===t.data.party?null:{label:t.data.party_name,value:t.data.party}}),e.setState({brokerValue:null===t.data.broker?null:{label:t.data.broker_name,value:t.data.broker}})})).catch((function(e){console.log(e)})),aa("purchase").then((function(t){e.setState({isLoadingParty:!1}),e.setState({PartyOptions:e.assembleOption(t.data)})})),aa("broker").then((function(t){e.setState({isLoadingBroker:!1}),e.setState({brokerOptions:e.assembleOption(t.data)})}))}},{key:"componentDidUpdate",value:function(e,t){var a=this;t.details.purchase_type!==this.state.details.purchase_type&&(this.setState({isLoadingParty:!0}),aa(this.state.details.purchase_type).then((function(e){a.setState({isLoadingParty:!1}),a.setState({PartyOptions:a.assembleOption(e.data)})})))}},{key:"render",value:function(){var e=this,t=this.state,a=t.isLoadingParty,r=t.loading,i=t.PartyOptions,s=t.PartyValue,o=t.isLoadingBroker,c=t.brokerValue,m=t.brokerOptions,u=t.date;return l.a.createElement("div",{className:"invoice-viewer py-3"},l.a.createElement(ye.b,{initialValues:this.state.details,validationSchema:da,onSubmit:this.handleSubmit,enableReinitialize:!0},(function(t){var d=t.values,p=t.errors,h=t.touched,b=t.handleChange,v=t.handleBlur,g=t.handleSubmit,E=t.setFieldValue,f=t.setFieldTouched;return l.a.createElement(n.Fragment,null,l.a.createElement(ve.a,{onSubmit:g,className:"px-4"},l.a.createElement("div",{className:"row mb-3 justify-content-between"},l.a.createElement("div",{className:"col-md-3"},l.a.createElement("h4",{className:"fw-bold"},"Purchase Order")),l.a.createElement("div",{className:"col-md-2 text-right"},l.a.createElement("div",{className:"justify-content-end"},l.a.createElement("div",{className:"mb-4"},l.a.createElement(te.a,{type:"button",className:"me-3 py-2",variant:"warning",onClick:function(){return e.props.history.push("/orders/purchase/list")},tabIndex:12},"Cancel"),l.a.createElement(te.a,{type:"submit",className:"py-2",variant:"primary",disabled:r,tabIndex:11},"Save"))))),l.a.createElement("div",{className:"custom-separator"}),l.a.createElement("div",{className:"form-group row"},l.a.createElement("label",{className:"ul-form__label ul-form--margin col-lg-3 col-form-label fw-bold"},"Purchase Type :"),l.a.createElement("div",{className:"col-lg-2"},l.a.createElement(ve.a.Select,{tabIndex:1,name:"purchase_type",value:d.purchase_type,onChange:function(t){e.setState({details:Object(j.a)(Object(j.a)({},e.state.details),{},{purchase_type:t.target.value})}),E("purchase_type",t.target.value)},onBlur:function(){return f("purchase_type",!0)},isInvalid:p.purchase_type&&h.purchase_type},l.a.createElement("option",{value:"mandi-purchase",key:"mandi-purchase"},"Mandi Purchase"),l.a.createElement("option",{value:"purchase",key:"purchase"},"Purchase"))),l.a.createElement("label",{className:"ul-form__label ul-form--margin col-lg-3 col-form-label fw-bold"},"Date :"),l.a.createElement("div",{className:"col-lg-2"},l.a.createElement(ke.a,{tabIndex:2,className:"form-control",dateFormat:"dd-MM-yyyy",selected:new Date(u),onChange:function(t){null!==t&&(E("date",t.toISOString().slice(0,10)),e.setState({date:t}))},onBlur:function(){return f("date",!0)},isInvalid:p.date&&h.date}))),l.a.createElement("div",{className:"form-group row"},l.a.createElement("label",{className:"ul-form__label ul-form--margin col-lg-3 col-form-label fw-bold"},"mandi-purchase"===d.purchase_type?l.a.createElement("span",null,"Mandi Name :"):l.a.createElement("span",null,"Party's Name :")),l.a.createElement("div",{className:"col-lg-2"},l.a.createElement(Kt.a,{isClearable:!0,isDisabled:a,isLoading:a,onChange:function(t){e.setState({PartyValue:t}),E("party",t?t.value:null)},onCreateOption:e.handleCreate,options:i,value:s,tabIndex:3,onBlur:function(){return f("party",!0)},isInvalid:p.party&&h.party})),"mandi-purchase"===d.purchase_type?l.a.createElement(l.a.Fragment,null):l.a.createElement(l.a.Fragment,null,l.a.createElement("label",{className:"ul-form__label ul-form--margin col-lg-3 col-form-label fw-bold"},"Broker's Name :"),l.a.createElement("div",{className:"col-lg-2"},l.a.createElement(Kt.a,{isClearable:!0,isDisabled:o,isLoading:o,onChange:function(t){e.setState({brokerValue:t}),E("broker",t?t.value:null)},onCreateOption:e.handleCreateBroker,options:m,value:c,tabIndex:4,onBlur:function(){return f("broker",!0)},isInvalid:p.broker&&h.broker})))),l.a.createElement("div",{className:"custom-separator"}),l.a.createElement("div",{className:"form-group row"},l.a.createElement("label",{className:"ul-form__label ul-form--margin col-lg-3 col-form-label fw-bold"},"Genes :"),l.a.createElement("div",{className:"col-lg-2"},l.a.createElement(ve.a.Select,{name:"genes",value:d.genes,onChange:function(e){E("genes",e.target.value)},onBlur:function(){return f("genes",!0)},tabIndex:5,isInvalid:p.genes&&h.genes},l.a.createElement("option",{value:"0",key:""},"Select ..."),we.map((function(e,t){return l.a.createElement("option",{value:e.value,key:e.value},e.label)})))),l.a.createElement("label",{className:"ul-form__label ul-form--margin col-lg-3 col-form-label fw-bold"},"Quantity :"),l.a.createElement("div",{className:"col-lg-2"},l.a.createElement(jt.a,null,l.a.createElement(ge.a,{value:d.quantity,name:"quantity",type:"text",inputMode:"numeric",placeholder:"QTY",onChange:b,onBlur:v,isInvalid:p.quantity&&h.quantity,tabIndex:6}),l.a.createElement(ve.a.Select,{name:"unit",value:d.unit,onChange:function(e){E("unit",e.target.value)},onBlur:function(){return f("unit",!0)},isInvalid:p.unit&&h.unit,tabIndex:7},l.a.createElement("option",{value:"bags",key:"bags"},"Bags"),l.a.createElement("option",{value:"qtl",key:"qtl"},"Qtl"),l.a.createElement("option",{value:"truck",key:"truck"},"Truck"),l.a.createElement("option",{value:"ton",key:"ton"},"Ton"))))),l.a.createElement("div",{className:"form-group row"},l.a.createElement("label",{className:"ul-form__label ul-form--margin col-lg-3 col-form-label fw-bold"},"Rate :"),l.a.createElement("div",{className:"col-lg-2"},l.a.createElement(jt.a,null,l.a.createElement(ge.a,{value:d.rate,name:"rate",type:"text",inputMode:"numeric",tabIndex:8,placeholder:"Rate",onChange:b,onBlur:v,isInvalid:p.rate&&h.rate}))),"mandi-purchase"===d.purchase_type?l.a.createElement(l.a.Fragment,null,l.a.createElement("label",{className:"ul-form__label ul-form--margin col-lg-3 col-form-label fw-bold"},"Remarks :"),l.a.createElement("div",{className:"col-lg-2"},l.a.createElement(ge.a,{value:d.remarks,name:"remarks",type:"text",placeholder:"Remarks",onChange:b,onBlur:v,isInvalid:p.remarks&&h.remarks}))):l.a.createElement(l.a.Fragment,null,l.a.createElement("label",{className:"ul-form__label ul-form--margin col-lg-3 col-form-label fw-bold"},"Condition :"),l.a.createElement("div",{className:"col-lg-2"},l.a.createElement(jt.a,null,l.a.createElement(ve.a.Select,{tabIndex:9,name:"condition",value:d.condition,onChange:function(e){return E("condition",e.target.value)},onBlur:function(){f("condition",!0)},isInvalid:p.condition&&h.condition},l.a.createElement("option",{value:"",key:""},"Select Condition..."),l.a.createElement("option",{value:"9R + 100=300",key:"9R + 100=300"},"9R + 100=300"),l.a.createElement("option",{value:"9R + 101=300",key:"9R + 101=300"},"9R + 101=300"),l.a.createElement("option",{value:"9R + weight slip",key:"9R + weight slip"},"9R + weight slip"),l.a.createElement("option",{value:"Bill + 100=300",key:"Bill + 100=300"},"Bill + 100=300"),l.a.createElement("option",{value:"Bill + 101=300",key:"Bill + 101=300"},"Bill + 101=300"),l.a.createElement("option",{value:"Bill + weight slip",key:"Bill + weight slip"},"Bill + weight slip"),l.a.createElement("option",{value:"2nd + 100=300",key:"2nd + 100=300"},"2nd + 100=300"),l.a.createElement("option",{value:"2nd + 101=300 ",key:"2nd + 101=300 "},"2nd + 101=300 "),l.a.createElement("option",{value:"2nd + Weight slip",key:"2nd + Weight slip"},"2nd + Weight slip")))))),l.a.createElement("div",{className:"custom-separator"}),"mandi-purchase"===d.purchase_type?l.a.createElement(l.a.Fragment,null):l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"form-group row"},l.a.createElement("label",{className:"ul-form__label ul-form--margin col-lg-3 col-form-label fw-bold"},"Remarks :"),l.a.createElement("div",{className:"col-lg-2"},l.a.createElement(ge.a,{value:d.remarks,name:"remarks",type:"text",placeholder:"Remarks",onChange:b,onBlur:v,isInvalid:p.remarks&&h.remarks}))))))})))}}]),a}(n.Component),da=_e.object().shape({purchase_type:_e.string().required(),date:_e.string().required(),genes:_e.string().required(),quantity:_e.number().required(),unit:_e.string().required(),rate:_e.number().optional(),condition:_e.string().optional(),remarks:_e.string().optional(),party:_e.string().nullable().when("broker",{is:function(e){return!e||0===e.length},then:_e.string().required("At least select party or broker is required")}),broker:_e.string().nullable().when("party",{is:function(e){return!e||0===e.length},then:_e.string().required("At least party or broker is required")})},["party","broker"]),pa=Object(o.g)(ua),ha=function(e){Object(b.a)(a,e);var t=Object(v.a)(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={showPurchaseOrderEditor:!1,isNewPurchaseOrder:!1},e.togglePurchaseOrderEditor=function(){e.setState({showPurchaseOrderEditor:!e.state.showPurchaseOrderEditor,isNewPurchaseOrder:!1})},e}return Object(h.a)(a,[{key:"componentDidMount",value:function(){"create"===this.props.match.params.id&&this.setState({showPurchaseOrderEditor:!0,isNewPurchaseOrder:!0})}},{key:"componentDidUpdate",value:function(e,t){e.match.params.id!==this.props.match.params.id&&"create"===this.props.match.params.id&&this.setState({showPurchaseOrderEditor:!0,isNewPurchaseOrder:!0})}},{key:"render",value:function(){return l.a.createElement(ee.a,{elevation:6,className:"invoice-details m-sm-30"},this.state.showPurchaseOrderEditor?l.a.createElement(pa,{togglePurchaseOrderEditor:this.togglePurchaseOrderEditor,isNewPurchaseOrder:this.state.isNewPurchaseOrder}):l.a.createElement(ma,{togglePurchaseOrderEditor:this.togglePurchaseOrderEditor}))}}]),a}(n.Component),ba=function(e){Object(b.a)(a,e);var t=Object(v.a)(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={change:!0,companyList:[],shouldShowConfirmationDialog:!1,orderperpage:5,pageNumber:0,count:null},e.pageNumber=0,e.orderperpage=5,e.handlePageClick=function(t){e.pageNumber=t.selected,e.setState({pageNumber:t.selected})},e.handleSelectCount=function(t){e.orderperpage=t.target.value,e.orderperpage*e.pageNumber>=e.state.count?(e.pageNumber=Math.ceil(e.state.count/e.orderperpage)-1,e.setState({pageNumber:Math.ceil(e.state.count/e.orderperpage)-1,orderperpage:t.target.value})):e.setState({orderperpage:t.target.value})},e.handeViewClick=function(t){e.props.history.push("/orders/purchase/".concat(t))},e.handleDeleteInvoice=function(t){ia(t).then((function(t){Ae.a.fire({title:"Deleted!",text:"Your file has been deleted.",type:"success",icon:"success",timer:1500}),e.setState({change:!e.state.change,shouldShowConfirmationDialog:!1})}))},e.handleDialogClose=function(){e.setState({shouldShowConfirmationDialog:!1})},e}return Object(h.a)(a,[{key:"componentDidMount",value:function(){var e=this;ra(this.orderperpage,this.pageNumber,this.props.purchaseType,this.props.search,this.props.start_date,this.props.end_date,this.props.pending).then((function(t){return e.setState({companyList:t.data.results,count:t.data.count})}))}},{key:"componentDidUpdate",value:function(e,t){var a=this;t.change!==this.state.change&&ra(this.orderperpage,this.pageNumber,this.props.purchaseType,this.props.search,this.props.start_date,this.props.end_date,this.props.pending).then((function(e){return a.setState({companyList:e.data.results,count:e.data.count})})),e.start_date!==this.props.start_date&&ra(this.orderperpage,this.pageNumber,this.props.purchaseType,this.props.search,this.props.start_date,this.props.end_date,this.props.pending).then((function(e){return a.setState({companyList:e.data.results,count:e.data.count})})),e.pending!==this.props.pending&&ra(this.orderperpage,this.pageNumber,this.props.purchaseType,this.props.search,this.props.start_date,this.props.end_date,this.props.pending).then((function(e){return a.setState({companyList:e.data.results,count:e.data.count})})),e.end_date!==this.props.end_date&&ra(this.orderperpage,this.pageNumber,this.props.purchaseType,this.props.search,this.props.start_date,this.props.end_date,this.props.pending).then((function(e){return a.setState({companyList:e.data.results,count:e.data.count})})),e.search!==this.props.search&&ra(this.orderperpage,this.pageNumber,this.props.purchaseType,this.props.search,this.props.start_date,this.props.end_date,this.props.pending).then((function(e){return a.setState({companyList:e.data.results,count:e.data.count})})),t.pageNumber!==this.state.pageNumber&&ra(this.orderperpage,this.pageNumber,this.props.purchaseType,this.props.search,this.props.start_date,this.props.end_date,this.props.pending).then((function(e){return a.setState({companyList:e.data.results,count:e.data.count})})),t.orderperpage!==this.state.orderperpage&&ra(this.orderperpage,this.pageNumber,this.props.purchaseType,this.props.search,this.props.start_date,this.props.end_date,this.props.pending).then((function(e){return a.setState({companyList:e.data.results,count:e.data.count})}))}},{key:"render",value:function(){var e=this,t=this.state.companyList;return l.a.createElement("div",null,L()?l.a.createElement(l.a.Fragment,null,null===t||void 0===t?void 0:t.map((function(t,a){return l.a.createElement("div",{key:t.id},l.a.createElement("div",{style:{backgroundColor:"primary"},elevation:0,key:t.id},l.a.createElement("div",{className:"row"},l.a.createElement("table",{className:"table table-borderless",style:{marginBottom:"0rem"}},l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("th",{style:{width:"45%"}},"Date"),l.a.createElement("td",null,P()(new Date(t.date)).format("DD-MMM-YYYY"))),t.broker_name?l.a.createElement("tr",null,l.a.createElement("th",null,"Broker"),l.a.createElement("td",{className:"text-capitalize"},t.broker_name)):l.a.createElement(l.a.Fragment,null),t.party_name?l.a.createElement("tr",null,l.a.createElement("th",null,"Party"),l.a.createElement("td",{className:"text-capitalize"},t.party_name)):l.a.createElement(l.a.Fragment,null),l.a.createElement("tr",null,l.a.createElement("th",null,"Total Quantity"),l.a.createElement("td",{className:"text-capitalize"},t.quantity?t.quantity:0," ",t.unit)),l.a.createElement("tr",null,l.a.createElement("th",null,"Rate"),l.a.createElement("td",{className:"text-capitalize"},t.rate?t.rate:0)),l.a.createElement("tr",null,l.a.createElement("th",null,"Status"),l.a.createElement("td",{className:T({"badge rounded-pill text-white":!0,"bg-success":0===t.pending,"bg-warning":0!==t.pending})},0===t.pending?"Completed":"Pending")),0!==t.pending?l.a.createElement("tr",null,l.a.createElement("th",null,"Pending Quanity"),l.a.createElement("td",{className:"text-capitalize"},t.pending?t.pending:0," ",t.unit)):l.a.createElement(l.a.Fragment,null),l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement(te.a,{variant:"dark",onClick:function(){return e.handeViewClick(t.id)}},"Details ",l.a.createElement("i",{className:"i-Arrow-Right mr-4 font-weight-900 cursor-pointer"})," ")),l.a.createElement("td",null,l.a.createElement(te.a,{variant:"danger",className:"text-white",onClick:function(){Ae.a.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",type:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!",cancelButtonText:"No"}).then((function(a){a.value&&e.handleDeleteInvoice(t.id)}))}}," Delete ",l.a.createElement("i",{className:"i-Folder-Trash font-weight-900 cursor-pointer text-white"})))))))),l.a.createElement("div",{className:"mb-2",style:{borderBottom:"1px dashed #003473"}}))}))):l.a.createElement("div",{className:"w-100 overflow-auto"},l.a.createElement(Le.a,{style:{minWidth:750}},"mandi-purchase"===this.props.purchaseType?l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",{className:"pl-0"},"Date"),l.a.createElement("th",{className:"pl-0"},"Party"),l.a.createElement("th",{className:"pl-0"},"Genes"),l.a.createElement("th",{className:"pl-0"},"Quantity"),"pending=0"!==this.props.pending?l.a.createElement("th",{className:"pl-0"},"Pending"):l.a.createElement(l.a.Fragment,null),l.a.createElement("th",{className:"pl-0"},"Rate"),l.a.createElement("th",{className:"pl-0"},"Action"))):l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",{className:"pl-0"},"Date"),l.a.createElement("th",{className:"pl-0"},"Broker"),l.a.createElement("th",{className:"pl-0"},"Party"),l.a.createElement("th",{className:"pl-0"},"Genes"),l.a.createElement("th",{className:"pl-0"},"Quantity"),"pending=0"!==this.props.pending?l.a.createElement("th",{className:"pl-0"},"Pending"):l.a.createElement(l.a.Fragment,null),l.a.createElement("th",{className:"pl-0"},"Rate"),l.a.createElement("th",{className:"pl-0"},"Action"))),l.a.createElement("tbody",null,t.map((function(t,a){return"mandi-purchase"===e.props.purchaseType?l.a.createElement("tr",{key:t.id},l.a.createElement("td",{className:"pl-sm-24 text-capitalize",align:"left"},P()(new Date(t.date)).format("DD-MMMM-YYYY")),l.a.createElement("td",{className:"pl-0 text-capitalize",align:"left"},t.party_name),l.a.createElement("td",{className:"pl-0 text-capitalize",align:"left"},t.genes),l.a.createElement("td",{className:"pl-sm-24 text-capitalize",align:"left"},t.quantity," ",t.unit),"pending=0"!==e.props.pending?l.a.createElement("td",{className:"pl-sm-24 text-capitalize",align:"left"},t.pending," ",t.unit):l.a.createElement(l.a.Fragment,null),l.a.createElement("td",{className:"pl-0 text-capitalize",align:"left"},t.rate),l.a.createElement("td",{className:"pl-0"},l.a.createElement("i",{className:"i-Arrow-Right mr-4 font-weight-900 text-primary cursor-pointer",onClick:function(){return e.handeViewClick(t.id)}}),l.a.createElement("i",{className:"i-Folder-Trash font-weight-900 text-danger cursor-pointer",onClick:function(){Ae.a.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",type:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!",cancelButtonText:"No"}).then((function(a){a.value&&e.handleDeleteInvoice(t.id)}))}}))):l.a.createElement("tr",{key:t.id},l.a.createElement("td",{className:"pl-sm-24 text-capitalize",align:"left"},P()(new Date(t.date)).format("DD-MMMM-YYYY")),l.a.createElement("td",{className:"pl-0 text-capitalize",align:"left"},t.broker_name),l.a.createElement("td",{className:"pl-0 text-capitalize",align:"left"},t.party_name),l.a.createElement("td",{className:"pl-0 text-capitalize",align:"left"},t.genes),l.a.createElement("td",{className:"pl-0 text-capitalize",align:"left"},t.quantity," ",t.unit),"pending=0"!==e.props.pending?l.a.createElement("td",{className:"pl-0 text-capitalize",align:"left"},t.pending," ",t.unit):l.a.createElement(l.a.Fragment,null),l.a.createElement("td",{className:"pl-0 capitalize",align:"left"},t.rate),l.a.createElement("td",{className:"pl-0"},l.a.createElement("i",{className:"i-Arrow-Right mr-4 font-weight-900 text-primary cursor-pointer",onClick:function(){return e.handeViewClick(t.id)}}),l.a.createElement("i",{className:"i-Folder-Trash font-weight-900 text-danger cursor-pointer",onClick:function(){Ae.a.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",type:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!",cancelButtonText:"No"}).then((function(a){a.value&&e.handleDeleteInvoice(t.id)}))}})))}))))),l.a.createElement("div",{className:"row mt-3 mb-3"},l.a.createElement("div",{className:"d-flex justify-content-center"},l.a.createElement("select",{id:"picker1",className:"form-control",name:"select",value:this.orderperpage,onChange:this.handleSelectCount,style:{width:"4em",height:"2.5em"}},l.a.createElement("option",{value:5},"5"),l.a.createElement("option",{value:10},"10"),l.a.createElement("option",{value:25},"25"),l.a.createElement("option",{value:50},"50")),l.a.createElement("div",{className:"mt-1"},l.a.createElement(qe.a,{previousLabel:"Previous",nextLabel:"Next",breakLabel:"...",breakClassName:"break-me",pageCount:this.state.count/this.orderperpage,marginPagesDisplayed:0,pageRangeDisplayed:2,onPageChange:function(t){e.handlePageClick(t)},containerClassName:"pagination pagination-lg",subContainerClassName:"pages pagination",activeClassName:"active",forcePage:this.pageNumber})))))}}]),a}(n.Component),va=function(e){Object(b.a)(a,e);var t=Object(v.a)(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={change:!0,companyList:[],shouldShowConfirmationDialog:!1},e}return Object(h.a)(a,[{key:"render",value:function(){this.state.companyList;return l.a.createElement("div",null,l.a.createElement("div",{className:"w-100 overflow-auto"},L()?l.a.createElement(l.a.Fragment,null,l.a.createElement(De.a,{defaultActiveKey:"all",id:"uncontrolled-tab-example",unmountOnExit:!0,mountOnEnter:!0},l.a.createElement(Pe.a,{eventKey:"all",title:"All",key:"all",className:"capitalize"},l.a.createElement(ba,Object.assign({pending:""},this.props))),l.a.createElement(Pe.a,{eventKey:"pending",title:"Pending",key:"pending",className:"capitalize"},l.a.createElement(ba,Object.assign({pending:"pending__gt=0"},this.props))),l.a.createElement(Pe.a,{eventKey:"completed",title:"Completed",key:"completed",className:"capitalize"},l.a.createElement(ba,Object.assign({pending:"pending=0"},this.props))))):l.a.createElement(Pe.a.Container,{id:"left-tabs-example",defaultActiveKey:"all",unmountOnExit:!0,mountOnEnter:!0},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-2"},l.a.createElement(Ht.a,{variant:"pills",className:"d-flex flex-column"},l.a.createElement(Ht.a.Item,null,l.a.createElement(Ht.a.Link,{eventKey:"all"},"All")),l.a.createElement(Ht.a.Item,null,l.a.createElement(Ht.a.Link,{eventKey:"pending"},"Pending")),l.a.createElement(Ht.a.Item,null,l.a.createElement(Ht.a.Link,{eventKey:"completed"},"Completed")))),l.a.createElement("div",{className:"col-md-10"},l.a.createElement(Pe.a.Content,{className:"p-0"},l.a.createElement(Pe.a.Pane,{eventKey:"all"},l.a.createElement(ba,Object.assign({pending:""},this.props))),l.a.createElement(Pe.a.Pane,{eventKey:"pending"},l.a.createElement(ba,Object.assign({pending:"pending__gt=0"},this.props))),l.a.createElement(Pe.a.Pane,{eventKey:"completed"},l.a.createElement(ba,Object.assign({pending:"pending=0"},this.props)))))))))}}]),a}(n.Component),ga=[{path:"/orders/purchase/list",component:function(e){Object(b.a)(a,e);var t=Object(v.a)(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).state={taboptions:[{label:"All",value:""},{label:"Pending",value:"pending__gt=0"},{label:"Completed",value:"pending=0"}],invoiceList:[],partyList:[],searchvalue:null,options:[],search_s:""},n.handleChangeSearch=function(e){n.setState({search_s:e?e.value:""}),n.setState({searchvalue:e})},n.assembleOptions=function(e){var t=e.filter((function(e){return"mandi-purchase"===e.party_type})),a=e.filter((function(e){return"purchase"===e.party_type})),n=e.filter((function(e){return"broker"===e.party_type}));return[{label:"Mandi",options:t.map((function(e){return{label:e.name,value:e.name}}))},{label:"Party",options:a.map((function(e){return{label:e.name,value:e.name}}))},{label:"Broker",options:n.map((function(e){return{label:e.name,value:e.name}}))},{label:"Genes",options:we}]},n}return Object(h.a)(a,[{key:"componentDidMount",value:function(){var e=Object(le.a)(ne.a.mark((function e(){var t;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,na();case 2:t=e.sent,this.setState({options:this.assembleOptions(t.data)});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return l.a.createElement(Be.a,null,l.a.createElement(Ie.a,null,l.a.createElement(ee.a,{elevation:6,className:"invoice-details"},l.a.createElement("div",{className:"row mt-4 ms-3 me-3 mb-2 justify-content-between"},l.a.createElement("div",{className:"col-md-2 mb-4"},l.a.createElement("h4",{className:"fw-bold"},"Purchase Order List")),l.a.createElement("div",{className:"col-md-3 mb-2"},l.a.createElement(fe.a,{isClearable:!0,options:this.state.options,onChange:this.handleChangeSearch,onKeyPress:this.handleKeyPress,value:this.state.searchvalue})),l.a.createElement("div",{className:"col-md-2 mb-2"},l.a.createElement(ke.a,{isClearable:!0,placeholderText:"Start Date..",className:"form-control",dateFormat:"dd-MMMM-yyyy",selected:this.state.date_s?new Date(this.state.date_s):null,onChange:function(t){var a=e.state.date_s?t:Object(Xt.default)(t,1);e.setState({date_s:null===a||void 0===a?void 0:a.toISOString().slice(0,10)})}})),l.a.createElement("div",{className:"col-md-2 mb-2"},l.a.createElement(ke.a,{isClearable:!0,placeholderText:"End Date..",className:"form-control",dateFormat:"dd-MMMM-yyyy",selected:this.state.date_e?new Date(this.state.date_e):null,onChange:function(t){var a=e.state.date_e?t:Object(Xt.default)(t,1);e.setState({date_e:null===a||void 0===a?void 0:a.toISOString().slice(0,10)})}})),l.a.createElement("div",{className:"col-md-2 mb-2"},l.a.createElement("div",{className:"justify-content-end"},l.a.createElement("div",{className:"mb-4"},l.a.createElement(B.a,{to:"/orders/purchase/create"},l.a.createElement(te.a,{className:"mb-3",variant:"dark"},"Add Purchase Order"))))),L()?l.a.createElement(l.a.Fragment,null,l.a.createElement(Pe.a.Container,{id:"left-tabs-example",defaultActiveKey:"purchase"},l.a.createElement(Ht.a,{variant:"pills",className:"d-flex  px-2"},l.a.createElement(Ht.a.Item,{className:"flex-grow-1 text-center"},l.a.createElement(Ht.a.Link,{eventKey:"purchase"},"Purchases")),l.a.createElement(Ht.a.Item,{className:"flex-grow-1 text-center"},l.a.createElement(Ht.a.Link,{eventKey:"mandi-purchase"},"Mandi Purchases"))),l.a.createElement(Pe.a.Content,null,l.a.createElement(Pe.a.Pane,{eventKey:"purchase"},l.a.createElement(va,Object.assign({purchaseType:"purchase",search:this.state.search_s,start_date:this.state.date_s,end_date:this.state.date_e},this.props))),l.a.createElement(Pe.a.Pane,{eventKey:"mandi-purchase"},l.a.createElement(va,Object.assign({purchaseType:"mandi-purchase",search:this.state.search_s,start_date:this.state.date_s,end_date:this.state.date_e},this.props)))))):l.a.createElement(l.a.Fragment,null,l.a.createElement(De.a,{defaultActiveKey:"all",id:"uncontrolled-tab-example",unmountOnExit:!0,mountOnEnter:!0},l.a.createElement(Pe.a,{eventKey:"all",title:"All Purchases",key:"all",className:"capitalize"},l.a.createElement(va,Object.assign({purchaseType:"",search:this.state.search_s,start_date:this.state.date_s,end_date:this.state.date_e},this.props))),l.a.createElement(Pe.a,{eventKey:"purchase",title:"Other Purchase",key:"purchase",className:"capitalize"},l.a.createElement(va,Object.assign({purchaseType:"purchase",search:this.state.search_s,start_date:this.state.date_s,end_date:this.state.date_e},this.props))),l.a.createElement(Pe.a,{eventKey:"mandi-purchase",title:"Mandi Purchase",key:"mandi-purchase",className:"capitalize"},l.a.createElement(va,Object.assign({purchaseType:"mandi-purchase",search:this.state.search_s,start_date:this.state.date_s,end_date:this.state.date_e},this.props)))))))))}}]),a}(n.Component)},{path:"/orders/purchase/:id",component:ha}],Ea=function(){var e=Object(le.a)(ne.a.mark((function e(t){return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,re.a.get("/api/orders/party-list/all?party_type=".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),fa=function(){var e=Object(le.a)(ne.a.mark((function e(t){return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,re.a.get("/api/orders/purchase-list/all?".concat(t,"&pending__gt=0"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ya=function(e){return re.a.get("/api/orders/loading/"+e)},Na=function(e){return re.a.delete("/api/orders/broker/"+e)},ka=function(e){return re.a.put("/api/orders/loading/0",e)},_a=function(e,t){return re.a.delete("/api/orders/loading/"+e,t)},wa=function(e){Object(b.a)(a,e);var t=Object(v.a)(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={},e.subTotalCost=0,e}return Object(h.a)(a,[{key:"componentDidMount",value:function(){var e=this;"create"!==this.props.match.params.id&&ya(this.props.match.params.id).then((function(t){e.setState({broker:t.data})}))}},{key:"render",value:function(){var e,t,a,n,r,i,s,o,c,m,u,d,p=this;return l.a.createElement("div",{className:"invoice-viewer py-16"},l.a.createElement("div",{className:"viewer_actions px-3 mb-3 d-flex align-items-center justify-content-between"},l.a.createElement(B.a,{to:"/orders/broker/list"},l.a.createElement("i",{className:"i-Left1 text-20 font-weight-700"}," ")),l.a.createElement("div",null,l.a.createElement(te.a,{className:"mr-3 py-2",variant:"primary",onClick:function(){return p.props.toggleSalesOrderEditor()}},"Edit Broker"))),l.a.createElement("div",{id:"print-area",className:"px-3"},l.a.createElement("div",{className:"table-responsive"},l.a.createElement("div",{className:"col"},l.a.createElement("h4",{className:"fw-bold"},"DETAILS OF ",null===(e=this.state)||void 0===e||null===(t=e.broker)||void 0===t||null===(a=t.name)||void 0===a?void 0:a.toUpperCase())),l.a.createElement("table",{id:"user_table",className:"table"},l.a.createElement("thead",null),l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement("strong",null," Broker's Name :- ")),l.a.createElement("td",null,null===(n=this.state)||void 0===n||null===(r=n.broker)||void 0===r||null===(i=r.name)||void 0===i?void 0:i.toUpperCase()),l.a.createElement("td",null,l.a.createElement("strong",null," Contact Number ")),l.a.createElement("td",null,null===(s=this.state)||void 0===s||null===(o=s.broker)||void 0===o?void 0:o.contact_number)),l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement("strong",null," Broker's Email ID :- ")),l.a.createElement("td",null,null===(c=this.state)||void 0===c||null===(m=c.broker)||void 0===m?void 0:m.email),l.a.createElement("td",null,l.a.createElement("strong",null," Broker's Brokerage :- ")),l.a.createElement("td",null,null===(u=this.state)||void 0===u||null===(d=u.broker)||void 0===d?void 0:d.brokerage)))))))}}]),a}(n.Component),Oa=Object(o.g)(wa),Sa=function(e){Object(b.a)(a,e);var t=Object(v.a)(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={isLoadingParty:!1,PartyOptions:[],PartyValue:null,quantityInvalid:!1,loading:!1,date:new Date,pendingPurchaseOrder:[],details:{pendingPurchaseOrder:[],loadingOrders:[],loading_from:"",date:(new Date).toISOString().slice(0,10),genes:"",quantity:"",vehicle_number:"",remarks:""},id:""},e.assembleOption=function(e,t){return e.map((function(e){return{label:e.name,value:t+e.id,val:e.id}}))},e.assembleLoadingOrder=function(e){return e.map((function(e){return{purchase_order:e.id,quantity_loaded:""}}))},e.handlequantity=function(t){var a=t.target.getAttribute("data-key"),n=e.state.details.loadingOrders.findIndex((function(e){return e.purchase_order===a}));if(e.state.details.pendingPurchaseOrder[e.state.details.pendingPurchaseOrder.findIndex((function(e){return e.id==a}))].pending<t.target.value)e.setState({quantityInvalid:!0});else if(e.setState({quantityInvalid:!1}),-1===n){var l={purchase_order:a,quantity_loaded:t.target.value};e.setState({details:Object(j.a)(Object(j.a)({},e.state.details),{},{loadingOrders:[].concat(Object(u.a)(e.state.details.loadingOrders),[l])})})}else{var r=e.state.details.loadingOrders;r[n].quantity_loaded=t.target.value,e.setState({details:Object(j.a)(Object(j.a)({},e.state.details),{},{loadingOrders:r})})}},e.ass=function(t){return t.map((function(t){var a=e.state.details.pendingPurchaseOrder.findIndex((function(e){return e.id===t.id}));return-1===a?void 0!==t.quantity_loaded?Object(j.a)({},t):Object(j.a)(Object(j.a)({},t),{},{quantity_loaded:""}):Object(j.a)({},e.state.details.pendingPurchaseOrder[a])}))},e.handleSubmit=function(t,a){var n=a.setSubmitting;e.state.id;e.setState({loading:!0}),n(!0),e.props.isNewSalesOrder?ka(t).then((function(t){e.setState({loading:!1}),e.props.history.push("/orders/loading/".concat(t.data.id)),e.props.toggleSalesOrderEditor()})):_a(e.props.match.params.id,t).then((function(){e.setState({loading:!1}),e.props.toggleSalesOrderEditor()}))},e}return Object(h.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.setState({isLoadingBroker:!0,isLoadingParty:!0}),this.props.isNewSalesOrder?this.setState({id:0}):ya(this.props.match.params.id).then((function(t){e.setState({details:t.data}),e.setState({PartyValue:{label:t.data.loading_from_name,value:"purchase"===t.data.loading_from_type||"mandi-purchase"===t.data.loading_from_type?"party="+t.data.loading_from:"broker="+t.data.loading_from}})})).catch((function(e){console.log(e)})),Ea("mandi-purchase").then((function(t){e.setState({isLoadingParty:!1}),e.setState({PartyOptions:[{label:"Mandi",options:e.assembleOption(t.data,"party=")}]})})),Ea("purchase").then((function(t){e.setState({isLoadingParty:!1}),e.setState({PartyOptions:[].concat(Object(u.a)(e.state.PartyOptions),[{label:"Party",options:e.assembleOption(t.data,"party=")}])})})),Ea("broker").then((function(t){e.setState({isLoadingParty:!1}),e.setState({PartyOptions:[].concat(Object(u.a)(e.state.PartyOptions),[{label:"broker",options:e.assembleOption(t.data,"broker=")}])})}))}},{key:"componentDidUpdate",value:function(e,t){var a,n,l=this;t.PartyValue!==this.state.PartyValue&&(void 0!==(null===(a=this.state.PartyValue)||void 0===a?void 0:a.value)?fa(null===(n=this.state.PartyValue)||void 0===n?void 0:n.value).then((function(e){l.setState({details:Object(j.a)(Object(j.a)({},l.state.details),{},{pendingPurchaseOrder:l.ass(e.data)})})})).catch((function(e){l.setState({details:Object(j.a)(Object(j.a)({},l.state.details),{},{pendingPurchaseOrder:[]})})})):this.setState({details:Object(j.a)(Object(j.a)({},this.state.details),{},{pendingPurchaseOrder:[]})}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.isLoadingParty,r=t.loading,i=t.PartyOptions,s=t.PartyValue,o=t.date;return l.a.createElement("div",{className:"invoice-viewer py-3"},l.a.createElement(ye.b,{initialValues:this.state.details,validationSchema:xa,onSubmit:this.handleSubmit,enableReinitialize:!0},(function(t){var c,m,u,d=t.values,p=t.errors,h=t.touched,b=t.handleChange,v=t.handleBlur,g=t.handleSubmit,E=t.setFieldValue,f=t.setFieldTouched;return l.a.createElement(n.Fragment,null,l.a.createElement(ve.a,{onSubmit:g,className:"px-4"},l.a.createElement("div",{className:"row mb-3 justify-content-between"},l.a.createElement("div",{className:"col-md-3"},l.a.createElement("h4",{className:"fw-bold"},"Loading")),l.a.createElement("div",{className:"col-md-2 text-right"},l.a.createElement("div",{className:"justify-content-end"},l.a.createElement("div",{className:"mb-4"},l.a.createElement(te.a,{type:"button",className:"me-3 py-2",variant:"warning",onClick:function(){return e.props.history.push("/orders/sales/list")},tabIndex:12},"Cancel"),l.a.createElement(te.a,{type:"submit",className:"py-2",variant:"primary",disabled:r,tabIndex:11},"Save"))))),l.a.createElement("div",{className:"custom-separator"}),l.a.createElement("div",{className:"form-group row"},l.a.createElement("label",{className:"ul-form__label ul-form--margin col-lg-3 col-form-label fw-bold"},"Date :"),l.a.createElement("div",{className:"col-lg-2"},l.a.createElement(ke.a,{tabIndex:2,className:"form-control",dateFormat:"dd-MM-yyyy",selected:new Date(o),onChange:function(t){null!==t&&(E("date",t.toISOString().slice(0,10)),e.setState({date:t}))},onBlur:function(){return f("date",!0)},isInvalid:p.date&&h.date})),l.a.createElement("label",{className:"ul-form__label ul-form--margin col-lg-3 col-form-label fw-bold"},"Vehicle Number :"),l.a.createElement("div",{className:"col-lg-2"},l.a.createElement(ge.a,{value:d.vehicle_number,name:"vehicle_number",type:"text",placeholder:"Vehicle Number",onChange:b,onBlur:v,isInvalid:p.vehicle_number&&h.vehicle_number}))),l.a.createElement("div",{className:"form-group row"},l.a.createElement("label",{className:"ul-form__label ul-form--margin col-lg-3 col-form-label fw-bold"},"Genes :"),l.a.createElement("div",{className:"col-lg-2"},l.a.createElement(ve.a.Select,{name:"genes",value:d.genes,onChange:function(e){E("genes",e.target.value)},onBlur:function(){return f("genes",!0)},tabIndex:5,isInvalid:p.genes&&h.genes},l.a.createElement("option",{value:"0",key:""},"Select ..."),we.map((function(e,t){return l.a.createElement("option",{value:e.value,key:e.value},e.label)})))),l.a.createElement("label",{className:"ul-form__label ul-form--margin col-lg-3 col-form-label fw-bold"},"Quantity :"),l.a.createElement("div",{className:"col-lg-2"},l.a.createElement("div",{className:"input-group"},l.a.createElement(ge.a,{value:d.quantity,name:"quantity",type:"text",inputMode:"numeric",placeholder:"QTY",onChange:b,onBlur:v,isInvalid:p.quantity&&h.quantity,tabIndex:6}),l.a.createElement("div",{className:"input-group-append"},l.a.createElement("span",{className:"input-group-text",id:"basic-addon2",style:{borderTopLeftRadius:"0rem",borderBottomLeftRadius:"0rem"}},"Quintal"))))),l.a.createElement("div",{className:"form-group row"},l.a.createElement("label",{className:"ul-form__label ul-form--margin col-lg-3 col-form-label fw-bold"},"Frieght :"),l.a.createElement("div",{className:"col-lg-2"},l.a.createElement(ge.a,{value:d.remarks,name:"remarks",type:"text",placeholder:"Any Comment",onChange:b,onBlur:v,isInvalid:p.remarks&&h.remarks})),l.a.createElement("label",{className:"ul-form__label ul-form--margin col-lg-3 col-form-label fw-bold"},"Any Advance :"),l.a.createElement("div",{className:"col-lg-2"},l.a.createElement(ge.a,{value:d.remarks,name:"remarks",type:"text",placeholder:"Any Comment",onChange:b,onBlur:v,isInvalid:p.remarks&&h.remarks}))),l.a.createElement("div",{className:"form-group row"},l.a.createElement("label",{className:"ul-form__label ul-form--margin col-lg-3 col-form-label fw-bold"},"Loading From :-"),l.a.createElement("div",{className:"col-lg-2"},l.a.createElement(fe.a,{isClearable:!0,isDisabled:a,isLoading:a,onChange:function(t){E("loading_from",t?t.val:null),e.setState({details:Object(j.a)(Object(j.a)({},e.state.details),{},{loading_from:t?t.val:null})}),e.setState({PartyValue:t})},options:i,value:s,tabIndex:3,onBlur:function(){return f("loading_from",!0)},isInvalid:p.party&&h.party}))),l.a.createElement("div",{className:"custom-separator"}),l.a.createElement(ye.a,{name:"pendingPurchaseOrder"},L()?l.a.createElement(l.a.Fragment,null,null===(c=d.pendingPurchaseOrder)||void 0===c?void 0:c.map((function(e,t){return l.a.createElement("div",{className:"mt-2 ms-2 me-2 mb-2",key:e.id},l.a.createElement(ee.a,{elevation:0,style:{backgroundColor:"#ADD8E6"},key:e.id},l.a.createElement("div",{className:"row mt-2 ms-2 me-2 mb-2"},l.a.createElement("table",{className:"table table-borderless",style:{marginBottom:"0rem"}},l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Date"),l.a.createElement("td",null,P()(new Date(e.date)).format("DD-MMM-YYYY"))),l.a.createElement("tr",null,l.a.createElement("th",null,"Total Quantity"),l.a.createElement("td",{className:"text-capitalize"},e.quantity?e.quantity:0," ",e.unit)),l.a.createElement("tr",null,l.a.createElement("th",null,"Rate"),l.a.createElement("td",{className:"text-capitalize"},e.rate?e.rate:0," Per QTL")),l.a.createElement("tr",null,l.a.createElement("th",null,"Pending Quanity"),l.a.createElement("td",{className:"text-capitalize"},e.pending?e.pending:0," ",e.unit)),l.a.createElement("tr",null,l.a.createElement("th",null,"Quanity Loaded"),l.a.createElement("td",{className:"text-capitalize"},l.a.createElement("div",{className:"input-group"},l.a.createElement("input",{type:"text",className:"form-control",inputMode:"numeric",style:{borderTopRightRadius:"0.25rem",borderBottomRightRadius:"0.25rem",borderColor:"#003473"}}),l.a.createElement("div",{className:"input-group-append"},l.a.createElement("span",{className:"input-group-text",id:"basic-addon2",style:{backgroundColor:"#ADD8E6",borderRadius:"0",borderColor:"#ADD8E6"}},e.unit))))))))),l.a.createElement("div",{style:{borderBottom:"1px dashed #003473",margin:"15px 0"}}))}))):l.a.createElement("div",{className:"table-responsive"},l.a.createElement("table",{className:"table table-bordered",style:{width:"100%",tableLayout:"fixed"}},0===(null===(m=d.pendingPurchaseOrder)||void 0===m?void 0:m.length)?l.a.createElement(l.a.Fragment,null):l.a.createElement("thead",{className:"bg-gray-300"},l.a.createElement("tr",null,l.a.createElement("th",null,"Date"),l.a.createElement("th",{scope:"col"},"Item Name"),l.a.createElement("th",{scope:"col"},"Total Quantity"),l.a.createElement("th",{scope:"col"},"Rate"),l.a.createElement("th",{scope:"col"},"Pending Quantity"),l.a.createElement("th",{scope:"col"},"Quantity Loaded"))),l.a.createElement("tbody",null,null===(u=d.pendingPurchaseOrder)||void 0===u?void 0:u.filter((function(e){return!d.genes||e.genes===d.genes})).map((function(e,t){return l.a.createElement("tr",{key:t},l.a.createElement("td",null,P()(new Date(e.date)).format("DD-MMMM-YYYY")),l.a.createElement("td",{className:"text-uppercase"},e.genes),l.a.createElement("td",{className:"text-capitalize"},e.quantity," ",e.unit),l.a.createElement("td",{className:"text-capitalize"},e.rate),l.a.createElement("td",{className:"text-capitalize"},e.pending?e.pending-d.pendingPurchaseOrder[t].quantity_loaded:0," ",e.unit),l.a.createElement("td",{className:"text-capitalize"},l.a.createElement("div",{className:"input-group"},l.a.createElement(ge.a,{"data-key":e.id,value:d.pendingPurchaseOrder[t].quantity_loaded,name:"pendingPurchaseOrder[".concat(t,"].quantity_loaded"),type:"text",placeholder:"Any Comment",onChange:b,onBlur:v,isInvalid:p.pendingPurchaseOrder&&h.pendingPurchaseOrder&&p.pendingPurchaseOrder[t]&&h.pendingPurchaseOrder[t]&&p.pendingPurchaseOrder[t].quantity_loaded&&h.pendingPurchaseOrder[t].quantity_loaded}),l.a.createElement("div",{className:"input-group-append"},l.a.createElement("span",{className:"input-group-text",style:{borderTopLeftRadius:"0rem",borderBottomLeftRadius:"0rem"}},e.unit)))))}))))))))})))}}]),a}(n.Component),xa=_e.object().shape({loading_from:_e.string().required(),date:_e.string().required(),genes:_e.string().required(),quantity:_e.string().required(),vehicle_number:_e.string().required(),remarks:_e.string().optional(),pendingPurchaseOrder:_e.array().of(_e.object().shape({broker:_e.string().optional().nullable(),broker_name:_e.string().optional().nullable(),condition:_e.string().optional().nullable(),date:_e.string().optional(),genes:_e.string().optional(),id:_e.string().optional(),party:_e.string().optional(),party_name:_e.string().optional(),pending:_e.number().optional(),purchase_type:_e.string().optional(),quantity:_e.number().optional(),rate:_e.number().optional(),remarks:_e.string().optional().nullable(),unit:_e.string().optional(),quantity_loaded:_e.string().optional().nullable().test("max","Total should not exceed 100 %",(function(e){var t=this.parent.pending;return void 0===e||e<=t}))}))}),Ca=Object(o.g)(Sa),ja=function(e){Object(b.a)(a,e);var t=Object(v.a)(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={showSalesOrderEditor:!1,isNewSalesOrder:!1},e.toggleSalesOrderEditor=function(){e.setState({showSalesOrderEditor:!e.state.showSalesOrderEditor,isNewSalesOrder:!1})},e}return Object(h.a)(a,[{key:"componentDidMount",value:function(){"create"===this.props.match.params.id&&this.setState({showSalesOrderEditor:!0,isNewSalesOrder:!0})}},{key:"render",value:function(){return l.a.createElement(ee.a,{elevation:6,className:"invoice-details m-sm-30"},this.state.showSalesOrderEditor?l.a.createElement(Ca,{toggleSalesOrderEditor:this.toggleSalesOrderEditor,isNewSalesOrder:this.state.isNewSalesOrder}):l.a.createElement(Oa,{toggleSalesOrderEditor:this.toggleSalesOrderEditor}))}}]),a}(n.Component),Ba=[{path:"/orders/loading/list",component:function(e){Object(b.a)(a,e);var t=Object(v.a)(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={companyList:[],shouldShowConfirmationDialog:!1},e.handeViewClick=function(t){e.props.history.push("/orders/broker/".concat(t))},e.handleDeleteInvoice=function(t){Na(t).then((function(t){Ae.a.fire({title:"Deleted!",text:"Your file has been deleted.",type:"success",icon:"success",timer:1500}),e.setState({companyList:t.data,shouldShowConfirmationDialog:!1})}))},e.handleDialogClose=function(){e.setState({shouldShowConfirmationDialog:!1})},e}return Object(h.a)(a,[{key:"componentDidMount",value:function(){var e=this;re.a.get("/api/orders/broker-list/all").then((function(t){return e.setState({companyList:t.data})}))}},{key:"render",value:function(){var e=this,t=this.state.companyList;return l.a.createElement(Be.a,null,l.a.createElement(Ie.a,null,l.a.createElement(ee.a,{elevation:6,className:"invoice-details w-100 overflow-auto"},l.a.createElement("div",{className:"row mt-4 ms-3 me-3 mb-2 justify-content-between"},l.a.createElement("div",{className:"col-md-2"},l.a.createElement("h4",{className:"fw-bold"},"Broker List")),l.a.createElement("div",{className:"col-md-2"},l.a.createElement("div",{className:"justify-content-end"},l.a.createElement("div",{className:"mb-4"},l.a.createElement(B.a,{to:"/orders/broker/create"},l.a.createElement(te.a,{className:"mb-3",variant:"primary"},"Add Broker"))))),l.a.createElement(Le.a,{style:{minWidth:750}},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",{className:"pl-sm-24"},"Broker Name"),l.a.createElement("th",{className:"px-0"},"Contact Number"),l.a.createElement("th",{className:"px-0"},"Email"),l.a.createElement("th",{className:"px-0"},"Brokerage"),l.a.createElement("th",{className:"px-0"},"Action"))),l.a.createElement("tbody",null,t.map((function(t,a){return l.a.createElement("tr",{key:t.id},l.a.createElement("td",{className:"pl-sm-24 capitalize",align:"left"},t.name),l.a.createElement("td",{className:"pl-0 capitalize",align:"left"},t.contact_number),l.a.createElement("td",{className:"pl-0 capitalize",align:"left"},t.email),l.a.createElement("td",{className:"pl-0 capitalize",align:"left"},t.brokerage),l.a.createElement("td",{className:"pl-0"},l.a.createElement("i",{className:"i-Arrow-Right mr-4 font-weight-900 text-primary cursor-pointer",onClick:function(){return e.handeViewClick(t.id)}}),l.a.createElement("i",{className:"i-Folder-Trash font-weight-900 text-danger cursor-pointer",onClick:function(){Ae.a.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",type:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!",cancelButtonText:"No"}).then((function(a){a.value&&e.handleDeleteInvoice(t.id)}))}})))}))))))))}}]),a}(n.Component)},{path:"/orders/loading/:id",component:ja}],Ia=function(){var e=Object(le.a)(ne.a.mark((function e(){return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,re.a.get("/api/orders/party-list/all?party_type__in=mandi-sales&party_type__in=sales&party_type__in=broker");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Da=function(){var e=Object(le.a)(ne.a.mark((function e(t,a){return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===a){e.next=6;break}return e.next=3,re.a.get("/api/orders/sales-list/all?".concat(t,"&pending__gt=0&genes=").concat(a));case 3:return e.abrupt("return",e.sent);case 6:return e.next=8,re.a.get("/api/orders/sales-list/all?".concat(t,"&pending__gt=0"));case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),Pa=function(){var e=Object(le.a)(ne.a.mark((function e(){return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,re.a.get("/api/orders/loading-list/all?unloaded=False");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),La=function(e){return re.a.get("/api/orders/unloading/"+e)},Ta=function(e){return re.a.delete("/api/orders/broker/"+e)},Aa=function(e){return re.a.put("/api/orders/unloading/0",e)},Ma=function(e,t){return re.a.patch("/api/orders/loading/"+e,t)},qa=function(e){Object(b.a)(a,e);var t=Object(v.a)(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={},e.subTotalCost=0,e}return Object(h.a)(a,[{key:"componentDidMount",value:function(){var e=this;"create"!==this.props.match.params.id&&La(this.props.match.params.id).then((function(t){e.setState({broker:t.data})}))}},{key:"render",value:function(){var e,t,a,n,r,i,s,o,c,m,u,d,p=this;return l.a.createElement("div",{className:"invoice-viewer py-16"},l.a.createElement("div",{className:"viewer_actions px-3 mb-3 d-flex align-items-center justify-content-between"},l.a.createElement(B.a,{to:"/orders/broker/list"},l.a.createElement("i",{className:"i-Left1 text-20 font-weight-700"}," ")),l.a.createElement("div",null,l.a.createElement(te.a,{className:"mr-3 py-2",variant:"primary",onClick:function(){return p.props.toggleSalesOrderEditor()}},"Edit Broker"))),l.a.createElement("div",{id:"print-area",className:"px-3"},l.a.createElement("div",{className:"table-responsive"},l.a.createElement("div",{className:"col"},l.a.createElement("h4",{className:"fw-bold"},"DETAILS OF ",null===(e=this.state)||void 0===e||null===(t=e.broker)||void 0===t||null===(a=t.name)||void 0===a?void 0:a.toUpperCase())),l.a.createElement("table",{id:"user_table",className:"table"},l.a.createElement("thead",null),l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement("strong",null," Broker's Name :- ")),l.a.createElement("td",null,null===(n=this.state)||void 0===n||null===(r=n.broker)||void 0===r||null===(i=r.name)||void 0===i?void 0:i.toUpperCase()),l.a.createElement("td",null,l.a.createElement("strong",null," Contact Number ")),l.a.createElement("td",null,null===(s=this.state)||void 0===s||null===(o=s.broker)||void 0===o?void 0:o.contact_number)),l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement("strong",null," Broker's Email ID :- ")),l.a.createElement("td",null,null===(c=this.state)||void 0===c||null===(m=c.broker)||void 0===m?void 0:m.email),l.a.createElement("td",null,l.a.createElement("strong",null," Broker's Brokerage :- ")),l.a.createElement("td",null,null===(u=this.state)||void 0===u||null===(d=u.broker)||void 0===d?void 0:d.brokerage)))))))}}]),a}(n.Component),Ra=Object(o.g)(qa),za=a(539),Fa=a(179),Ya=function(e){Object(b.a)(a,e);var t=Object(v.a)(a);function a(){var e,n;Object(p.a)(this,a);for(var l=arguments.length,r=new Array(l),i=0;i<l;i++)r[i]=arguments[i];return(n=t.call.apply(t,[this].concat(r))).state={item:n.props.item,isLoadingParty:!1,PartyOptions:[],PartyValue:null,quantityInvalid:!1,loading:!1,date:new Date,pendingSalesOrder:[],details:{loading_obj:null===(e=n.props.item)||void 0===e?void 0:e.id,pendingSalesOrder:[],unload_to:"",date:(new Date).toISOString().slice(0,10),frieght:"",quantity:"",advance_frieght:"",remarks:""},id:""},n.assembleOption=function(e){var t=e.filter((function(e){return"broker"===e.party_type})),a=e.filter((function(e){return"sales"===e.party_type})),n=e.filter((function(e){return"mandi-sales"===e.party_type})),l=t.map((function(e){return{label:e.name,value:"broker="+e.id,val:e.id}})),r=a.map((function(e){return{label:e.name,value:"party="+e.id,val:e.id}}));return[{label:"Mandi",options:n.map((function(e){return{label:e.name,value:"party="+e.id,val:e.id}}))},{label:"Party",options:r},{label:"broker",options:l}]},n.ass=function(e){return e.map((function(e){var t=n.state.details.pendingSalesOrder.findIndex((function(t){return t.id===e.id}));return-1===t?void 0!==e.quantity_loaded?Object(j.a)({},e):Object(j.a)(Object(j.a)({},e),{},{quantity_loaded:""}):Object(j.a)({},n.state.details.pendingSalesOrder[t])}))},n.handleSubmit=function(e,t){var a=t.setSubmitting;n.state.id;n.setState({loading:!0}),a(!0),"create"===n.props.id?Aa(e).then((function(e){n.setState({loading:!1}),n.props.history.push("/orders/loading/".concat(e.data.id)),n.props.toggleSalesOrderEditor()})):Ma(n.props.match.params.id,e).then((function(){n.setState({loading:!1}),n.props.toggleSalesOrderEditor()}))},n}return Object(h.a)(a,[{key:"componentDidMount",value:function(){var e=Object(le.a)(ne.a.mark((function e(){var t,a=this;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(this.props.id),this.setState({isLoadingBroker:!0,isLoadingParty:!0}),"create"!==this.props.id?La(this.props.match.params.id).then((function(e){a.setState({details:e.data}),a.setState({PartyValue:{label:e.data.loading_from_name,value:"sales"===e.data.loading_from_type||"mandi-sales"===e.data.loading_from_type?"party="+e.data.unload_to:"broker="+e.data.unload_to}})})).catch((function(e){console.log(e)})):this.setState({id:0}),e.next=5,Ia();case 5:t=e.sent,this.setState({isLoadingParty:!1}),this.setState({PartyOptions:this.assembleOption(t.data)});case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(e,t){var a=this;if(t.PartyValue!==this.state.PartyValue){var n,l,r;if(void 0!==(null===(n=this.state.PartyValue)||void 0===n?void 0:n.value))Da(null===(l=this.state.PartyValue)||void 0===l?void 0:l.value,null===(r=this.state.item)||void 0===r?void 0:r.genes).then((function(e){a.setState({details:Object(j.a)(Object(j.a)({},a.state.details),{},{pendingSalesOrder:a.ass(e.data)})})})).catch((function(e){a.setState({details:Object(j.a)(Object(j.a)({},a.state.details),{},{pendingSalesOrder:[]})})}));else this.setState({details:Object(j.a)(Object(j.a)({},this.state.details),{},{pendingSalesOrder:[]})});console.log(this.state)}}},{key:"render",value:function(){var e=this,t=this.state,a=t.isLoadingParty,r=t.loading,i=t.PartyOptions,s=t.PartyValue,o=t.date;return l.a.createElement("div",{className:"invoice-viewer py-3"},l.a.createElement(ye.b,{initialValues:this.state.details,validationSchema:Va,onSubmit:this.handleSubmit,enableReinitialize:!0},(function(t){var c,m,u,d=t.values,p=t.errors,h=t.touched,b=t.handleChange,v=t.handleBlur,g=t.handleSubmit,E=t.setFieldValue,f=t.setFieldTouched;return l.a.createElement(n.Fragment,null,l.a.createElement(ve.a,{onSubmit:g,className:"px-4"},l.a.createElement("div",{className:"row mb-3 justify-content-between"},l.a.createElement("div",{className:"col-lg-12 text-end"},l.a.createElement("div",{className:"mb-4"},l.a.createElement(te.a,{type:"button",className:"me-3 py-2",variant:"warning",onClick:function(){return e.props.onClick(e.state.item.id)},tabIndex:12},"Cancel"),l.a.createElement(te.a,{type:"submit",className:"py-2",variant:"primary",disabled:r,tabIndex:11},"Save")))),l.a.createElement("div",{className:"form-group row"},l.a.createElement("label",{className:"ul-form__label ul-form--margin col-lg-3 col-form-label fw-bold"},"Unloaded To :-"),l.a.createElement("div",{className:"col-lg-2"},l.a.createElement(fe.a,{isClearable:!0,isDisabled:a,isLoading:a,onChange:function(t){E("unload_to",t?t.val:null),e.setState({details:Object(j.a)(Object(j.a)({},e.state.details),{},{unload_to:t?t.val:null})}),e.setState({PartyValue:t})},options:i,menuPortalTarget:document.body,value:s,tabIndex:3,onBlur:function(){return f("unload_to",!0)},isInvalid:p.unload_to&&h.unload_to})),l.a.createElement("label",{className:"ul-form__label ul-form--margin col-lg-3 col-form-label fw-bold"},"Date :"),l.a.createElement("div",{className:"col-lg-2"},l.a.createElement(ke.a,{tabIndex:2,className:"form-control",dateFormat:"dd-MM-yyyy",selected:new Date(o),onChange:function(t){null!==t&&(E("date",t.toISOString().slice(0,10)),e.setState({date:t}))},onBlur:function(){return f("date",!0)},isInvalid:p.date&&h.date}))),l.a.createElement("div",{className:"form-group row"},l.a.createElement("label",{className:"ul-form__label ul-form--margin col-lg-3 col-form-label fw-bold"},"Quantity :"),l.a.createElement("div",{className:"col-lg-2"},l.a.createElement("div",{className:"input-group"},l.a.createElement(ge.a,{value:d.quantity,name:"quantity",type:"text",inputMode:"numeric",placeholder:"QTY",onChange:b,onBlur:v,isInvalid:p.quantity&&h.quantity,tabIndex:6}),l.a.createElement("div",{className:"input-group-append"},l.a.createElement("span",{className:"input-group-text",id:"basic-addon2",style:{height:"34px",borderTopLeftRadius:"0rem",borderBottomLeftRadius:"0rem"}},"Quintal")))),l.a.createElement("label",{className:"ul-form__label ul-form--margin col-lg-3 col-form-label fw-bold"},"Frieght Per Quintal :"),l.a.createElement("div",{className:"col-lg-2"},l.a.createElement(ge.a,{value:d.frieght,name:"frieght",type:"text",placeholder:"Frieght Per QTL",onChange:b,onBlur:v,isInvalid:p.frieght&&h.frieght}))),l.a.createElement("div",{className:"form-group row"},l.a.createElement("label",{className:"ul-form__label ul-form--margin col-lg-3 col-form-label fw-bold"},"Frieght by Party :"),l.a.createElement("div",{className:"col-lg-2"},l.a.createElement(ge.a,{value:d.advance_frieght,name:"advance_frieght",type:"text",placeholder:"Frieght By Party",onChange:b,onBlur:v,isInvalid:p.advance_frieght&&h.advance_frieght})),l.a.createElement("label",{className:"ul-form__label ul-form--margin col-lg-3 col-form-label fw-bold"},"Remarks :"),l.a.createElement("div",{className:"col-lg-2"},l.a.createElement(ge.a,{value:d.remarks,name:"remarks",type:"text",placeholder:"Any Comment",onChange:b,onBlur:v,isInvalid:p.remarks&&h.remarks}))),l.a.createElement("div",{className:"custom-separator"}),l.a.createElement(ye.a,{name:"pendingSalesOrder"},L()?l.a.createElement(l.a.Fragment,null,null===(c=d.pendingSalesOrder)||void 0===c?void 0:c.map((function(e,t){return l.a.createElement("div",{className:"mt-2 mb-2",key:e.id},l.a.createElement(ee.a,{elevation:0,style:{backgroundColor:"#ADD8E6"},key:e.id},l.a.createElement("div",{className:"row mt-2 ms-2 me-2 mb-2"},l.a.createElement("table",{className:"table table-borderless",style:{marginBottom:"0rem"}},l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Date"),l.a.createElement("td",null,P()(new Date(e.date)).format("DD-MMM-YYYY"))),l.a.createElement("tr",null,l.a.createElement("th",null,"Total Quantity"),l.a.createElement("td",{className:"text-capitalize"},e.quantity?e.quantity:0," ",e.unit)),l.a.createElement("tr",null,l.a.createElement("th",null,"Rate"),l.a.createElement("td",{className:"text-capitalize"},e.rate?e.rate:0," Per QTL")),l.a.createElement("tr",null,l.a.createElement("th",null,"Pending Quanity"),l.a.createElement("td",{className:"text-capitalize"},e.pending?e.pending:0," ",e.unit)),l.a.createElement("tr",null,l.a.createElement("th",null,"Quanity Loaded"),l.a.createElement("td",{className:"text-capitalize"},l.a.createElement("div",{className:"input-group"},l.a.createElement("input",{type:"text",className:"form-control",inputMode:"numeric",style:{borderTopRightRadius:"0.25rem",borderBottomRightRadius:"0.25rem",borderColor:"#003473"}}),l.a.createElement("div",{className:"input-group-append"},l.a.createElement("span",{className:"input-group-text",id:"basic-addon2",style:{backgroundColor:"#ADD8E6",borderRadius:"0",borderColor:"#ADD8E6"}},e.unit))))))))),l.a.createElement("div",{style:{borderBottom:"1px dashed #003473",margin:"15px 0"}}))}))):l.a.createElement("div",{className:"table-responsive"},l.a.createElement("table",{className:"table table-bordered",style:{width:"100%",tableLayout:"fixed"}},0===(null===(m=d.pendingSalesOrder)||void 0===m?void 0:m.length)?l.a.createElement(l.a.Fragment,null):l.a.createElement("thead",{className:"bg-gray-300"},l.a.createElement("tr",null,l.a.createElement("th",null,"Date"),l.a.createElement("th",{scope:"col"},"Item Name"),l.a.createElement("th",{scope:"col"},"Total Quantity"),l.a.createElement("th",{scope:"col"},"Rate"),l.a.createElement("th",{scope:"col"},"Pending Quantity"),l.a.createElement("th",{scope:"col"},"Quantity Loaded"))),l.a.createElement("tbody",null,null===(u=d.pendingSalesOrder)||void 0===u?void 0:u.filter((function(e){return!d.genes||e.genes===d.genes})).map((function(e,t){return l.a.createElement("tr",{key:t},l.a.createElement("td",null,P()(new Date(e.date)).format("DD-MMMM-YYYY")),l.a.createElement("td",{className:"text-uppercase"},e.genes),l.a.createElement("td",{className:"text-capitalize"},e.quantity," ",e.unit),l.a.createElement("td",{className:"text-capitalize"},e.rate),l.a.createElement("td",{className:"text-capitalize"},e.pending?e.pending-d.pendingSalesOrder[t].quantity_loaded:0," ",e.unit),l.a.createElement("td",{className:"text-capitalize"},l.a.createElement("div",{className:"input-group"},l.a.createElement(ge.a,{"data-key":e.id,value:d.pendingSalesOrder[t].quantity_loaded,name:"pendingSalesOrder[".concat(t,"].quantity_loaded"),type:"text",placeholder:"Quantity",onChange:b,onBlur:v,isInvalid:p.pendingSalesOrder&&h.pendingSalesOrder&&p.pendingSalesOrder[t]&&h.pendingSalesOrder[t]&&p.pendingSalesOrder[t].quantity_loaded&&h.pendingSalesOrder[t].quantity_loaded}),l.a.createElement("div",{className:"input-group-append"},l.a.createElement("span",{className:"input-group-text",style:{height:"34px",borderTopLeftRadius:"0rem",borderBottomLeftRadius:"0rem"}},e.unit)))))}))))))))})))}}]),a}(n.Component),Va=_e.object().shape({loading_obj:_e.number().required(),unload_to:_e.string().required(),date:_e.string().required(),quantity:_e.string().required(),frieght:_e.number().optional(),advance_frieght:_e.number().optional(),remarks:_e.string().optional(),pendingSalesOrder:_e.array().of(_e.object().shape({broker:_e.string().optional().nullable(),broker_name:_e.string().optional().nullable(),condition:_e.string().optional().nullable(),date:_e.string().optional(),genes:_e.string().optional(),id:_e.string().optional(),party:_e.string().optional(),party_name:_e.string().optional(),pending:_e.number().optional(),purchase_type:_e.string().optional(),quantity:_e.number().optional(),rate:_e.number().optional(),remarks:_e.string().optional().nullable(),unit:_e.string().optional(),quantity_loaded:_e.number().optional().nullable().test("max","Total should not exceed 100 %",(function(e){var t=this.parent.pending;return void 0===e||e<=t}))}))}),Ua=Object(o.g)(Ya),Ka=function(e){Object(b.a)(a,e);var t=Object(v.a)(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={loadedOrder:[],shouldShowConfirmationDialog:!1,loading:!1},e}return Object(h.a)(a,[{key:"toggleAccordion",value:function(e){document.getElementById("button"+e).click()}},{key:"componentDidMount",value:function(){var e=Object(le.a)(ne.a.mark((function e(){var t=this;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),e.next=3,Pa().then((function(e){t.setState({loadedOrder:e.data})}));case 3:this.setState({loading:!1});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state.loadedOrder;return l.a.createElement("div",{className:"invoice-viewer"},l.a.createElement("h3",null,"Pending for unloading"),!1===this.state.loading&&0===t.length?l.a.createElement("h1",{style:{}},"You are all done!!"):l.a.createElement(l.a.Fragment,null),t.map((function(t){return l.a.createElement("div",{className:"mt-4 ms-2 me-2 mb-4",key:t.id},l.a.createElement(za.a,{className:"ul-card__border-radius card border-0 card"},l.a.createElement("div",{className:"card card-body"},L()?l.a.createElement(l.a.Fragment,null,l.a.createElement("table",{className:"table",style:{marginBottom:"0rem",borderColor:"white"}},l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("th",{className:"card-title"},"Date"),l.a.createElement("td",{className:"card-title"},t.date)),l.a.createElement("tr",null,l.a.createElement("th",{className:"card-title"},"Load From"),l.a.createElement("td",{className:"card-title"},t.loading_from_name)),l.a.createElement("tr",null,l.a.createElement("th",{className:"card-title"},"Truck"),l.a.createElement("td",{className:"card-title"},t.vehicle_number)),l.a.createElement("tr",null,l.a.createElement("th",{className:"card-title"},"Genes"),l.a.createElement("td",{className:"card-title"},t.genes)))),l.a.createElement(Ga,{eventKey:3,Tag:"span",id:"button"+t.id,className:"btn btn-primary collapsed cursor-pointer"},"Unload \xa0 ",l.a.createElement("i",{className:"i-Arrow-Down-2 t-font-boldest"}))):l.a.createElement("table",{className:"table",style:{marginBottom:"0rem",borderColor:"white",width:"100%"}},l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("th",{style:{fontSize:"0.9rem",width:"5%"}},"Date"),l.a.createElement("td",{style:{fontSize:"0.9rem",width:"11%"}},P()(new Date(t.date)).format("DD-MMM-YYYY")),l.a.createElement("th",{style:{fontSize:"0.9rem",width:"5%"}},"Genes"),l.a.createElement("td",{style:{fontSize:"0.9rem",width:"11%"}},t.genes),l.a.createElement("th",{style:{fontSize:"0.9rem",width:"12%"}},"Loaded From"),l.a.createElement("td",{style:{fontSize:"0.9rem",width:"10%"}},t.loading_from_name),l.a.createElement("th",{style:{fontSize:"0.9rem",width:"15%"}},"Vehicle Number"),l.a.createElement("td",{style:{fontSize:"0.9rem",width:"20%"}},t.vehicle_number),l.a.createElement("td",null,l.a.createElement(Ga,{eventKey:3,Tag:"button",id:"button"+t.id,className:"btn btn-primary collapsed"},"Unload"))))),l.a.createElement(za.a.Collapse,{eventKey:3,unmountOnExit:!0,mountOnEnter:!0},l.a.createElement(Ua,{id:e.props.match.params.id,item:t,onClick:function(t){e.toggleAccordion(t)}})))))})))}}]),a}(n.Component);function Ga(e){var t=e.children,a=e.eventKey,n=e.Tag,r=e.className,i=e.id,s=Object(Fa.b)(a,(function(){return console.log("totally custom!")}));return l.a.createElement(n,{onClick:s,className:r,id:i,style:{boxShadow:"0px 0px 0px 0px #663399"}},t)}n.Component;var Qa=[{path:"/orders/unload/list",component:function(e){Object(b.a)(a,e);var t=Object(v.a)(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={companyList:[],shouldShowConfirmationDialog:!1},e.handeViewClick=function(t){e.props.history.push("/orders/broker/".concat(t))},e.handleDeleteInvoice=function(t){Ta(t).then((function(t){Ae.a.fire({title:"Deleted!",text:"Your file has been deleted.",type:"success",icon:"success",timer:1500}),e.setState({companyList:t.data,shouldShowConfirmationDialog:!1})}))},e.handleDialogClose=function(){e.setState({shouldShowConfirmationDialog:!1})},e}return Object(h.a)(a,[{key:"componentDidMount",value:function(){var e=this;re.a.get("/api/orders/broker-list/all").then((function(t){return e.setState({companyList:t.data})}))}},{key:"render",value:function(){var e=this,t=this.state.companyList;return l.a.createElement(Be.a,null,l.a.createElement(Ie.a,null,l.a.createElement(ee.a,{elevation:6,className:"invoice-details w-100 overflow-auto"},l.a.createElement("div",{className:"row mt-4 ms-3 me-3 mb-2 justify-content-between"},l.a.createElement("div",{className:"col-md-2"},l.a.createElement("h4",{className:"fw-bold"},"Broker List")),l.a.createElement("div",{className:"col-md-2"},l.a.createElement("div",{className:"justify-content-end"},l.a.createElement("div",{className:"mb-4"},l.a.createElement(B.a,{to:"/orders/broker/create"},l.a.createElement(te.a,{className:"mb-3",variant:"primary"},"Add Broker"))))),l.a.createElement(Le.a,{style:{minWidth:750}},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",{className:"pl-sm-24"},"Broker Name"),l.a.createElement("th",{className:"px-0"},"Contact Number"),l.a.createElement("th",{className:"px-0"},"Email"),l.a.createElement("th",{className:"px-0"},"Brokerage"),l.a.createElement("th",{className:"px-0"},"Action"))),l.a.createElement("tbody",null,t.map((function(t,a){return l.a.createElement("tr",{key:t.id},l.a.createElement("td",{className:"pl-sm-24 capitalize",align:"left"},t.name),l.a.createElement("td",{className:"pl-0 capitalize",align:"left"},t.contact_number),l.a.createElement("td",{className:"pl-0 capitalize",align:"left"},t.email),l.a.createElement("td",{className:"pl-0 capitalize",align:"left"},t.brokerage),l.a.createElement("td",{className:"pl-0"},l.a.createElement("i",{className:"i-Arrow-Right mr-4 font-weight-900 text-primary cursor-pointer",onClick:function(){return e.handeViewClick(t.id)}}),l.a.createElement("i",{className:"i-Folder-Trash font-weight-900 text-danger cursor-pointer",onClick:function(){Ae.a.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",type:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!",cancelButtonText:"No"}).then((function(a){a.value&&e.handleDeleteInvoice(t.id)}))}})))}))))))))}}]),a}(n.Component)},{path:"/orders/unload/create",component:Ka},{path:"/orders/unload/:id",component:Ua}],Wa=[{path:"/",exact:!0,component:function(){return l.a.createElement(o.a,{to:"/invoice/invoice/create"})}}],Za=[{component:function(){return l.a.createElement(o.a,{to:"/session/404"})}}],Ha=[].concat(Object(u.a)(d),[{path:"/",component:X,routes:[].concat(Object(u.a)(ze),Object(u.a)(Je),Object(u.a)(ut),Object(u.a)(kt),Object(u.a)(ea),Object(u.a)(Ba),Object(u.a)(Qa),Object(u.a)(Lt),Object(u.a)(ga),Wa,Za)}]),$a=a(295),Ja=a(115),Xa=a(128),en={success:!1,loading:!1,error:{username:null,password:null}},tn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:en,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Xa.b:return Object(j.a)(Object(j.a)({},e),{},{loading:!0});case Xa.c:case Xa.d:return Object(j.a)(Object(j.a)({},e),{},{success:!0,loading:!1});case Xa.a:return{success:!1,loading:!1,error:t.data};default:return e}},an={},nn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:an,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O.b:return Object(j.a)(Object(j.a)({},e),t.data);case O.a:return Object(j.a)({},e);case O.c:default:return e}},ln={activeLayout:"layout2",dir:"ltr",layout2Settings:{leftSidebar:{theme:"sidebar-gradient-steel-gray"},header:{show:!0},searchBox:{open:!1},secondarySidebar:{show:!0}},customizer:{show:!1,open:!1},footer:{show:!1}},rn={settings:Object(j.a)({},ln),defaultSettings:Object(j.a)({},ln)},sn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LAYOUT_SET_SETTINGS":return Object(j.a)(Object(j.a)({},e),{},{settings:Object(j.a)({},t.data)});case"LAYOUT_SET_DEFAULT_SETTINGS":return Object(j.a)(Object(j.a)({},e),{},{defaultSettings:Object(j.a)({},t.data)});default:return Object(j.a)({},e)}},on=(a(26),{}),cn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:on,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_ALL_MEMBERS":return Object(j.a)(Object(j.a)({},e),{},{memberList:Object(u.a)(t.payload)});case"GET_ALL_LABELS":return Object(j.a)(Object(j.a)({},e),{},{labelList:Object(u.a)(t.payload)});case"GET_ALL_BOARD":case"ADD_BOARD":return Object(j.a)(Object(j.a)({},e),{},{boardList:Object(u.a)(t.payload)});case"GET_BOARD_BY_ID":case"ADD_MEMBER_IN_BOARD":case"DELETE_MEMBER_FROM_BOARD":case"ADD_LIST":case"RENAME_LIST":case"DELETE_LIST":case"REORDER_LIST":case"ADD_CARD":case"UPDATE_CARD":case"REORDER_CARD_LIST":case"MOVE_CARD":return Object(j.a)(Object(j.a)({},e),{},{board:Object(j.a)({},t.payload)});default:return e}},mn=[],un=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_NOTIFICATION":case"CREATE_NOTIFICATION":case"DELETE_NOTIFICATION":case"DELETE_ALL_NOTIFICATION":return Object(u.a)(t.payload);default:return Object(u.a)(e)}},dn={productList:[],cartList:[]},pn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_PRODUCT_LIST":return Object(j.a)(Object(j.a)({},e),{},{productList:Object(u.a)(t.payload)});case"GET_CATEGORY_LIST":return Object(j.a)(Object(j.a)({},e),{},{categoryList:Object(u.a)(t.payload)});case"GET_RATING_LIST":return Object(j.a)(Object(j.a)({},e),{},{ratingList:Object(u.a)(t.payload)});case"GET_BRAND_LIST":return Object(j.a)(Object(j.a)({},e),{},{brandList:Object(u.a)(t.payload)});case"GET_CART_LIST":case"ADD_PRODUCT_TO_CART":case"DELETE_PRODUCT_FROM_CART":case"UPDATE_CART_AMOUNT":return Object(j.a)(Object(j.a)({},e),{},{cartList:Object(u.a)(t.payload)});default:return Object(j.a)({},e)}},hn=Object(Ja.b)({login:tn,user:nn,layout:sn,scrumboard:cn,notification:un,ecommerce:pn}),bn=[$a.a];var vn=Object(Ja.d)(hn,{},Object(Ja.c)(Ja.a.apply(void 0,bn),(function(e){return e}))),gn=a(104),En=function(e){Object(b.a)(a,e);var t=Object(v.a)(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).state={},n.checkJwtAuth=function(){gn.a.loginWithToken().then((function(e){void 0===e&&n.props.logoutUser(),n.props.setUserData(e)}))},n.props.setUserData($.a.getItem("auth_user")),n.checkJwtAuth(),n}return Object(h.a)(a,[{key:"render",value:function(){var e=this.props.children;return l.a.createElement(n.Fragment,null,e)}}]),a}(n.Component),fn=Object(s.b)((function(e){return{setUserData:g.PropTypes.func.isRequired,logoutUser:g.PropTypes.func.isRequired,login:e.login}}),{setUserData:O.e,logoutUser:O.d})(En);var yn=function(){return l.a.createElement(c.Provider,{value:{routes:Ha}},l.a.createElement(s.a,{store:vn},l.a.createElement(fn,null,l.a.createElement(n.Suspense,{fallback:l.a.createElement(Y,null)},l.a.createElement(o.c,{history:m.a},Object(N.a)(Ha))))))},Nn=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function kn(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}i.a.render(l.a.createElement(yn,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="http://skrkmk.in/static/service-worker.js";Nn?(!function(e,t){fetch(e).then((function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):kn(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):kn(t,e)}))}}()},71:function(e,t,a){"use strict";var n=a(6),l=a(7),r=function(){function e(){Object(n.a)(this,e),this.ls=window.localStorage}return Object(l.a)(e,[{key:"setItem",value:function(e,t){return t=JSON.stringify(t),this.ls.setItem(e,t),!0}},{key:"getItem",value:function(e){var t=this.ls.getItem(e);try{return JSON.parse(t)}catch(a){return null}}}]),e}();t.a=new r}},[[300,1,2]]]);
//# sourceMappingURL=main.b825fdcc.chunk.js.map